webpackJsonp([10,4,63],{177:function(e,t,n){var i,r;i=[n(3),n(68),n(81),n(34),n(169),n(39),n(499),n(642),n(636),n(554),n(681),n(637),n(638),n(639),n(640),n(641)],r=function(e,t,n,i,r,s,o,a){var l=a.loadVideojsLocale;e.widget("ud.videojsReady",{options:{downloadApiUrl:"",lectureId:null,userId:null,countryId:"",cdn:null,windowProxy:null,videojsSetup:{},exitFullscreenOnComplete:!0,thumbnail:null,udApi:null,udApiStat:null,autofocus:!1},videoPlayer:null,container:null,errorDisplay:null,numErrors:0,_timeCreated:0,_timeSeekStarted:0,_bytes:0,_playerPromise:null,_create:function(){var t=this;this._playerPromise=new Promise(function(n,r){l(function(){t._timeCreated=Date.now(),e.extend(t.options,t.element.data()),t.element.on("contextmenu",function(e){e.preventDefault()}),t._applyUserSettings(),t._useNativeControlsForMobile(),t._emulateTextTracksForDesktop(),o.options.flash.swf=i.toJs("bower_components/video.js/dist/video-js.swf"),t.videoPlayer=o(t.element.attr("id"),t.options.videojsSetup),t.videoPlayer.ready(t._ready.bind(t)),t.videoPlayer.on("userinactive",t._userInactive.bind(t)),t.videoPlayer.on("error",t._error.bind(t)),t.videoPlayer.on("fullscreenchange",t._fullscreen.bind(t)),t.videoPlayer.on("play",t._play.bind(t)),t.videoPlayer.on("pause",t._pause.bind(t)),t.videoPlayer.on("changeRes",t._qualityChange.bind(t)),t.videoPlayer.on("ratechange",t._playbackRateChange.bind(t)),t.videoPlayer.textTracks()&&t.videoPlayer.textTracks().on("change",t._captionChange.bind(t)),t.videoPlayer.on("seeking",t._seeking.bind(t)),t.videoPlayer.on("seeked",t._seeked.bind(t)),t.videoPlayer.on("volumechange",t._volumeChange.bind(t)),t.videoPlayer.on("ended",t._complete.bind(t)),t.videoPlayer.on("seekforward",t._seekForwardRewindHandler.bind(t)),t.videoPlayer.on("seekrewind",t._seekForwardRewindHandler.bind(t)),t.videoPlayer.one("play",t._firstPlay.bind(t)),t.videoPlayer.one("error",t._revealPlayer.bind(t)),n(t.videoPlayer)})})},getPlayerPromise:function(){return this._playerPromise},_destroy:function(){this.videoPlayer.dispose()},_ready:function(){this.container=e(this.videoPlayer.el()),this._changeCaptionsOffLabel(),this.videoPlayer.techName_&&this.videoPlayer.poster(this.options.thumbnail),this.videoPlayer.on("downloadlecture",this._downloadLecture.bind(this)),this.options.lectureId&&(e(window).on("gotoposition_"+this.options.lectureId,this._goToPosition.bind(this)),e.event.trigger("lecturecontentready_"+this.options.lectureId)),this._trackingCallback({type:"viewed",mode:this.videoPlayer.techName_}),this._initializePlayerSettings(),this.errorDisplay=this.container.find(".vjs-error-display").eq(0),this.errorDisplay.on("click",function(){e(this).css("display","none")}),this._revealPlayer(),this.options.autofocus&&this.videoPlayer.el().focus()},_applyUserSettings:function(){var t=this.options.videojsSetup.plugins||{};t.resolutionSelector&&(t.resolutionSelector.defaultRes=[e.cookie(this._getResolutionCookieKey()),t.resolutionSelector.defaultRes].join(","))},_useNativeControlsForMobile:function(){this._detectMobile()&&(this.options.videojsSetup.nativeControlsForTouch=!0)},_emulateTextTracksForDesktop:function(){this._detectMobile()||(this.options.videojsSetup.html5={nativeTextTracks:!1})},_detectMobile:function(){return o.browser.IS_ANDROID||o.browser.IS_IOS},_changeCaptionsOffLabel:function(){for(var e=this.videoPlayer.controlBar.captionsButton,t=e?e.menu.children():[],n=0;n<t.length;n++)"captions off"===t[n].options_.label&&(t[n].el().innerText=this.videoPlayer.localize("Off"))},_initializePlayerSettings:function(){var t=Number(e.cookie("volume")||"0.5");t>=0&&t<=1&&this.videoPlayer.techName_&&this.videoPlayer.volume(t);var n=Number(e.cookie("mute")||"0");n&&this.videoPlayer.muted(!0);for(var i=e.cookie("caption"),r=this.videoPlayer.textTracks()||[],s=0;s<r.length;s++)if(r[s].language===i){r[s].mode="showing",r.trigger("change");break}"Html5"===this.videoPlayer.techName_&&this._setInitialPlayBackRate()},_setInitialPlayBackRate:function(){var t=this.videoPlayer.playbackRate(),n=Number(e.cookie("playbackspeed")),i=this.options.videojsSetup.playbackRates||[];i.indexOf(n)===-1&&(n=t),t===n&&this._trackingCallback({type:"playbackrate",speed:t}),this.videoPlayer.one("canplaythrough",function(){this.videoPlayer.playbackRate(n),this.videoPlayer.trigger("ratechange")}.bind(this))},_revealPlayer:function(){e(this.videoPlayer.el()).next().fadeOut(100)},_goToPosition:function(e,t){this.videoPlayer.currentTime(t.position)},_error:function(t){var n=this.videoPlayer.error()||{};if("undefined"!=typeof n.code){n.message===this.videoPlayer.localize(this.videoPlayer.options_.notSupportedMessage)&&(n.code=1052);var i=5,r="Html5"===this.videoPlayer.techName_;if(n.code===n.MEDIA_ERR_DECODE&&r)this._retryWithFlash(n);else if(n.code===n.MEDIA_ERR_NETWORK&&this.numErrors<i)this._retry(n);else if(n.code===n.MEDIA_ERR_SRC_NOT_SUPPORTED&&this.numErrors<i)this._retry(n);else if(n.code===n.MEDIA_ERR_SRC_NOT_SUPPORTED&&r)this._retryWithFlash(n);else{if(1052===n.code||this.numErrors>=i){var s=e("#download");s.find("#download-video").off("click").on("click",this._downloadLecture.bind(this)),s.css("visibility","visible")}this.errorDisplay&&this.errorDisplay.css("display","block"),this._logError(n)}}},_retry:function(e){this.numErrors+=1,setTimeout(function(){this.videoPlayer.src(this.videoPlayer.options_.sources)}.bind(this),500*this.numErrors*this.numErrors),this._logError(e,"videoplayer.error.retry")},_retryWithFlash:function(e){this.videoPlayer.options_.techOrder=["flash"],this.videoPlayer.src(this.videoPlayer.options_.sources),this._logError(e,"videoplayer.error.retryflash")},_logError:function(e,t){var n={cdn:this.options.cdn,retries:this.numErrors,code:e.code,tech:this.videoPlayer.techName_};this._debug1052(e,n),t=t||"videoplayer.error",r.increment(t,n),n.message=e.message,n.lectureId=this.options.lectureId,n.userId=this.options.userId,r.trackPageEvent("pageview","sitewide",n),this._trackingCallback({type:"error"})},_getBrowser:function(){var e;return o.browser.IS_CHROME?"chrome":o.browser.IS_FIREFOX?"firefox":o.browser.IS_ANDROID?"android":o.browser.IS_IOS?"ios":(e=window.navigator.userAgent.toLowerCase(),/safari/.test(e)?"safari":e.indexOf("msie ")>0||/trident/.test(e)?"ie":"other")},_getPlatform:function(){var e=window.navigator.platform.toLowerCase();return e.indexOf("win")!==-1?"windows":e.indexOf("mac")!==-1?"mac":e.indexOf("linux")!==-1?"linux":"other"},_debug1052:function(e,t){var n,i,r,s,a,l,c;if(1052===e.code)try{for(c=["Html5","Flash"],t.browser=this._getBrowser(),t.platform=this._getPlatform(),i=0;i<c.length;i++)if(l=c[i],a=o.getComponent(l))if(t[l+"Exists"]=1,"Html5"===l?a.TEST_VID.canPlayType&&a.TEST_VID.canPlayType("video/mp4")?t.Html5CanPlayMP4=2:a.TEST_VID.canPlayType?t.Html5CanPlayMP4=1:t.Html5CanPlayMP4=0:"Flash"===l&&(t.FlashVersion=a.version()[0]),a.isSupported()){for(t[l+"Supported"]=1,n=0,r=0;r<this.videoPlayer.options_.sources.length;r++)s=this.videoPlayer.options_.sources[r],a.canPlaySource(s)&&(n=1);t[l+"CanPlay"]=n}else t[l+"Supported"]=0;else t[l+"Exists"]=0;t.debugSuccess=1}catch(u){t.debugSuccess=0}},_firstPlay:function(){r.increment("udemy-video-player.viewed",{cdn:this.options.cdn}),this._logTiming("videoplayer.timing.start",this._timeCreated),window.parent.$(window.parent.document).trigger("videoStarted")},_getBandwidthBucket:function(e){var t,n=[0,1e3,2e3,3e3,5e3,7500,15e4,3e5,5e5];for(t=0;t<n.length&&!(e<n[t]);t++);return t},_getBytes:function(){if(this.videoPlayer.tech_){var e=this.videoPlayer.tech_.el();return e.webkitAudioDecodedByteCount+e.webkitVideoDecodedByteCount}},_trackingCallback:function(e){e.player="videojs",e.mode=e.mode||this.videoPlayer.techName_,e.isHotkeyPressed=this.videoPlayer.isHotkeyPressed&&this.videoPlayer.isHotkeyPressed();var t={event:"player_event_tracking",data:e};this.options.windowProxy&&this.options.windowProxy.postMessage(JSON.stringify(t)),this.videoPlayer.resetHotkeyPressed&&this.videoPlayer.resetHotkeyPressed()},_logTiming:function(e,t){var n=Date.now()-t,i={};this.options.countryId&&(i.country=this.options.countryId),i.time=n>3e5?1:0,i.resolution=this.videoPlayer.getCurrentRes();var s=this._getBytes()-this._bytes,o=s/n;o&&(i.bandwidth=this._getBandwidthBucket(o)),i.cdn=this.options.cdn,i.tech=this.videoPlayer.techName_,r.timing(e,n,i)},_fullscreen:function(){this._trackingCallback({type:"fullscreenchange",isFullscreen:this.videoPlayer.isFullscreen()})},_play:function(){this._trackingCallback({type:"play"})},_pause:function(){this._trackingCallback({type:"pause"})},_captionChange:function(){var e,t=!1,n=this.videoPlayer.textTracks()||[];for(e=0;e<n.length;e++)if("showing"===n[e].mode){t=!0;break}var i=t?n[e].language:"";this._setUserPlayerSetting("caption",i),this._trackingCallback({type:"captionstrackchange",caption:t?"on":"off"})},_qualityChange:function(){var e=this.videoPlayer.getCurrentRes();this._setUserPlayerSetting(this._getResolutionCookieKey(),e),this._trackingCallback({type:"qualityChange",quality:e})},_seeked:function(){this._trackingCallback({type:"seek"}),this._logTiming("videoplayer.timing.seek",this._timeSeekStarted)},_seeking:function(){this._timeSeekStarted=Date.now(),this._bytes=this._getBytes()},_playbackRateChange:function(){var e=this.videoPlayer.playbackRate();this._setUserPlayerSetting("playbackspeed",e),this._trackingCallback({type:"playbackrate",speed:e})},_userInactive:function(e,t){this._trackingCallback({type:"userinactive"})},_volumeChange:function(){var e=Math.round(100*this.videoPlayer.volume())/100;this._setUserPlayerSetting("volume",e),this._setUserPlayerSetting("mute",this.videoPlayer.muted()?"1":"0"),this._trackingCallback({type:"volume"})},_onDownloadSuccess:function(t){if(t.asset.download_urls){for(var n=t.asset.download_urls.Video||t.asset.download_urls.Audio,i=n[n.length-1].file,r=this.videoPlayer.getCurrentRes(),s=0;s<n.length;s++)if("download"===n[s].label&&(i=n[s].file),n[s].label===r){i=n[s].file;break}e("body").append('<iframe src="'+i+'" style="display: none;"></iframe>')}},_downloadLecture:function(){this.options.downloadApiUrl&&(s.call(this.options.downloadApiUrl.replace("api-2.0/",""),{type:"GET",data:{fields:{lecture:"asset",asset:"download_urls"}},success:this._onDownloadSuccess.bind(this)}),this._trackingCallback({type:"downloadlecture"}))},_complete:function(){var e=function(e){this.options.exitFullscreenOnComplete&&this.videoPlayer.isFullscreen()?(this.videoPlayer.on("fullscreenchange",function(){this.videoPlayer.isFullscreen()||(this.videoPlayer.off("fullscreenchange"),e())}.bind(this)),this.videoPlayer.exitFullscreen()):e()}.bind(this);e(function(){this.options.windowProxy&&this.options.windowProxy.postMessage(JSON.stringify({event:this.options.autoLoadNextEvent,data:{}}))}.bind(this))},_seekForwardRewindHandler:function(e){this._trackingCallback({type:e.type,data:e.interval})},_getResolutionCookieKey:function(){return"level3"===this.options.cdn?"hlsresolution":"resolution"},_setUserPlayerSetting:function(t,n){e.cookie(t,n,{expires:30,path:"/"})}})}.apply(t,i),!(void 0!==r&&(e.exports=r))},193:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i){e.mapping=[],e.mapping["send-asset-ready"]=i.getString("Lecture ready emails"),e.mapping["daily-discussions-digest"]=i.getString("Daily Q&A digest"),e.mapping["new-course-announcement"]=i.getString("New announcement emails"),e.mapping["new-course-promotion"]=i.getString("Promotional emails"),e.studentEventMapping={"new-course-announcement":"settings educational-announcement-toggle","new-course-promotion":"settings promotional-announcement-toggle"},e.updateCourseSetting=function(){e.disabled||(e.settingValue=!e.settingValue,e.studentEventMapping[e.settingKey]&&t.$emit("courseEmailSettingChanged",{value:e.studentEventMapping[e.settingKey]}),n.save({course_id:e.courseId},{setting:e.settingKey,value:e.settingValue?"on":"off"}))}}function s(){return{controller:r,restrict:"E",replace:!0,scope:{disabled:"=",courseId:"=",settingKey:"=",settingValue:"="},templateUrl:m["default"],link:function(e){e.settingText=e.mapping[e.settingKey]}}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),l=n(33),c=i(l),u=n(175),d=i(u),h=n(12),p=i(h),f=n(821),m=i(f),g=a["default"].module("directives.settings.emailSettingDirective",[p["default"].name,d["default"].name]).directive("emailSetting",s).config(c["default"]);r.$inject=["$scope","$rootScope","UserCourseSettings","gettextCatalog"],t["default"]=g},223:function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){e.strictMode(!1)}function s(e){e.otherwise("/overview")}function o(t,n){t.state("base",{url:"","abstract":!0,template:"<ui-view/>",controller:"CourseController",resolve:{initCurriculumService:["Curriculum","CurrentCourse","ViewMode",function(t,n,i){i.isFreePreviewer&&e("body").addClass("is-preview"),t.init(n.id,n.content_length_video)}]}}).state("base.dashboard",{url:"?show_review_popup&show_reminders_popup","abstract":!0,templateUrl:V["default"],controller:"DashboardController"}).state("base.dashboard.overview",{url:"/overview",templateUrl:Q["default"],controller:"OverviewController",data:{tabName:"Overview"}}).state("base.dashboard.content",{url:"/content",templateUrl:N["default"],controller:"ContentController",data:{tabName:"Course Content"}}).state("base.dashboard.questions",{url:"/questions?num_replies",templateUrl:Z["default"],controller:"QuestionsController",data:{tabName:"Q&A"}}).state("base.dashboard.question-details",{url:"/questions/:id",controller:"QuestionDetailsController",templateUrl:ie["default"],data:{tabName:"Q&A"}}).state("base.dashboard.bookmarks",{url:"/bookmarks",template:"<bookmarks-list></bookmarks-list>",data:{tabName:"Bookmarks"}}).state("base.dashboard.announcements",{url:"/announcements?ids,preview_announcement_title,preview_announcement_content,preview_announcement",templateUrl:O["default"],controller:"AnnouncementsController",data:{tabName:"Announcements"}}).state("base.taking",{url:"/t","abstract":!0,templateUrl:M["default"],controller:"CourseTakingController"}).state("base.taking.lecture",{url:"/lecture/:id",templateUrl:de["default"],controller:"LectureViewController",data:{objectType:"lecture"}}).state("base.taking.lecture.start",{url:"?start"}).state("base.taking.interstitial_v2",{params:{id:"",type:null},templateUrl:ae["default"],controller:"InterstitialV2Controller"}).state("base.taking.review",{params:{courseId:"",curriculumItem:null},templateUrl:_e["default"],controller:"ReviewPromptController"}).state("base.taking.chapter",{url:"/chapter/:id",controller:["$state","$stateParams","curriculumService",function(e,t,n){var i,r,s;for(r in n.sections)if(r=Number(r),Number(n.sections[r].id)===Number(t.id))break;for(;!s;){if(i=n.sections[r],!i)return;s=i.items[0],r+=1}return e.go("base.taking."+s.type,{id:s.id})}]}).state("base.taking.quiz",{url:"/quiz/:id",controller:"QuizViewController",templateUrl:ve["default"]})}function a(e){e.decorator("$exceptionHandler",["$delegate",function(e){return function(t,n){d["default"].captureException(t),e(t,n)}}])}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),c=i(l);n(121),n(509);var u=n(512),d=i(u),h=n(33),p=i(h),f=n(168),m=i(f),g=n(847),v=i(g),y=n(678),b=i(y),w=n(12),_=i(w);n(14);var C=n(945),k=i(C),A=n(946),E=i(A),S=n(947),x=i(S),T=n(514),F=i(T),$=n(555),D=i($),B=n(1223),M=i(B),P=n(953),L=i(P),j=n(1231),O=i(j),R=n(954),I=i(R),q=n(1232),N=i(q),U=n(955),z=i(U),H=n(1233),V=i(H),W=n(956),G=i(W),K=n(1236),Q=i(K),X=n(958),Y=i(X),J=n(1238),Z=i(J),ee=n(957),te=i(ee),ne=n(1237),ie=i(ne),re=n(959),se=i(re),oe=n(1241),ae=i(oe),le=n(963),ce=i(le),ue=n(1251),de=i(ue),he=n(968),pe=i(he),fe=n(980),me=i(fe),ge=n(1274),ve=i(ge),ye=n(992),be=i(ye),we=n(1277),_e=i(we),Ce=n(741),ke=i(Ce),Ae=n(522),Ee=i(Ae);n(806);var Se=c["default"].module("apps.courseTakingV4",["ui.router","ngAnimate",_["default"].name,pe["default"].name,b["default"].name,m["default"].name,v["default"].name,me["default"].name,be["default"].name,D["default"].name,Ee["default"].name,ke["default"].name,x["default"].name,E["default"].name,z["default"].name,I["default"].name,G["default"].name,L["default"].name,Y["default"].name,te["default"].name,se["default"].name,L["default"].name,k["default"].name,F["default"].name,ce["default"].name]).config(["$urlMatcherFactoryProvider",r]).config(["$urlRouterProvider",s]).config(["$stateProvider","NG_APPS_URL",o]).config(p["default"]).config(["$provide",a]).run(["$rootScope","$location","$state","Mobile",function(e,t,n,i){e.$on("$stateChangeStart",function(e,n,i,r,s){Se.locationSearch=c["default"].copy(t.search()),""!==r.name&&delete Se.locationSearch.start}),e.$on("$stateChangeSuccess",function(e,n,i,r,s){var o=c["default"].extend({},Se.locationSearch,t.search());""!==r.name&&delete o.ids,c["default"].equals(o,t.search())||t.search(o).replace()})}]);t["default"]=Se}).call(t,n(3))},498:function(e,t,n){var i,r;i=[n,n(3),n(40),n(11)],r=function(e,t,i,r){function s(e,n,i){i||(i="outside-error-msg");var r,s,o,a,l=t("<span>",{"class":"error-msg inside-error-msg",text:"required"}),c=t("<div>",{"class":"form-tooltip black-tooltip medium arrow-left error-msg "+i}),u=t("<span>",{"class":"arrow"});if(e)for(r in e)s=e[r],r=t.camelCase(r.replace(/_/gi,"-")),a=n.find("#form-item-"+r+" > .tooltip-reference"),o=a.find("[id^="+r+"],[id^=id_"+r+"],[udid="+r+"]"),a.addClass("field-error"),s||!o.is('input[type="text"]')&&!o.is("textarea")?s&&a.append(c.clone().html(s).append(u.clone())):a.append(l.clone())}var o={};o.Date={parseYearWeek:function(e){var t=Math.floor(e/100),n=e%100,i=new Date(t,0,1),r=i.getDate()+7*(n-1)-i.getDay();return i.setDate(r<1?r+7:r),i}},o.Array={pivotize:function(e,t,n,i,r){var s,o,a,l,c={},u=[],d=[],h=[],p="",f=function(e){return e.match(/^-{0,1}\d*\.{0,1}\d+$/)?"#"+e:e};for(l=0;l<e.length;l++)o=e[l],s=c[o[t]],"undefined"==typeof s&&(a={},a[t]=o[t],h.push(a),s=h.length-1,c[o[t]]=s),p=f(o[n]),u.indexOf(p)===-1&&u.push(p),h[s][p]=o[i];for(l=0;l<h.length;l++){d[l]={},d[l][t]=h[l][t];for(var m=0;m<u.length;m++)p=u[m],"undefined"==typeof h[l][p]?d[l][p]=r:d[l][p]=h[l][p]}return d}},o.Object={merge:function l(e,t,n,i){n=n!==!1,e=n?this.clone(e):e;var r,s;for(var o in t)if(r=e[o],s=t[o],!i||void 0===r)if("object"!=typeof r||r instanceof Array||r instanceof RegExp||null===r)if(r instanceof Array&&s instanceof Array)for(var a=0,c=s.length;a<c;++a)r[a]=s[a];else"object"!=typeof s||s instanceof Array||s instanceof RegExp||null===s?e[o]=s:e[o]=this.clone(s);else"object"!=typeof s||s instanceof Array||s instanceof RegExp||null===s?e[o]=s:e[o]=l.call(this,r,s,n,i);return e},getFieldsArray:function(e){var t=[];for(var n in e)t.push(n);return t},exclusiveMerge:function(e,t,n){return this.merge(e,t,n,!0)},deepMergeWithArrayMerge:function c(e){e=r.clone(e);for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach(function(t){for(var n in t)r.isArray(e[n])&&r.isArray(t[n])?e[n]=r.union(e[n],t[n]):r.isObject(e[n])&&r.isObject(t[n])?e[n]=c(r.clone(e[n]),t[n]):e[n]=t[n]}),e},clone:function u(e){var t,n={};for(var i in e)t=e[i],t instanceof Array?n[i]=t.concat():t instanceof RegExp?n[i]=new RegExp(t.source,String(t).slice(String(t).lastIndexOf("/")+1)):void 0===t||null===t?n[i]=t:"object"==typeof t?n[i]=u.call(this,t):n[i]=t;return n}},o.connect=function(e,t,n,i){if(void 0!==e&&null!==e||(e=function(){}),2==arguments.length?(n=t,t=null):3==arguments.length&&(i=n,n=t,t="__context__"),e&&e.__connectedFunctions)return e.__connectedFunctions.push({func:n,context:i}),e;var r=function s(){t="__context__"==t?this:t;for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];if(e&&e.apply(t,i),s.__connectedFunctions)for(var o,a=0;a<s.__connectedFunctions.length;a++)o=s.__connectedFunctions[a],o.func.apply(o.context,i)};return r.__connectedFunctions=[{func:n,context:i}],r},o.getFileExtension=function(e){var t=e.match(/\.([^\.\/]+)$/);return t.length>=2?t[1]:null},o.parseLinkHeader=function(e){for(var t,n={},i=/<\s*"?(.*?)"?\s*>\s*;\s*rel\s*=\s*"(\w+)"/gi;null!==(t=i.exec(e));)n[t[2]]=t[1];return n},o.MessageType={info:"info",error:"error"},o.Feedback={fromText:function(e,i){i=i||o.MessageType.info,e&&n.e(74,function(r){n(423),t("body>div.feedbacks-bar").remove(),t("body").prepend(t("<div>",{"class":"feedbacks-bar ud-page","data-page-name":"feedbacks-bar"}).append(t("<div>",{"class":"feedback-bar feedback-type-"+i}).append(t("<div>",{"class":"feedback-container"}).append(t("<p>",{"class":"message",html:e}))))),t(".feedbacks-bar").ud_page()})},fromObj:function(e){e&&o.Feedback.fromText(e.message,e.type)},fromJqXHR:function(e,t,n){"function"==typeof n.getResponseHeader?o.Feedback.fromText(n.getResponseHeader("X-UI-Message"),n.getResponseHeader("X-UI-Message-Type")):"function"==typeof e.getResponseHeader&&o.Feedback.fromText(e.getResponseHeader("X-UI-Message"),e.getResponseHeader("X-UI-Message-Type"))}};var a={formError:".js-form-error"};return o.Form={fillErrors:function(e,n){var i,r=e.find(a.formError),o=n.responseJSON||n,l=o.detail?o.detail.error:o.error;l&&(this.resetErrors(e),l.details?(i=l.details,i.error&&(r.html(i.error),r.removeClass("none")),t.isEmptyObject(i.invalid_items)||s(i.invalid_items,e),t.isEmptyObject(i.invalidItems)||s(i.invalidItems,e),t.isEmptyObject(i.warning_items)||s(i.warning_items,e,"outside-warning-msg"),t.isEmptyObject(i.warningItems)||s(i.warningItems,e,"outside-warning-msg")):l.message&&(r.html(l.message),r.removeClass("none")))},resetErrors:function(e){var t=e.find(a.formError);t.addClass("none"),t.empty(),e.find(".error-msg").remove(),e.find(".field-error").removeClass("field-error")}},o.PubSub={__bus:t({}),subscribe:function(){var e;(e=this.__bus).on.apply(e,arguments)},unsubscribe:function(){var e;(e=this.__bus).off.apply(e,arguments)},publish:function(){var e;(e=this.__bus).trigger.apply(e,arguments)}},o}.apply(t,i),!(void 0!==r&&(e.exports=r))},499:function(e,t,n){(function(t){(function(){var n=!1;/**
	 * @license
	 * Video.js 5.0.0 <http://videojs.com/>
	 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
	 * Available under Apache License Version 2.0
	 * <https://github.com/videojs/video.js/blob/master/LICENSE>
	 *
	 * Includes vtt.js <https://github.com/mozilla/vtt.js>
	 * Available under Apache License Version 2.0
	 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
	 */
!function(t){e.exports=t()}(function(){var e;return function i(e,t,r){function s(a,l){if(!t[a]){if(!e[a]){var c="function"==typeof n&&n;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=t[a]={exports:{}};e[a][0].call(d.exports,function(t){var n=e[a][1][t];return s(n?n:t)},d,d.exports,i,e,t,r)}return t[a].exports}for(var o="function"==typeof n&&n,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(e,n,i){(function(t){var i="undefined"!=typeof t?t:"undefined"!=typeof window?window:{},r=e("min-document");if("undefined"!=typeof document)n.exports=document;else{var s=i["__GLOBAL_DOCUMENT_CACHE@4"];s||(s=i["__GLOBAL_DOCUMENT_CACHE@4"]=r),n.exports=s}}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":3}],2:[function(e,n,i){(function(e){"undefined"!=typeof window?n.exports=window:"undefined"!=typeof e?n.exports=e:"undefined"!=typeof self?n.exports=self:n.exports={}}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){},{}],4:[function(e,t,n){var i=e("../internal/getNative"),r=i(Date,"now"),s=r||function(){return(new Date).getTime()};t.exports=s},{"../internal/getNative":20}],5:[function(e,t,n){function i(e,t,n){function i(){v&&clearTimeout(v),p&&clearTimeout(p),b=0,p=v=y=void 0}function l(t,n){n&&clearTimeout(n),p=v=y=void 0,t&&(b=s(),f=e.apply(g,h),v||p||(h=g=void 0))}function c(){var e=t-(s()-m);e<=0||e>t?l(y,p):v=setTimeout(c,e)}function u(){l(_,v)}function d(){if(h=arguments,m=s(),g=this,y=_&&(v||!C),w===!1)var n=C&&!v;else{p||C||(b=m);var i=w-(m-b),r=i<=0||i>w;r?(p&&(p=clearTimeout(p)),b=m,f=e.apply(g,h)):p||(p=setTimeout(u,i))}return r&&v?v=clearTimeout(v):v||t===w||(v=setTimeout(c,t)),n&&(r=!0,f=e.apply(g,h)),!r||v||p||(h=g=void 0),f}var h,p,f,m,g,v,y,b=0,w=!1,_=!0;if("function"!=typeof e)throw new TypeError(o);if(t=t<0?0:+t||0,n===!0){var C=!0;_=!1}else r(n)&&(C=!!n.leading,w="maxWait"in n&&a(+n.maxWait||0,t),_="trailing"in n?!!n.trailing:_);return d.cancel=i,d}var r=e("../lang/isObject"),s=e("../date/now"),o="Expected a function",a=Math.max;t.exports=i},{"../date/now":4,"../lang/isObject":33}],6:[function(e,t,n){function i(e,t){if("function"!=typeof e)throw new TypeError(r);return t=s(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,r=s(n.length-t,0),o=Array(r);++i<r;)o[i]=n[t+i];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Array(t+1);for(i=-1;++i<t;)a[i]=n[i];return a[t]=o,e.apply(this,a)}}var r="Expected a function",s=Math.max;t.exports=i},{}],7:[function(e,t,n){function i(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(o);return n===!1?i=!1:s(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:+t,trailing:a})}var r=e("./debounce"),s=e("../lang/isObject"),o="Expected a function";t.exports=i},{"../lang/isObject":33,"./debounce":5}],8:[function(e,t,n){function i(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}t.exports=i},{}],9:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}t.exports=i},{}],10:[function(e,t,n){function i(e,t,n){n||(n={});for(var i=-1,r=t.length;++i<r;){var s=t[i];n[s]=e[s]}return n}t.exports=i},{}],11:[function(e,t,n){var i=e("./createBaseFor"),r=i();t.exports=r},{"./createBaseFor":18}],12:[function(e,t,n){function i(e,t){return r(e,t,s)}var r=e("./baseFor"),s=e("../object/keysIn");t.exports=i},{"../object/keysIn":39,"./baseFor":11}],13:[function(e,t,n){function i(e,t,n,h,p){if(!l(e))return e;var f=a(t)&&(o(t)||u(t)),m=f?void 0:d(t);return r(m||t,function(r,o){if(m&&(o=r,r=t[o]),c(r))h||(h=[]),p||(p=[]),s(e,t,o,i,n,h,p);else{var a=e[o],l=n?n(a,r,o,e,t):void 0,u=void 0===l;u&&(l=r),void 0===l&&(!f||o in e)||!u&&(l===l?l===a:a!==a)||(e[o]=l)}}),e}var r=e("./arrayEach"),s=e("./baseMergeDeep"),o=e("../lang/isArray"),a=e("./isArrayLike"),l=e("../lang/isObject"),c=e("./isObjectLike"),u=e("../lang/isTypedArray"),d=e("../object/keys");t.exports=i},{"../lang/isArray":30,"../lang/isObject":33,"../lang/isTypedArray":36,"../object/keys":38,"./arrayEach":9,"./baseMergeDeep":14,"./isArrayLike":21,"./isObjectLike":26}],14:[function(e,t,n){function i(e,t,n,i,d,h,p){for(var f=h.length,m=t[n];f--;)if(h[f]==m)return void(e[n]=p[f]);var g=e[n],v=d?d(g,m,n,e,t):void 0,y=void 0===v;y&&(v=m,a(m)&&(o(m)||c(m))?v=o(g)?g:a(g)?r(g):[]:l(m)||s(m)?v=s(g)?u(g):l(g)?g:{}:y=!1),h.push(m),p.push(v),y?e[n]=i(v,m,d,h,p):(v===v?v!==g:g===g)&&(e[n]=v)}var r=e("./arrayCopy"),s=e("../lang/isArguments"),o=e("../lang/isArray"),a=e("./isArrayLike"),l=e("../lang/isPlainObject"),c=e("../lang/isTypedArray"),u=e("../lang/toPlainObject");t.exports=i},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isPlainObject":34,"../lang/isTypedArray":36,"../lang/toPlainObject":37,"./arrayCopy":8,"./isArrayLike":21}],15:[function(e,t,n){function i(e){return function(t){return null==t?void 0:r(t)[e]}}var r=e("./toObject");t.exports=i},{"./toObject":28}],16:[function(e,t,n){function i(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,s){return e.call(t,n,i,r,s)};case 5:return function(n,i,r,s,o){return e.call(t,n,i,r,s,o)}}return function(){return e.apply(t,arguments)}}var r=e("../utility/identity");t.exports=i},{"../utility/identity":42}],17:[function(e,t,n){function i(e){return o(function(t,n){var i=-1,o=null==t?0:n.length,a=o>2?n[o-2]:void 0,l=o>2?n[2]:void 0,c=o>1?n[o-1]:void 0;for("function"==typeof a?(a=r(a,c,5),o-=2):(a="function"==typeof c?c:void 0,o-=a?1:0),l&&s(n[0],n[1],l)&&(a=o<3?void 0:a,o=1);++i<o;){var u=n[i];u&&e(t,u,a)}return t})}var r=e("./bindCallback"),s=e("./isIterateeCall"),o=e("../function/restParam");t.exports=i},{"../function/restParam":6,"./bindCallback":16,"./isIterateeCall":24}],18:[function(e,t,n){function i(e){return function(t,n,i){for(var s=r(t),o=i(t),a=o.length,l=e?a:-1;e?l--:++l<a;){var c=o[l];if(n(s[c],c,s)===!1)break}return t}}var r=e("./toObject");t.exports=i},{"./toObject":28}],19:[function(e,t,n){var i=e("./baseProperty"),r=i("length");t.exports=r},{"./baseProperty":15}],20:[function(e,t,n){function i(e,t){var n=null==e?void 0:e[t];return r(n)?n:void 0}var r=e("../lang/isNative");t.exports=i},{"../lang/isNative":32}],21:[function(e,t,n){function i(e){return null!=e&&s(r(e))}var r=e("./getLength"),s=e("./isLength");t.exports=i},{"./getLength":19,"./isLength":25}],22:[function(e,t,n){var i=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}();t.exports=i},{}],23:[function(e,t,n){function i(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?s:t,e>-1&&e%1==0&&e<t}var r=/^\d+$/,s=9007199254740991;t.exports=i},{}],24:[function(e,t,n){function i(e,t,n){if(!o(n))return!1;var i=typeof t;if("number"==i?r(n)&&s(t,n.length):"string"==i&&t in n){var a=n[t];return e===e?e===a:a!==a}return!1}var r=e("./isArrayLike"),s=e("./isIndex"),o=e("../lang/isObject");t.exports=i},{"../lang/isObject":33,"./isArrayLike":21,"./isIndex":23}],25:[function(e,t,n){function i(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;t.exports=i},{}],26:[function(e,t,n){function i(e){return!!e&&"object"==typeof e}t.exports=i},{}],27:[function(e,t,n){function i(e){for(var t=c(e),n=t.length,i=n&&e.length,u=!!i&&a(i)&&(s(e)||r(e)||l(e)),h=-1,p=[];++h<n;){var f=t[h];(u&&o(f,i)||d.call(e,f))&&p.push(f)}return p}var r=e("../lang/isArguments"),s=e("../lang/isArray"),o=e("./isIndex"),a=e("./isLength"),l=e("../lang/isString"),c=e("../object/keysIn"),u=Object.prototype,d=u.hasOwnProperty;t.exports=i},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isString":35,"../object/keysIn":39,"./isIndex":23,"./isLength":25}],28:[function(e,t,n){function i(e){if(o.unindexedChars&&s(e)){for(var t=-1,n=e.length,i=Object(e);++t<n;)i[t]=e.charAt(t);return i}return r(e)?e:Object(e)}var r=e("../lang/isObject"),s=e("../lang/isString"),o=e("../support");t.exports=i},{"../lang/isObject":33,"../lang/isString":35,"../support":41}],29:[function(e,t,n){function i(e){return s(e)&&r(e)&&a.call(e,"callee")&&!l.call(e,"callee")}var r=e("../internal/isArrayLike"),s=e("../internal/isObjectLike"),o=Object.prototype,a=o.hasOwnProperty,l=o.propertyIsEnumerable;t.exports=i},{"../internal/isArrayLike":21,"../internal/isObjectLike":26}],30:[function(e,t,n){var i=e("../internal/getNative"),r=e("../internal/isLength"),s=e("../internal/isObjectLike"),o="[object Array]",a=Object.prototype,l=a.toString,c=i(Array,"isArray"),u=c||function(e){return s(e)&&r(e.length)&&l.call(e)==o};t.exports=u},{"../internal/getNative":20,"../internal/isLength":25,"../internal/isObjectLike":26}],31:[function(e,t,n){function i(e){return r(e)&&a.call(e)==s}var r=e("./isObject"),s="[object Function]",o=Object.prototype,a=o.toString;t.exports=i},{"./isObject":33}],32:[function(e,t,n){function i(e){return null!=e&&(r(e)?d.test(c.call(e)):o(e)&&(s(e)?d:a).test(e))}var r=e("./isFunction"),s=e("../internal/isHostObject"),o=e("../internal/isObjectLike"),a=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},{"../internal/isHostObject":22,"../internal/isObjectLike":26,"./isFunction":31}],33:[function(e,t,n){function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=i},{}],34:[function(e,t,n){function i(e){var t;if(!a(e)||h.call(e)!=c||o(e)||s(e)||!d.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return l.ownLast?(r(e,function(e,t,i){return n=d.call(i,t),!1}),n!==!1):(r(e,function(e,t){n=t}),void 0===n||d.call(e,n))}var r=e("../internal/baseForIn"),s=e("./isArguments"),o=e("../internal/isHostObject"),a=e("../internal/isObjectLike"),l=e("../support"),c="[object Object]",u=Object.prototype,d=u.hasOwnProperty,h=u.toString;t.exports=i},{"../internal/baseForIn":12,"../internal/isHostObject":22,"../internal/isObjectLike":26,"../support":41,"./isArguments":29}],35:[function(e,t,n){function i(e){return"string"==typeof e||r(e)&&a.call(e)==s}var r=e("../internal/isObjectLike"),s="[object String]",o=Object.prototype,a=o.toString;t.exports=i},{"../internal/isObjectLike":26}],36:[function(e,t,n){function i(e){return s(e)&&r(e.length)&&!!F[D.call(e)]}var r=e("../internal/isLength"),s=e("../internal/isObjectLike"),o="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",f="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object Float32Array]",_="[object Float64Array]",C="[object Int8Array]",k="[object Int16Array]",A="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",x="[object Uint16Array]",T="[object Uint32Array]",F={};F[w]=F[_]=F[C]=F[k]=F[A]=F[E]=F[S]=F[x]=F[T]=!0,F[o]=F[a]=F[b]=F[l]=F[c]=F[u]=F[d]=F[h]=F[p]=F[f]=F[m]=F[g]=F[v]=F[y]=!1;var $=Object.prototype,D=$.toString;t.exports=i},{"../internal/isLength":25,"../internal/isObjectLike":26}],37:[function(e,t,n){function i(e){return r(e,s(e))}var r=e("../internal/baseCopy"),s=e("../object/keysIn");t.exports=i},{"../internal/baseCopy":10,"../object/keysIn":39}],38:[function(e,t,n){var i=e("../internal/getNative"),r=e("../internal/isArrayLike"),s=e("../lang/isObject"),o=e("../internal/shimKeys"),a=e("../support"),l=i(Object,"keys"),c=l?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||("function"==typeof e?a.enumPrototypes:r(e))?o(e):s(e)?l(e):[]}:o;t.exports=c},{"../internal/getNative":20,"../internal/isArrayLike":21,"../internal/shimKeys":27,"../lang/isObject":33,"../support":41}],39:[function(e,t,n){function i(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&c(t)&&(o(e)||s(e)||d(e))&&t||0;for(var n=e.constructor,i=-1,r=a(n)&&n.prototype||A,p=r===e,f=Array(t),m=t>0,v=h.enumErrorProps&&(e===k||e instanceof Error),y=h.enumPrototypes&&a(e);++i<t;)f[i]=i+"";for(var w in e)y&&"prototype"==w||v&&("message"==w||"name"==w)||m&&l(w,t)||"constructor"==w&&(p||!S.call(e,w))||f.push(w);if(h.nonEnumShadows&&e!==A){var F=e===E?_:e===k?g:x.call(e),$=T[F]||T[b];for(F==b&&(r=A),t=C.length;t--;){w=C[t];var D=$[w];p&&D||(D?!S.call(e,w):e[w]===r[w])||f.push(w)}}return f}var r=e("../internal/arrayEach"),s=e("../lang/isArguments"),o=e("../lang/isArray"),a=e("../lang/isFunction"),l=e("../internal/isIndex"),c=e("../internal/isLength"),u=e("../lang/isObject"),d=e("../lang/isString"),h=e("../support"),p="[object Array]",f="[object Boolean]",m="[object Date]",g="[object Error]",v="[object Function]",y="[object Number]",b="[object Object]",w="[object RegExp]",_="[object String]",C=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],k=Error.prototype,A=Object.prototype,E=String.prototype,S=A.hasOwnProperty,x=A.toString,T={};T[p]=T[m]=T[y]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},T[f]=T[_]={constructor:!0,toString:!0,valueOf:!0},T[g]=T[v]=T[w]={constructor:!0,toString:!0},T[b]={constructor:!0},r(C,function(e){for(var t in T)if(S.call(T,t)){var n=T[t];n[e]=S.call(n,e)}}),t.exports=i},{"../internal/arrayEach":9,"../internal/isIndex":23,"../internal/isLength":25,"../lang/isArguments":29,"../lang/isArray":30,"../lang/isFunction":31,"../lang/isObject":33,"../lang/isString":35,"../support":41}],40:[function(e,t,n){var i=e("../internal/baseMerge"),r=e("../internal/createAssigner"),s=r(i);t.exports=s},{"../internal/baseMerge":13,"../internal/createAssigner":17}],41:[function(e,t,n){var i=Array.prototype,r=Error.prototype,s=Object.prototype,o=s.propertyIsEnumerable,a=i.splice,l={};!function(e){var t=function(){this.x=e},n={0:e,length:e},i=[];t.prototype={valueOf:e,y:e};for(var s in new t)i.push(s);l.enumErrorProps=o.call(r,"message")||o.call(r,"name"),l.enumPrototypes=o.call(t,"prototype"),l.nonEnumShadows=!/valueOf/.test(i),l.ownLast="x"!=i[0],l.spliceObjects=(a.call(n,0,1),!n[0]),l.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0),t.exports=l},{}],42:[function(e,t,n){function i(e){return e}t.exports=i},{}],43:[function(e,t,n){"use strict";var i=e("object-keys"),r=function(e){return"undefined"!=typeof e&&null!==e},s="function"==typeof Symbol&&"symbol"==typeof Symbol(),o=e("define-properties"),a=Object,l=Array.prototype.push,c=Object.prototype.propertyIsEnumerable,u=function(e,t){if(!r(e))throw new TypeError("target must be an object");var n,o,u,d,h,p=a(e);for(n=1;n<arguments.length;++n){if(o=a(arguments[n]),d=i(o),s&&Object.getOwnPropertySymbols)for(h=Object.getOwnPropertySymbols(o),u=0;u<h.length;++u)c.call(o,h[u])&&l.call(d,h[u]);for(u=0;u<d.length;++u)p[d[u]]=o[d[u]]}return p};o(u,{shim:function(){var e=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}};return o(Object,{assign:u},{assign:e}),Object.assign||u}}),t.exports=u},{"define-properties":44,"object-keys":46}],44:[function(e,t,n){"use strict";var i=e("object-keys"),r=e("foreach"),s="function"==typeof Symbol&&"symbol"==typeof Symbol(),o=Object.prototype.toString,a=function(e){return"function"==typeof e&&"[object Function]"===o.call(e)},l=function(){var e={};try{Object.defineProperty(e,"x",{value:e,enumerable:!1});for(var t in e)return!1;return e.x===e}catch(n){return!1}},c=Object.defineProperty&&l(),u=function(e,t,n,i){(!(t in e)||a(i)&&i())&&(c?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}):e[t]=n)},d=function(e,t){var n=arguments.length>2?arguments[2]:{},o=i(t);s&&(o=o.concat(Object.getOwnPropertySymbols(t))),r(o,function(i){u(e,i,t[i],n[i])})};d.supportsDescriptors=!!c,t.exports=d},{foreach:45,"object-keys":46}],45:[function(e,t,n){var i=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function(e,t,n){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var s=e.length;if(s===+s)for(var o=0;o<s;o++)t.call(n,e[o],o,e);else for(var a in e)i.call(e,a)&&t.call(n,e[a],a,e)}},{}],46:[function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,r=Object.prototype.toString,s=Array.prototype.slice,o=e("./isArguments"),a=!{toString:null}.propertyIsEnumerable("toString"),l=function(){}.propertyIsEnumerable("prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},d={$window:!0,$console:!0,$parent:!0,$self:!0,$frames:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)if(!d["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(t){return!0}return!1}(),p=function(e){if("undefined"==typeof window&&!h)return u(e);try{return u(e)}catch(t){return!1}},f=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===r.call(e),s=o(e),u=t&&"[object String]"===r.call(e),d=[];if(!t&&!n&&!s)throw new TypeError("Object.keys called on a non-object");var h=l&&n;if(u&&e.length>0&&!i.call(e,0))for(var f=0;f<e.length;++f)d.push(String(f));if(s&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var g in e)h&&"prototype"===g||!i.call(e,g)||d.push(String(g));if(a)for(var v=p(e),y=0;y<c.length;++y)v&&"constructor"===c[y]||!i.call(e,c[y])||d.push(c[y]);return d};f.shim=function(){if(Object.keys){var e=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!e){var t=Object.keys;Object.keys=function(e){return t(o(e)?s.call(e):e)}}}else Object.keys=f;return Object.keys||f},t.exports=f},{"./isArguments":47}],47:[function(e,t,n){"use strict";var i=Object.prototype.toString;t.exports=function(e){var t=i.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===i.call(e.callee)),n}},{}],48:[function(e,t,n){function i(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(r){i=r}return[i,n]}t.exports=i},{}],49:[function(e,t,n){function i(e){return e.replace(/\n\r?\s*/g,"")}t.exports=function(e){for(var t="",n=0;n<arguments.length;n++)t+=i(e[n])+(arguments[n+1]||"");return t}},{}],50:[function(e,t,n){"use strict";function i(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e,t){function n(){4===d.readyState&&c()}function s(){var e=void 0;if(d.response?e=d.response:"text"!==d.responseType&&d.responseType||(e=d.responseText||d.responseXML),w)try{e=JSON.parse(e)}catch(t){}return e}function o(e){clearTimeout(f),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,t(e,u)}function c(){if(!p){var n;clearTimeout(f),n=e.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var i=u,r=null;0!==n?(i={body:s(),statusCode:n,method:g,headers:{},url:m,rawRequest:d},d.getAllResponseHeaders&&(i.headers=l(d.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),t(r,i,i.body)}}var u={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:d};if("string"==typeof e&&(e={uri:e}),e=e||{},"undefined"==typeof t)throw new Error("callback argument missing");t=a(t);var d=e.xhr||null;d||(d=e.cors||e.useXDR?new r.XDomainRequest:new r.XMLHttpRequest);var h,p,f,m=d.url=e.uri||e.url,g=d.method=e.method||"GET",v=e.body||e.data,y=d.headers=e.headers||{},b=!!e.sync,w=!1;if("json"in e&&(w=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),v=JSON.stringify(e.json))),d.onreadystatechange=n,d.onload=c,d.onerror=o,d.onprogress=function(){},d.ontimeout=o,d.open(g,m,!b,e.username,e.password),b||(d.withCredentials=!!e.withCredentials),!b&&e.timeout>0&&(f=setTimeout(function(){p=!0,d.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",o(e)},e.timeout)),d.setRequestHeader)for(h in y)y.hasOwnProperty(h)&&d.setRequestHeader(h,y[h]);else if(e.headers&&!i(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(d.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(d),d.send(v),d}function s(){}var o=e("global/window"),a=e("once"),l=e("parse-headers");t.exports=r,r.XMLHttpRequest=o.XMLHttpRequest||s,r.XDomainRequest="withCredentials"in new r.XMLHttpRequest?r.XMLHttpRequest:o.XDomainRequest},{"global/window":2,once:51,"parse-headers":55}],51:[function(e,t,n){function i(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}t.exports=i,i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0})})},{}],52:[function(e,t,n){function i(e,t,n){if(!a(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===l.call(e)?r(e,t,n):"string"==typeof e?s(e,t,n):o(e,t,n)}function r(e,t,n){for(var i=0,r=e.length;i<r;i++)c.call(e,i)&&t.call(n,e[i],i,e)}function s(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e.charAt(i),i,e)}function o(e,t,n){for(var i in e)c.call(e,i)&&t.call(n,e[i],i,e)}var a=e("is-function");t.exports=i;var l=Object.prototype.toString,c=Object.prototype.hasOwnProperty},{"is-function":53}],53:[function(e,t,n){function i(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=i;var r=Object.prototype.toString},{}],54:[function(e,t,n){function i(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=i,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],55:[function(e,t,n){var i=e("trim"),r=e("for-each"),s=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return r(i(e).split("\n"),function(e){var n=e.indexOf(":"),r=i(e.slice(0,n)).toLowerCase(),o=i(e.slice(n+1));"undefined"==typeof t[r]?t[r]=o:s(t[r])?t[r].push(o):t[r]=[t[r],o]}),t}},{"for-each":52,trim:54}],56:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./button.js"),a=i(o),l=e("./component.js"),c=i(l),u=function(e){function t(n,i){r(this,t),e.call(this,n,i)}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(){this.player_.play()},t}(a["default"]);u.prototype.controlText_="Play Video",c["default"].registerComponent("BigPlayButton",u),n["default"]=u,t.exports=n["default"]},{"./button.js":57,"./component.js":58}],57:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./component"),l=r(a),c=e("./utils/dom.js"),u=i(c),d=e("./utils/events.js"),h=i(d),p=e("./utils/fn.js"),f=i(p),m=e("global/document"),g=r(m),v=e("object.assign"),y=r(v),b=function(e){function t(n,i){s(this,t),e.call(this,n,i),this.emitTapEvents(),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur)}return o(t,e),t.prototype.createEl=function(){var t=arguments.length<=0||void 0===arguments[0]?"button":arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];n=y["default"]({className:this.buildCSSClass(),tabIndex:0},n),i=y["default"]({role:"button",type:"button","aria-live":"polite"},i);var r=e.prototype.createEl.call(this,t,n,i);return this.controlTextEl_=u.createEl("span",{className:"vjs-control-text"}),r.appendChild(this.controlTextEl_),this.controlText(this.controlText_),r},t.prototype.controlText=function(e){return e?(this.controlText_=e,this.controlTextEl_.innerHTML=this.localize(this.controlText_),this):this.controlText_||"Need Text"},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){},t.prototype.handleFocus=function(){h.on(g["default"],"keydown",f.bind(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which||(e.preventDefault(),this.handleClick(e))},t.prototype.handleBlur=function(){h.off(g["default"],"keydown",f.bind(this,this.handleKeyPress))},t}(l["default"]);l["default"].registerComponent("Button",b),n["default"]=b,t.exports=n["default"]},{"./component":58,"./utils/dom.js":118,"./utils/events.js":119,"./utils/fn.js":120,"global/document":1,"object.assign":43}],58:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("global/window"),a=r(o),l=e("./utils/dom.js"),c=i(l),u=e("./utils/fn.js"),d=i(u),h=e("./utils/guid.js"),p=i(h),f=e("./utils/events.js"),m=i(f),g=e("./utils/log.js"),v=r(g),y=e("./utils/to-title-case.js"),b=r(y),w=e("object.assign"),_=r(w),C=e("./utils/merge-options.js"),k=r(C),A=function(){function e(t,n,i){if(s(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=k["default"]({},this.options_),n=this.options_=k["default"](this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var r=t&&t.id&&t.id()||"no_player";this.id_=r+"_component_"+p.newGUID()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},n.initChildren!==!1&&this.initChildren(),this.ready(i),n.reportTouchActivity!==!1&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),c.removeElData(this.el_),this.el_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return v["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=k["default"](this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return c.createEl(e,t,n)},e.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!t||!n)return e;var i=n[t];if(i&&i[e])return i[e];var r=t.split("-")[0],s=n[r];return s&&s[e]?s[e]:e},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){return this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=void 0,r=void 0;if("string"==typeof t){r=t,n||(n={}),n===!0&&(v["default"].warn("Initializing a child component with `true` is deprecated. Children should be defined in an array when possible, but if necessary use an object instead of `true`."),n={});var s=n.componentClass||b["default"](r);n.name=r;var o=e.getComponent(s);i=new o(this.player_||this,n)}else i=t;return this.children_.push(i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),r=r||i.name&&i.name(),r&&(this.childNameIndex_[r]=i),"function"==typeof i.el&&i.el()&&this.contentEl().appendChild(i.el()),i},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var e=this,t=this.options_.children;t&&!function(){var n=e.options_,i=function(t,i){void 0!==n[t]&&(i=n[t]),i!==!1&&(i===!0&&(i={}),i.playerOptions=e.options_.playerOptions,e[t]=e.addChild(t,i))};if(Array.isArray(t))for(var r=0;r<t.length;r++){var s=t[r],o=void 0,a=void 0;"string"==typeof s?(o=s,a={}):(o=s.name,a=s),i(o,a)}else Object.getOwnPropertyNames(t).forEach(function(e){i(e,t[e])})}()},e.prototype.buildCSSClass=function(){return""},e.prototype.on=function(e,t,n){var i=this;return"string"==typeof e||Array.isArray(e)?m.on(this.el_,e,d.bind(this,t)):!function(){var r=e,s=t,o=d.bind(i,n),a=function(){return i.off(r,s,o)};a.guid=o.guid,i.on("dispose",a);var l=function(){return i.off("dispose",a)};l.guid=o.guid,e.nodeName?(m.on(r,s,o),m.on(r,"dispose",l)):"function"==typeof e.on&&(r.on(s,o),r.on("dispose",l))}(),this},e.prototype.off=function(e,t,n){if(!e||"string"==typeof e||Array.isArray(e))m.off(this.el_,e,t);else{var i=e,r=t,s=d.bind(this,n);this.off("dispose",s),e.nodeName?(m.off(i,r,s),m.off(i,"dispose",s)):(i.off(r,s),i.off("dispose",s))}return this},e.prototype.one=function(e,t,n){var i=this,r=arguments;return"string"==typeof e||Array.isArray(e)?m.one(this.el_,e,d.bind(this,t)):!function(){var s=e,o=t,a=d.bind(i,n),l=function c(){i.off(s,o,c),a.apply(null,r)};l.guid=a.guid,i.on(s,o,l)}(),this},e.prototype.trigger=function(e,t){return m.trigger(this.el_,e,t),this},e.prototype.ready=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.hasClass=function(e){return c.hasElClass(this.el_,e)},e.prototype.addClass=function(e){return c.addElClass(this.el_,e),this},e.prototype.removeClass=function(e){return c.removeElClass(this.el_,e),this},e.prototype.show=function(){return this.removeClass("vjs-hidden"),this},e.prototype.hide=function(){return this.addClass("vjs-hidden"),this},e.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},e.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},e.prototype.width=function(e,t){return this.dimension("width",e,t);
},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},e.prototype.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t===t||(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[e]=t:"auto"===t?this.el_.style[e]="":this.el_.style[e]=t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var i=this.el_.style[e],r=i.indexOf("px");return r!==-1?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+b["default"](e)],10)},e.prototype.emitTapEvents=function(){var e=0,t=null,n=10,i=200,r=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t=_["default"]({},n.touches[0]),e=(new Date).getTime(),r=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)r=!1;else if(t){var i=e.touches[0].pageX-t.pageX,s=e.touches[0].pageY-t.pageY,o=Math.sqrt(i*i+s*s);o>n&&(r=!1)}});var s=function(){r=!1};this.on("touchleave",s),this.on("touchcancel",s),this.on("touchend",function(n){if(t=null,r===!0){var s=(new Date).getTime()-e;s<i&&(n.preventDefault(),this.trigger("tap"))}})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=d.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){e=d.bind(this,e);var n=a["default"].setTimeout(e,t),i=function(){this.clearTimeout(n)};return i.guid="vjs-timeout-"+n,this.on("dispose",i),n},e.prototype.clearTimeout=function(e){a["default"].clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=d.bind(this,e);var n=a["default"].setInterval(e,t),i=function(){this.clearInterval(n)};return i.guid="vjs-interval-"+n,this.on("dispose",i),n},e.prototype.clearInterval=function(e){a["default"].clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.registerComponent=function(t,n){return e.components_||(e.components_={}),e.components_[t]=n,n},e.getComponent=function(t){return e.components_&&e.components_[t]?e.components_[t]:a["default"]&&a["default"].videojs&&a["default"].videojs[t]?(v["default"].warn("The "+t+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),a["default"].videojs[t]):void 0},e.extend=function(t){t=t||{},v["default"].warn("Component.extend({}) has been deprecated, use videojs.extend(Component, {}) instead");var n=t.init||t.init||this.prototype.init||this.prototype.init||function(){},i=function(){n.apply(this,arguments)};i.prototype=Object.create(this.prototype),i.prototype.constructor=i,i.extend=e.extend;for(var r in t)t.hasOwnProperty(r)&&(i.prototype[r]=t[r]);return i},e}();A.registerComponent("Component",A),n["default"]=A,t.exports=n["default"]},{"./utils/dom.js":118,"./utils/events.js":119,"./utils/fn.js":120,"./utils/guid.js":122,"./utils/log.js":123,"./utils/merge-options.js":124,"./utils/to-title-case.js":127,"global/window":2,"object.assign":43}],59:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../component.js"),a=i(o),l=e("./play-toggle.js"),c=(i(l),e("./time-controls/current-time-display.js")),u=(i(c),e("./time-controls/duration-display.js")),d=(i(u),e("./time-controls/time-divider.js")),h=(i(d),e("./time-controls/remaining-time-display.js")),p=(i(h),e("./live-display.js")),f=(i(p),e("./progress-control/progress-control.js")),m=(i(f),e("./fullscreen-toggle.js")),g=(i(m),e("./volume-control/volume-control.js")),v=(i(g),e("./volume-menu-button.js")),y=(i(v),e("./mute-toggle.js")),b=(i(y),e("./text-track-controls/chapters-button.js")),w=(i(b),e("./text-track-controls/subtitles-button.js")),_=(i(w),e("./text-track-controls/captions-button.js")),C=(i(_),e("./playback-rate-menu/playback-rate-menu-button.js")),k=(i(C),e("./spacer-controls/custom-control-spacer.js")),A=(i(k),function(e){function t(){r(this,t),e.apply(this,arguments)}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar"})},t}(a["default"]));A.prototype.options_={loadEvent:"play",children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","subtitlesButton","captionsButton","fullscreenToggle"]},a["default"].registerComponent("ControlBar",A),n["default"]=A,t.exports=n["default"]},{"../component.js":58,"./fullscreen-toggle.js":60,"./live-display.js":61,"./mute-toggle.js":62,"./play-toggle.js":63,"./playback-rate-menu/playback-rate-menu-button.js":64,"./progress-control/progress-control.js":69,"./spacer-controls/custom-control-spacer.js":71,"./text-track-controls/captions-button.js":74,"./text-track-controls/chapters-button.js":75,"./text-track-controls/subtitles-button.js":78,"./time-controls/current-time-display.js":81,"./time-controls/duration-display.js":82,"./time-controls/remaining-time-display.js":83,"./time-controls/time-divider.js":84,"./volume-control/volume-control.js":86,"./volume-menu-button.js":88}],60:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../button.js"),a=i(o),l=e("../component.js"),c=i(l),u=function(e){function t(){r(this,t),e.apply(this,arguments)}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText("Fullscreen")):(this.player_.requestFullscreen(),this.controlText("Non-Fullscreen"))},t}(a["default"]);u.prototype.controlText_="Fullscreen",c["default"].registerComponent("FullscreenToggle",u),n["default"]=u,t.exports=n["default"]},{"../button.js":57,"../component.js":58}],61:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../component"),l=r(a),c=e("../utils/dom.js"),u=i(c),d=function(e){function t(n,i){s(this,t),e.call(this,n,i),this.updateShowing(),this.on(this.player(),"durationchange",this.updateShowing)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=u.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(){this.player().duration()===1/0?this.show():this.hide()},t}(l["default"]);l["default"].registerComponent("LiveDisplay",d),n["default"]=d,t.exports=n["default"]},{"../component":58,"../utils/dom.js":118}],62:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../button"),l=r(a),c=e("../component"),u=r(c),d=e("../utils/dom.js"),h=i(d),p=function(e){function t(n,i){s(this,t),e.call(this,n,i),this.on(n,"volumechange",this.update),n.tech_&&n.tech_.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(n,"loadstart",function(){this.update(),n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.muted(!this.player_.muted())},t.prototype.update=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);var n=this.player_.muted()?"Unmute":"Mute",i=this.localize(n);this.controlText()!==i&&this.controlText(i);for(var r=0;r<4;r++)h.removeElClass(this.el_,"vjs-vol-"+r);h.addElClass(this.el_,"vjs-vol-"+t)},t}(l["default"]);p.prototype.controlText_="Mute",u["default"].registerComponent("MuteToggle",p),n["default"]=p,t.exports=n["default"]},{"../button":57,"../component":58,"../utils/dom.js":118}],63:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../button.js"),a=i(o),l=e("../component.js"),c=i(l),u=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.on(n,"play",this.handlePlay),this.on(n,"pause",this.handlePause)}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t}(a["default"]);u.prototype.controlText_="Play",c["default"].registerComponent("PlayToggle",u),n["default"]=u,t.exports=n["default"]},{"../button.js":57,"../component.js":58}],64:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../menu/menu-button.js"),l=r(a),c=e("../../menu/menu.js"),u=r(c),d=e("./playback-rate-menu-item.js"),h=r(d),p=e("../../component.js"),f=r(p),m=e("../../utils/dom.js"),g=i(m),v=function(e){function t(n,i){s(this,t),e.call(this,n,i),this.updateVisibility(),this.updateLabel(),this.on(n,"loadstart",this.updateVisibility),this.on(n,"ratechange",this.updateLabel)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=g.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var e=new u["default"](this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new h["default"](this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(){for(var e=this.player().playbackRate(),t=this.playbackRates(),n=t[0],i=0;i<t.length;i++)if(t[i]>e){n=t[i];break}this.player().playbackRate(n)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(l["default"]);v.prototype.controlText_="Playback Rate",f["default"].registerComponent("PlaybackRateMenuButton",v),n["default"]=v,t.exports=n["default"]},{"../../component.js":58,"../../menu/menu-button.js":95,"../../menu/menu.js":97,"../../utils/dom.js":118,"./playback-rate-menu-item.js":65}],65:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../../menu/menu-item.js"),a=i(o),l=e("../../component.js"),c=i(l),u=function(e){function t(n,i){r(this,t);var s=i.rate,o=parseFloat(s,10);i.label=s,i.selected=1===o,e.call(this,n,i),this.label=s,this.rate=o,this.on(n,"ratechange",this.update)}return s(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},t}(a["default"]);u.prototype.contentElType="button",c["default"].registerComponent("PlaybackRateMenuItem",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":58,"../../menu/menu-item.js":96}],66:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),l=r(a),c=e("../../utils/dom.js"),u=i(c),d=function(e){function t(n,i){s(this,t),e.call(this,n,i),this.on(n,"progress",this.update)}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.update=function(){var e=this.player_.buffered(),t=this.player_.duration(),n=this.player_.bufferedEnd(),i=this.el_.children,r=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=r(n,t);for(var s=0;s<e.length;s++){var o=e.start(s),a=e.end(s),l=i[s];l||(l=this.el_.appendChild(u.createEl())),l.style.left=r(o,n),l.style.width=r(a-o,n)}for(var s=i.length;s>e.length;s--)this.el_.removeChild(i[s-1])},t}(l["default"]);l["default"].registerComponent("LoadProgressBar",d),n["default"]=d,t.exports=n["default"]},{"../../component.js":58,"../../utils/dom.js":118}],67:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),l=r(a),c=e("../../utils/dom.js"),u=i(c),d=e("../../utils/fn.js"),h=i(d),p=e("../../utils/format-time.js"),f=r(p),m=e("lodash-compat/function/throttle"),g=r(m),v=function(e){function t(n,i){var r=this;s(this,t),e.call(this,n,i),this.update(0,0),n.on("ready",function(){r.on(n.controlBar.progressControl.el(),"mousemove",g["default"](h.bind(r,r.handleMouseMove),25))})}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.handleMouseMove=function(e){var t=this.player_.duration(),n=this.calculateDistance(e)*t,i=e.pageX-u.findElPosition(this.el().parentNode).left;this.update(n,i)},t.prototype.update=function(e,t){var n=f["default"](e,this.player_.duration());this.el().style.left=t+"px",this.el().setAttribute("data-current-time",n)},t.prototype.calculateDistance=function(e){return u.getPointerPosition(this.el().parentNode,e).x},t}(l["default"]);l["default"].registerComponent("MouseTimeDisplay",v),n["default"]=v,t.exports=n["default"]},{"../../component.js":58,"../../utils/dom.js":118,"../../utils/fn.js":120,"../../utils/format-time.js":121,"lodash-compat/function/throttle":7}],68:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),l=r(a),c=e("../../utils/fn.js"),u=i(c),d=e("../../utils/format-time.js"),h=r(d),p=function(e){function t(n,i){s(this,t),e.call(this,n,i),this.updateDataAttr(),this.on(n,"timeupdate",this.updateDataAttr),n.ready(u.bind(this,this.updateDataAttr))}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.updateDataAttr=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",h["default"](e,this.player_.duration()))},t}(l["default"]);l["default"].registerComponent("PlayProgressBar",p),n["default"]=p,t.exports=n["default"]},{"../../component.js":58,"../../utils/fn.js":120,"../../utils/format-time.js":121}],69:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../../component.js"),a=i(o),l=e("./seek-bar.js"),c=(i(l),e("./mouse-time-display.js")),u=(i(c),function(e){function t(){r(this,t),e.apply(this,arguments)}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t}(a["default"]));u.prototype.options_={children:["seekBar"]},a["default"].registerComponent("ProgressControl",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":58,"./mouse-time-display.js":67,"./seek-bar.js":70}],70:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../slider/slider.js"),l=r(a),c=e("../../component.js"),u=r(c),d=e("./load-progress-bar.js"),h=(r(d),e("./play-progress-bar.js")),p=(r(h),e("../../utils/fn.js")),f=i(p),m=e("../../utils/format-time.js"),g=r(m),v=e("object.assign"),y=(r(v),function(e){function t(n,i){s(this,t),e.call(this,n,i),this.on(n,"timeupdate",this.updateARIAAttributes),n.ready(f.bind(this,this.updateARIAAttributes))}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"video progress bar"})},t.prototype.updateARIAAttributes=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),this.el_.setAttribute("aria-valuetext",g["default"](e,this.player_.duration()))},t.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){e.prototype.handleMouseDown.call(this,t),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t}(l["default"]));y.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},y.prototype.playerEvent="timeupdate",u["default"].registerComponent("SeekBar",y),n["default"]=y,t.exports=n["default"]},{"../../component.js":58,"../../slider/slider.js":102,"../../utils/fn.js":120,"../../utils/format-time.js":121,"./load-progress-bar.js":66,"./play-progress-bar.js":68,"object.assign":43}],71:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./spacer.js"),a=i(o),l=e("../../component.js"),c=i(l),u=function(e){function t(){r(this,t),e.apply(this,arguments)}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(a["default"]);c["default"].registerComponent("CustomControlSpacer",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":58,"./spacer.js":72}],72:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../../component.js"),a=i(o),l=function(e){function t(){r(this,t),e.apply(this,arguments)}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(a["default"]);a["default"].registerComponent("Spacer",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":58}],73:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./text-track-menu-item.js"),a=i(o),l=e("../../component.js"),c=i(l),u=function(e){function t(n,i){r(this,t),i.track={kind:i.kind,player:n,label:i.kind+" settings","default":!1,mode:"disabled"},e.call(this,n,i),this.addClass("vjs-texttrack-settings")}return s(t,e),t.prototype.handleClick=function(){this.player().getChild("textTrackSettings").show()},t}(a["default"]);c["default"].registerComponent("CaptionSettingsMenuItem",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":58,"./text-track-menu-item.js":80}],74:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./text-track-button.js"),a=i(o),l=e("../../component.js"),c=i(l),u=e("./caption-settings-menu-item.js"),d=i(u),h=function(e){function t(n,i,s){r(this,t),e.call(this,n,i,s),this.el_.setAttribute("aria-label","Captions Menu")}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(){var t=2;e.prototype.update.call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(t=1),this.items&&this.items.length>t?this.show():this.hide()},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||t.push(new d["default"](this.player_,{kind:this.kind_})),e.prototype.createItems.call(this,t)},t}(a["default"]);h.prototype.kind_="captions",h.prototype.controlText_="Captions",c["default"].registerComponent("CaptionsButton",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":58,"./caption-settings-menu-item.js":73,"./text-track-button.js":79}],75:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./text-track-button.js"),l=r(a),c=e("../../component.js"),u=r(c),d=e("./text-track-menu-item.js"),h=r(d),p=e("./chapters-track-menu-item.js"),f=r(p),m=e("../../menu/menu.js"),g=r(m),v=e("../../utils/dom.js"),y=i(v),b=e("../../utils/fn.js"),w=i(b),_=e("../../utils/to-title-case.js"),C=r(_),k=e("global/window"),A=r(k),E=function(e){function t(n,i,r){s(this,t),e.call(this,n,i,r),this.el_.setAttribute("aria-label","Chapters Menu")}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=[],t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var i=t[n];i.kind===this.kind_&&e.push(new h["default"](this.player_,{track:i}))}return e},t.prototype.createMenu=function(){for(var e=this.player_.textTracks()||[],t=void 0,n=this.items=[],i=0,r=e.length;i<r;i++){var s=e[i];if(s.kind===this.kind_){if(s.cues){t=s;break}s.mode="hidden",A["default"].setTimeout(w.bind(this,function(){this.createMenu()}),100)}}var o=this.menu;if(void 0===o&&(o=new g["default"](this.player_),o.contentEl().appendChild(y.createEl("li",{className:"vjs-menu-title",innerHTML:C["default"](this.kind_),tabIndex:-1}))),t){for(var a=t.cues,l=void 0,i=0,r=a.length;i<r;i++){l=a[i];var c=new f["default"](this.player_,{track:t,cue:l});n.push(c),o.addChild(c)}this.addChild(o)}return this.items.length>0&&this.show(),o},t}(l["default"]);E.prototype.kind_="chapters",E.prototype.controlText_="Chapters",u["default"].registerComponent("ChaptersButton",E),n["default"]=E,t.exports=n["default"]},{"../../component.js":58,"../../menu/menu.js":97,"../../utils/dom.js":118,"../../utils/fn.js":120,"../../utils/to-title-case.js":127,"./chapters-track-menu-item.js":76,"./text-track-button.js":79,"./text-track-menu-item.js":80,"global/window":2}],76:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../menu/menu-item.js"),l=r(a),c=e("../../component.js"),u=r(c),d=e("../../utils/fn.js"),h=i(d),p=function(e){
function t(n,i){s(this,t);var r=i.track,o=i.cue,a=n.currentTime();i.label=o.text,i.selected=o.startTime<=a&&a<o.endTime,e.call(this,n,i),this.track=r,this.cue=o,r.addEventListener("cuechange",h.bind(this,this.update))}return o(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)},t}(l["default"]);u["default"].registerComponent("ChaptersTrackMenuItem",p),n["default"]=p,t.exports=n["default"]},{"../../component.js":58,"../../menu/menu-item.js":96,"../../utils/fn.js":120}],77:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./text-track-menu-item.js"),a=i(o),l=e("../../component.js"),c=i(l),u=function(e){function t(n,i){r(this,t),i.track={kind:i.kind,player:n,label:i.kind+" off","default":!1,mode:"disabled"},e.call(this,n,i),this.selected(!0)}return s(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var s=t[i];if(s.kind===this.track.kind&&"showing"===s.mode){n=!1;break}}this.selected(n)},t}(a["default"]);c["default"].registerComponent("OffTextTrackMenuItem",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":58,"./text-track-menu-item.js":80}],78:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./text-track-button.js"),a=i(o),l=e("../../component.js"),c=i(l),u=function(e){function t(n,i,s){r(this,t),e.call(this,n,i,s),this.el_.setAttribute("aria-label","Subtitles Menu")}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t}(a["default"]);u.prototype.kind_="subtitles",u.prototype.controlText_="Subtitles",c["default"].registerComponent("SubtitlesButton",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":58,"./text-track-button.js":79}],79:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../menu/menu-button.js"),l=r(a),c=e("../../component.js"),u=r(c),d=e("../../utils/fn.js"),h=i(d),p=e("./text-track-menu-item.js"),f=r(p),m=e("./off-text-track-menu-item.js"),g=r(m),v=function(e){function t(n,i){s(this,t),e.call(this,n,i);var r=this.player_.textTracks();if(this.items.length<=1&&this.hide(),r){var o=h.bind(this,this.update);r.addEventListener("removetrack",o),r.addEventListener("addtrack",o),this.player_.on("dispose",function(){r.removeEventListener("removetrack",o),r.removeEventListener("addtrack",o)})}}return o(t,e),t.prototype.createItems=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];e.push(new g["default"](this.player_,{kind:this.kind_}));var t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var i=t[n];i.kind===this.kind_&&e.push(new f["default"](this.player_,{track:i}))}return e},t}(l["default"]);u["default"].registerComponent("TextTrackButton",v),n["default"]=v,t.exports=n["default"]},{"../../component.js":58,"../../menu/menu-button.js":95,"../../utils/fn.js":120,"./off-text-track-menu-item.js":77,"./text-track-menu-item.js":80}],80:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../menu/menu-item.js"),l=r(a),c=e("../../component.js"),u=r(c),d=e("../../utils/fn.js"),h=i(d),p=e("global/window"),f=r(p),m=e("global/document"),g=r(m),v=function(e){function t(n,i){var r=this;s(this,t);var o=i.track,a=n.textTracks();i.label=o.label||o.language||"Unknown",i.selected=o["default"]||"showing"===o.mode,e.call(this,n,i),this.track=o,a&&!function(){var e=h.bind(r,r.handleTracksChange);a.addEventListener("change",e),r.on("dispose",function(){a.removeEventListener("change",e)})}(),a&&void 0===a.onchange&&!function(){var e=void 0;r.on(["tap","click"],function(){if("object"!=typeof f["default"].Event)try{e=new f["default"].Event("change")}catch(t){}e||(e=g["default"].createEvent("Event"),e.initEvent("change",!0,!0)),a.dispatchEvent(e)})}()}return o(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,i=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),i)for(var r=0;r<i.length;r++){var s=i[r];s.kind===n&&(s===this.track?s.mode="showing":s.mode="disabled")}},t.prototype.handleTracksChange=function(e){this.selected("showing"===this.track.mode)},t}(l["default"]);u["default"].registerComponent("TextTrackMenuItem",v),n["default"]=v,t.exports=n["default"]},{"../../component.js":58,"../../menu/menu-item.js":96,"../../utils/fn.js":120,"global/document":1,"global/window":2}],81:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),l=r(a),c=e("../../utils/dom.js"),u=i(c),d=e("../../utils/format-time.js"),h=r(d),p=function(e){function t(n,i){s(this,t),e.call(this,n,i),this.on(n,"timeupdate",this.updateContent)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=u.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=this.localize("Current Time"),n=h["default"](e,this.player_.duration());this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> "+n},t}(l["default"]);l["default"].registerComponent("CurrentTimeDisplay",p),n["default"]=p,t.exports=n["default"]},{"../../component.js":58,"../../utils/dom.js":118,"../../utils/format-time.js":121}],82:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),l=r(a),c=e("../../utils/dom.js"),u=i(c),d=e("../../utils/format-time.js"),h=r(d),p=function(e){function t(n,i){s(this,t),e.call(this,n,i),this.on(n,"timeupdate",this.updateContent),this.on(n,"loadedmetadata",this.updateContent)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=u.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var e=this.player_.duration();if(e){var t=this.localize("Duration Time"),n=h["default"](e);this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> "+n}},t}(l["default"]);l["default"].registerComponent("DurationDisplay",p),n["default"]=p,t.exports=n["default"]},{"../../component.js":58,"../../utils/dom.js":118,"../../utils/format-time.js":121}],83:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),l=r(a),c=e("../../utils/dom.js"),u=i(c),d=e("../../utils/format-time.js"),h=r(d),p=function(e){function t(n,i){s(this,t),e.call(this,n,i),this.on(n,"timeupdate",this.updateContent)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=u.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){if(this.player_.duration()){var e=this.localize("Remaining Time"),t=h["default"](this.player_.remainingTime());this.contentEl_.innerHTML='<span class="vjs-control-text">'+e+"</span> -"+t}},t}(l["default"]);l["default"].registerComponent("RemainingTimeDisplay",p),n["default"]=p,t.exports=n["default"]},{"../../component.js":58,"../../utils/dom.js":118,"../../utils/format-time.js":121}],84:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../../component.js"),a=i(o),l=function(e){function t(){r(this,t),e.apply(this,arguments)}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(a["default"]);a["default"].registerComponent("TimeDivider",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":58}],85:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../slider/slider.js"),l=r(a),c=e("../../component.js"),u=r(c),d=e("../../utils/fn.js"),h=i(d),p=e("./volume-level.js"),f=(r(p),function(e){function t(n,i){s(this,t),e.call(this,n,i),this.on(n,"volumechange",this.updateARIAAttributes),n.ready(h.bind(this,this.updateARIAAttributes))}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},t.prototype.handleMouseMove=function(e){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(e))},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(){var e=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},t}(l["default"]));f.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},f.prototype.playerEvent="volumechange",u["default"].registerComponent("VolumeBar",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":58,"../../slider/slider.js":102,"../../utils/fn.js":120,"./volume-level.js":87}],86:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../../component.js"),a=i(o),l=e("./volume-bar.js"),c=(i(l),function(e){function t(n,i){r(this,t),e.call(this,n,i),n.tech_&&n.tech_.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(n,"loadstart",function(){n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},t}(a["default"]));c.prototype.options_={children:["volumeBar"]},a["default"].registerComponent("VolumeControl",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":58,"./volume-bar.js":85}],87:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../../component.js"),a=i(o),l=function(e){function t(){r(this,t),e.apply(this,arguments)}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(a["default"]);a["default"].registerComponent("VolumeLevel",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":58}],88:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../button.js"),a=(i(o),e("../component.js")),l=i(a),c=e("../menu/menu.js"),u=i(c),d=e("../menu/menu-button.js"),h=i(d),p=e("./mute-toggle.js"),f=i(p),m=e("./volume-control/volume-bar.js"),g=i(m),v=function(e){function t(n){function i(){n.tech_&&n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,t),void 0===s.inline&&(s.inline=!0),void 0===s.vertical&&(s.inline?s.vertical=!1:s.vertical=!0),s.volumeBar=s.volumeBar||{},s.volumeBar.vertical=!!s.vertical,e.call(this,n,s),this.on(n,"volumechange",this.volumeUpdate),this.on(n,"loadstart",this.volumeUpdate),i.call(this),this.on(n,"loadstart",i),this.on(this.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),this.on(this.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")})}return s(t,e),t.prototype.buildCSSClass=function(){var t="";return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+t},t.prototype.createMenu=function(){var e=new u["default"](this.player_,{contentElType:"div"}),t=new g["default"](this.player_,this.options_.volumeBar);return e.addChild(t),this.volumeBar=t,e},t.prototype.handleClick=function(){f["default"].prototype.handleClick.call(this),e.prototype.handleClick.call(this)},t}(h["default"]);v.prototype.volumeUpdate=f["default"].prototype.update,v.prototype.controlText_="Mute",l["default"].registerComponent("VolumeMenuButton",v),n["default"]=v,t.exports=n["default"]},{"../button.js":57,"../component.js":58,"../menu/menu-button.js":95,"../menu/menu.js":97,"./mute-toggle.js":62,"./volume-control/volume-bar.js":85}],89:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./component"),l=r(a),c=e("./utils/dom.js"),u=i(c),d=function(e){function t(n,i){s(this,t),e.call(this,n,i),this.update(),this.on(n,"error",this.update)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-error-display"});return this.contentEl_=u.createEl("div"),t.appendChild(this.contentEl_),t},t.prototype.update=function(){this.player().error()&&(this.contentEl_.innerHTML=this.localize(this.player().error().message))},t}(l["default"]);l["default"].registerComponent("ErrorDisplay",d),n["default"]=d,t.exports=n["default"]},{"./component":58,"./utils/dom.js":118}],90:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0;var r=e("./utils/events.js"),s=i(r),o=function(){};o.prototype.allowedEvents_={},o.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=Function.prototype,s.on(this,e,t),this.addEventListener=n},o.prototype.addEventListener=o.prototype.on,o.prototype.off=function(e,t){s.off(this,e,t)},o.prototype.removeEventListener=o.prototype.off,o.prototype.one=function(e,t){s.one(this,e,t)},o.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=s.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),s.trigger(this,e)},o.prototype.dispatchEvent=o.prototype.trigger,n["default"]=o,t.exports=n["default"]},{"./utils/events.js":119}],91:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var r=e("./utils/log"),s=i(r),o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},a=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=function(){e.apply(this,arguments)},i={};"object"==typeof t?("function"==typeof t.init&&(s["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):"function"==typeof t&&(n=t),o(n,e);for(var r in i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n};n["default"]=a,t.exports=n["default"]},{"./utils/log":123}],92:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;for(var r=e("global/document"),s=i(r),o={},a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=a[0],c=void 0,u=0;u<a.length;u++)if(a[u][1]in s["default"]){c=a[u];break}if(c)for(var u=0;u<c.length;u++)o[l[u]]=c[u];n["default"]=o,t.exports=n["default"]},{"global/document":1}],93:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./component"),a=i(o),l=function(e){function t(){r(this,t),e.apply(this,arguments)}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},t}(a["default"]);a["default"].registerComponent("LoadingSpinner",l),n["default"]=l,t.exports=n["default"]},{"./component":58}],94:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var r=e("object.assign"),s=i(r),o=function l(e){"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:"object"==typeof e&&s["default"](this,e),this.message||(this.message=l.defaultMessages[this.code]||"")};o.prototype.code=0,o.prototype.message="",o.prototype.status=null,o.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],o.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var a=0;a<o.errorTypes.length;a++)o[o.errorTypes[a]]=a,o.prototype[o.errorTypes[a]]=a;n["default"]=o,t.exports=n["default"]},{"object.assign":43}],95:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../button.js"),l=r(a),c=e("../component.js"),u=r(c),d=e("./menu.js"),h=r(d),p=e("../utils/dom.js"),f=i(p),m=e("../utils/fn.js"),g=i(m),v=e("../utils/to-title-case.js"),y=r(v),b=function(e){function t(n){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];s(this,t),e.call(this,n,i),this.update(),this.on("keydown",this.handleKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}return o(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createMenu=function(){var e=new h["default"](this.player_);if(this.options_.title&&e.contentEl().appendChild(f.createEl("li",{className:"vjs-menu-title",innerHTML:y["default"](this.options_.title),tabIndex:-1})),this.items=this.createItems(),this.items)for(var t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFocus=function(){},t.prototype.handleBlur=function(){},t.prototype.handleClick=function(){this.one("mouseout",g.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(this.buttonPressed_?this.unpressButton():this.pressButton(),e.preventDefault()):27===e.which&&(this.buttonPressed_&&this.unpressButton(),e.preventDefault())},t.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&this.items.length>0&&this.items[0].el().focus()},t.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},t}(l["default"]);u["default"].registerComponent("MenuButton",b),n["default"]=b,t.exports=n["default"]},{"../button.js":57,"../component.js":58,"../utils/dom.js":118,"../utils/fn.js":120,"../utils/to-title-case.js":127,"./menu.js":97}],96:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../button.js"),a=i(o),l=e("../component.js"),c=i(l),u=e("object.assign"),d=i(u),h=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.selected(i.selected)}return s(t,e),t.prototype.createEl=function(t,n,i){return e.prototype.createEl.call(this,"li",d["default"]({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label)},n),i)},t.prototype.handleClick=function(){this.selected(!0)},t.prototype.selected=function(e){e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},t}(a["default"]);c["default"].registerComponent("MenuItem",h),n["default"]=h,t.exports=n["default"]},{"../button.js":57,"../component.js":58,"object.assign":43}],97:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../component.js"),l=r(a),c=e("../utils/dom.js"),u=i(c),d=e("../utils/fn.js"),h=i(d),p=e("../utils/events.js"),f=i(p),m=function(e){function t(){s(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",h.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=u.createEl(t,{className:"vjs-menu-content"});var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),f.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t}(l["default"]);l["default"].registerComponent("Menu",m),n["default"]=m,t.exports=n["default"]},{"../component.js":58,"../utils/dom.js":118,"../utils/events.js":119,"../utils/fn.js":120}],98:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./component.js"),l=r(a),c=e("global/document"),u=r(c),d=e("global/window"),h=r(d),p=e("./utils/events.js"),f=i(p),m=e("./utils/dom.js"),g=i(m),v=e("./utils/fn.js"),y=i(v),b=e("./utils/guid.js"),w=i(b),_=e("./utils/browser.js"),C=(i(_),e("./utils/log.js")),k=r(C),A=e("./utils/to-title-case.js"),E=r(A),S=e("./utils/time-ranges.js"),x=e("./utils/buffer.js"),T=e("./utils/stylesheet.js"),F=i(T),$=e("./fullscreen-api.js"),D=r($),B=e("./media-error.js"),M=r(B),P=e("safe-json-parse/tuple"),L=r(P),j=e("object.assign"),O=r(j),R=e("./utils/merge-options.js"),I=r(R),q=e("./tracks/text-track-list-converter.js"),N=r(q),U=e("./tech/loader.js"),z=(r(U),
e("./poster-image.js")),H=(r(z),e("./tracks/text-track-display.js")),V=(r(H),e("./loading-spinner.js")),W=(r(V),e("./big-play-button.js")),G=(r(W),e("./control-bar/control-bar.js")),K=(r(G),e("./error-display.js")),Q=(r(K),e("./tracks/text-track-settings.js")),X=(r(Q),e("./tech/html5.js")),Y=(r(X),function(e){function t(n,i,r){var o=this;if(s(this,t),n.id=n.id||"vjs_video_"+w.newGUID(),i=O["default"](t.getTagSettings(n),i),i.initChildren=!1,i.createEl=!1,i.reportTouchActivity=!1,e.call(this,null,i,r),!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");this.tag=n,this.tagAttributes=n&&g.getElAttributes(n),this.language(this.options_.language),i.languages?!function(){var e={};Object.getOwnPropertyNames(i.languages).forEach(function(t){e[t.toLowerCase()]=i.languages[t]}),o.languages_=e}():this.languages_=t.prototype.options_.languages,this.cache_={},this.poster_=i.poster||"",this.controls_=!!i.controls,n.controls=!1,this.scrubbing_=!1,this.el_=this.createEl();var a=I["default"](this.options_);i.plugins&&!function(){var e=i.plugins;Object.getOwnPropertyNames(e).forEach(function(t){"function"==typeof this[t]?this[t](e[t]):k["default"].error("Unable to find plugin:",t)},o)}(),this.options_.playerOptions=a,this.initChildren(),this.isAudio("audio"===n.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.isAudio()&&this.addClass("vjs-audio"),this.flexNotSupported_()&&this.addClass("vjs-no-flex"),t.players[this.id_]=this,this.userActive(!0),this.reportUserActivity(),this.listenForUserActivity_(),this.on("fullscreenchange",this.handleFullscreenChange_),this.on("stageclick",this.handleStageClick_)}return o(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode.removeChild(this.styleEl_),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.el_=e.prototype.createEl.call(this,"div"),n=this.tag;n.removeAttribute("width"),n.removeAttribute("height");var i=g.getElAttributes(n);Object.getOwnPropertyNames(i).forEach(function(e){"class"===e?t.className=i[e]:t.setAttribute(e,i[e])}),n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),this.styleEl_=F.createStyleElement("vjs-styles-dimensions");var r=u["default"].querySelector(".vjs-styles-defaults"),s=u["default"].querySelector("head");return s.insertBefore(this.styleEl_,r?r.nextSibling:s.firstChild),this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),n.initNetworkState_=n.networkState,n.parentNode&&n.parentNode.insertBefore(t,n),g.insertElFirst(n,t),this.el_=t,t},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)this[n]=void 0;else{var i=parseFloat(t);if(isNaN(i))return k["default"].error('Improper value "'+t+'" supplied for for '+e),this;this[n]=i}return this.updateStyleEl_(),this},t.prototype.fluid=function(e){return void 0===e?!!this.fluid_:(this.fluid_=!!e,void(e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid")))},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){var e=void 0,t=void 0,n=void 0;n=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9";var i=n.split(":"),r=i[1]/i[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*r;var s=this.id()+"-dimensions";this.addClass(s),F.setTextContent(this.styleEl_,"\n      ."+s+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+s+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")},t.prototype.loadTech_=function(e,t){this.tech_&&this.unloadTech_(),"Html5"!==e&&this.tag&&(l["default"].getComponent("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var n=O["default"]({nativeControlsForTouch:this.options_.nativeControlsForTouch,source:t,playerId:this.id(),techId:this.id()+"_"+e+"_api",textTracks:this.textTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),"vtt.js":this.options_["vtt.js"]},this.options_[e.toLowerCase()]);this.tag&&(n.tag=this.tag),t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(n.startTime=this.cache_.currentTime),this.cache_.src=t.src);var i=l["default"].getComponent(e);this.tech_=new i(n),this.tech_.ready(y.bind(this,this.handleTechReady_),!0),N["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"progress",this.handleTechProgress_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"suspend",this.handleTechSuspend_),this.on(this.tech_,"abort",this.handleTechAbort_),this.on(this.tech_,"emptied",this.handleTechEmptied_),this.on(this.tech_,"stalled",this.handleTechStalled_),this.on(this.tech_,"loadedmetadata",this.handleTechLoadedMetaData_),this.on(this.tech_,"loadeddata",this.handleTechLoadedData_),this.on(this.tech_,"timeupdate",this.handleTechTimeUpdate_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.on(this.tech_,"volumechange",this.handleTechVolumeChange_),this.on(this.tech_,"texttrackchange",this.handleTechTextTrackChange_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||g.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.textTracks_=this.textTracks(),this.textTracksJson_=N["default"].textTracksToJson(this),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){this.addClass("vjs-waiting"),this.trigger("waiting")},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechProgress_=function(){this.trigger("progress")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e&&e.code)},t.prototype.handleTechSuspend_=function(){this.trigger("suspend")},t.prototype.handleTechAbort_=function(){this.trigger("abort")},t.prototype.handleTechEmptied_=function(){this.trigger("emptied")},t.prototype.handleTechStalled_=function(){this.trigger("stalled")},t.prototype.handleTechLoadedMetaData_=function(){this.trigger("loadedmetadata")},t.prototype.handleTechLoadedData_=function(){this.trigger("loadeddata")},t.prototype.handleTechTimeUpdate_=function(){this.trigger("timeupdate")},t.prototype.handleTechRateChange_=function(){this.trigger("ratechange")},t.prototype.handleTechVolumeChange_=function(){this.trigger("volumechange")},t.prototype.handleTechTextTrackChange_=function(){this.trigger("texttrackchange")},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_[e](t)}catch(n){throw k["default"](n),n}},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?k["default"]("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?(k["default"]("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):k["default"](t),t}},t.prototype.play=function(){return this.techCall_("play"),this},t.prototype.pause=function(){return this.techCall_("pause"),this},t.prototype.paused=function(){return this.techGet_("paused")!==!1},t.prototype.scrubbing=function(e){return void 0!==e?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},t.prototype.currentTime=function(e){return void 0!==e?(this.techCall_("setCurrentTime",e),this):this.cache_.currentTime=this.techGet_("currentTime")||0},t.prototype.duration=function(e){return void 0===e?this.cache_.duration||0:(e=parseFloat(e)||0,e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function n(){var n=this.techGet_("buffered");return n&&n.length||(n=S.createTimeRange(0,0)),n},t.prototype.bufferedPercent=function(){return x.bufferedPercent(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?(this.techCall_("setMuted",e),this):this.techGet_("muted")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=D["default"];return this.isFullscreen(!0),e.requestFullscreen?(f.on(u["default"],e.fullscreenchange,y.bind(this,function t(n){this.isFullscreen(u["default"][e.fullscreenElement]),this.isFullscreen()===!1&&f.off(u["default"],e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.exitFullscreen=function(){var e=D["default"];return this.isFullscreen(!1),e.requestFullscreen?u["default"][e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=u["default"].documentElement.style.overflow,f.on(u["default"],"keydown",y.bind(this,this.fullWindowOnEscKey)),u["default"].documentElement.style.overflow="hidden",g.addElClass(u["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,f.off(u["default"],"keydown",this.fullWindowOnEscKey),u["default"].documentElement.style.overflow=this.docOrigOverflow,g.removeElClass(u["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.selectSource=function(e){for(var t=0,n=this.options_.techOrder;t<n.length;t++){var i=E["default"](n[t]),r=l["default"].getComponent(i);if(r){if(r.isSupported())for(var s=0,o=e;s<o.length;s++){var a=o[s];if(r.canPlaySource(a))return{source:a,tech:i}}}else k["default"].error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return!1},t.prototype.src=function(e){if(void 0===e)return this.techGet_("src");var t=l["default"].getComponent(this.techName_);return Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e)?this.sourceList_([e]):(this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(e){var t=this.selectSource(e);t?t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_("load"),this},t.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},t.prototype.currentType=function(){return this.currentType_||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),this.options_.preload=e,this):this.techGet_("preload")},t.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this):this.techGet_("autoplay",e)},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),this.options_.loop=e,this):this.techGet_("loop")},t.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),this):(e instanceof M["default"]?this.error_=e:this.error_=new M["default"](e),this.trigger("error"),this.addClass("vjs-error"),k["default"].error("(CODE:"+this.error_.code+" "+M["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this)},t.prototype.ended=function(){return this.techGet_("ended")},t.prototype.seeking=function(){return this.techGet_("seeking")},t.prototype.seekable=function(){return this.techGet_("seekable")},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){return void 0!==e?(e=!!e,e!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,i=y.bind(this,this.reportUserActivity),r=function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,i())},s=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},o=function(t){i(),this.clearInterval(e)};this.on("mousedown",s),this.on("mousemove",r),this.on("mouseup",o),this.on("keydown",i),this.on("keyup",i);var a=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a);var e=this.options_.inactivityTimeout;e>0&&(a=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):!!this.isAudio_},t.prototype.networkState=function(){return this.techGet_("networkState")},t.prototype.readyState=function(){return this.techGet_("readyState")},t.prototype.textTracks=function(){return this.tech_&&this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){return this.tech_&&this.tech_.remoteTextTracks()},t.prototype.addTextTrack=function(e,t,n){return this.tech_&&this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e){return this.tech_&&this.tech_.addRemoteTextTrack(e)},t.prototype.removeRemoteTextTrack=function(e){this.tech_&&this.tech_.removeRemoteTextTrack(e)},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return void 0===e?this.language_:(this.language_=(""+e).toLowerCase(),this)},t.prototype.languages=function(){return I["default"](t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=I["default"](this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];i=I["default"](i),i.player=void 0,e.tracks[n]=i}return e},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=g.getElAttributes(e),i=n["data-setup"];if(null!==i){var r=L["default"](i||"{}"),s=r[0],o=r[1];s&&k["default"].error(s),O["default"](n,o)}if(O["default"](t,n),e.hasChildNodes())for(var a=e.childNodes,l=0,c=a.length;l<c;l++){var u=a[l],d=u.nodeName.toLowerCase();"source"===d?t.sources.push(g.getElAttributes(u)):"track"===d&&t.tracks.push(g.getElAttributes(u))}return t},t}(l["default"]));Y.players={};var J=h["default"].navigator;Y.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:u["default"].getElementsByTagName("html")[0].getAttribute("lang")||J.languages&&J.languages[0]||J.userLanguage||J.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},Y.prototype.handleLoadedMetaData_,Y.prototype.handleLoadedData_,Y.prototype.handleUserActive_,Y.prototype.handleUserInactive_,Y.prototype.handleTimeUpdate_,Y.prototype.handleVolumeChange_,Y.prototype.handleError_,Y.prototype.flexNotSupported_=function(){var e=u["default"].createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},l["default"].registerComponent("Player",Y),n["default"]=Y,t.exports=n["default"]},{"./big-play-button.js":56,"./component.js":58,"./control-bar/control-bar.js":59,"./error-display.js":89,"./fullscreen-api.js":92,"./loading-spinner.js":93,"./media-error.js":94,"./poster-image.js":100,"./tech/html5.js":105,"./tech/loader.js":106,"./tracks/text-track-display.js":109,"./tracks/text-track-list-converter.js":111,"./tracks/text-track-settings.js":113,"./utils/browser.js":115,"./utils/buffer.js":116,"./utils/dom.js":118,"./utils/events.js":119,"./utils/fn.js":120,"./utils/guid.js":122,"./utils/log.js":123,"./utils/merge-options.js":124,"./utils/stylesheet.js":125,"./utils/time-ranges.js":126,"./utils/to-title-case.js":127,"global/document":1,"global/window":2,"object.assign":43,"safe-json-parse/tuple":48}],99:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var r=e("./player.js"),s=i(r),o=function(e,t){s["default"].prototype[e]=t};n["default"]=o,t.exports=n["default"]},{"./player.js":98}],100:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./button.js"),l=r(a),c=e("./component.js"),u=r(c),d=e("./utils/fn.js"),h=i(d),p=e("./utils/dom.js"),f=i(p),m=e("./utils/browser.js"),g=i(m),v=function(e){function t(n,i){s(this,t),e.call(this,n,i),this.update(),n.on("posterchange",h.bind(this,this.update))}return o(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=f.createEl("div",{className:"vjs-poster",tabIndex:-1});return g.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=f.createEl("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t}(l["default"]);u["default"].registerComponent("PosterImage",v),n["default"]=v,t.exports=n["default"]},{"./button.js":57,"./component.js":58,"./utils/browser.js":115,"./utils/dom.js":118,"./utils/fn.js":120}],101:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0;var s=e("./utils/events.js"),o=r(s),a=e("global/document"),l=i(a),c=e("global/window"),u=i(c),d=!1,h=void 0,p=function(){var e=l["default"].getElementsByTagName("video"),t=l["default"].getElementsByTagName("audio"),n=[];if(e&&e.length>0)for(var i=0,r=e.length;i<r;i++)n.push(e[i]);if(t&&t.length>0)for(var i=0,r=t.length;i<r;i++)n.push(t[i]);if(n&&n.length>0)for(var i=0,r=n.length;i<r;i++){var s=n[i];if(!s||!s.getAttribute){f(1);break}if(void 0===s.player){var o=s.getAttribute("data-setup");if(null!==o){h(s)}}}else d||f(1)},f=function(e,t){h=t,setTimeout(p,e)};"complete"===l["default"].readyState?d=!0:o.one(u["default"],"load",function(){d=!0});var m=function(){return d};n.autoSetup=p,n.autoSetupTimeout=f,n.hasLoaded=m},{"./utils/events.js":119,"global/document":1,"global/window":2}],102:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../component.js"),l=r(a),c=e("../utils/dom.js"),u=i(c),d=e("global/document"),h=r(d),p=e("object.assign"),f=r(p),m=function(e){function t(n,i){s(this,t),e.call(this,n,i),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(n,"controlsvisible",this.update),this.on(n,this.playerEvent,this.update)}return o(t,e),t.prototype.createEl=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return n.className=n.className+" vjs-slider",n=f["default"]({tabIndex:0},n),i=f["default"]({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),e.prototype.createEl.call(this,t,n,i)},t.prototype.handleMouseDown=function(e){e.preventDefault(),u.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(h["default"],"mousemove",this.handleMouseMove),this.on(h["default"],"mouseup",this.handleMouseUp),this.on(h["default"],"touchmove",this.handleMouseMove),this.on(h["default"],"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(){},t.prototype.handleMouseUp=function(){u.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(h["default"],"mousemove",this.handleMouseMove),this.off(h["default"],"mouseup",this.handleMouseUp),this.off(h["default"],"touchmove",this.handleMouseMove),this.off(h["default"],"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=n:t.el().style.width=n}}},t.prototype.calculateDistance=function(e){var t=u.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(h["default"],"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(h["default"],"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},t}(l["default"]);l["default"].registerComponent("Slider",m),n["default"]=m,t.exports=n["default"]},{"../component.js":58,"../utils/dom.js":118,"global/document":1,"object.assign":43}],103:[function(e,t,n){"use strict";function i(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n=e.indexOf("&"),i=void 0;return n!==-1?i=n+1:(n=i=e.lastIndexOf("/")+1,0===n&&(n=i=e.length)),t.connection=e.substring(0,n),t.stream=e.substring(i,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canHandleSource=function(t){return e.isStreamingType(t.type)||e.isStreamingSrc(t.src)?"maybe":""},e.rtmpSourceHandler.handleSource=function(t,n){var i=e.streamToParts(t.src);n.setRtmpConnection(i.connection),n.setRtmpStream(i.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}n.__esModule=!0,n["default"]=i,t.exports=n["default"]},{}],104:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=e.charAt(0).toUpperCase()+e.slice(1);S["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function l(e){S[e]=function(){return this.el_.vjs_getProperty(e)}}n.__esModule=!0;for(var c=e("./tech"),u=r(c),d=e("../utils/dom.js"),h=i(d),p=e("../utils/url.js"),f=i(p),m=e("../utils/time-ranges.js"),g=e("./flash-rtmp"),v=r(g),y=e("../component"),b=r(y),w=e("global/window"),_=r(w),C=e("object.assign"),k=r(C),A=_["default"].navigator,E=function(e){function t(n,i){s(this,t),e.call(this,n,i),n.source&&this.ready(function(){this.setSource(n.source)},!0),n.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),_["default"].videojs=_["default"].videojs||{},_["default"].videojs.Flash=_["default"].videojs.Flash||{},_["default"].videojs.Flash.onReady=t.onReady,_["default"].videojs.Flash.onEvent=t.onEvent,_["default"].videojs.Flash.onError=t.onError,this.on("seeked",function(){this.lastSeekTarget_=void 0})}return o(t,e),t.prototype.createEl=function(){var e=this.options_;e.swf||(e.swf="//vjs.zencdn.net/swf/5.0.0-rc1/video-js.swf");var n=e.techId,i=k["default"]({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),r=k["default"]({wmode:"opaque",bgcolor:"#000000"},e.params),s=k["default"]({id:n,name:n,"class":"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,i,r,s),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){if(e=f.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()){var t=this;this.setTimeout(function(){t.play()},0)}},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var n=this.seekable();n.length&&(t=t>n.start(0)?t:n.start(0),t=t<n.end(n.length-1)?t:n.end(n.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(e){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?m.createTimeRange():m.createTimeRange(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?m.createTimeRange():m.createTimeRange(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(u["default"]),S=E.prototype,x="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),T="networkState,readyState,initialTime,duration,startOffsetTime,paused,ended,videoTracks,audioTracks,videoWidth,videoHeight".split(","),F=0;F<x.length;F++)l(x[F]),a(x[F]);for(var F=0;F<T.length;F++)l(T[F]);E.isSupported=function(){return E.version()[0]>=10},u["default"].withSourceHandlers(E),E.nativeSourceHandler={},E.nativeSourceHandler.canHandleSource=function(e){function t(e){var t=f.getFileExtension(e);return t?"video/"+t:""}var n;return n=e.type?e.type.replace(/;.*/,"").toLowerCase():t(e.src),n in E.formats?"maybe":""},E.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},E.nativeSourceHandler.dispose=function(){},E.registerSourceHandler(E.nativeSourceHandler),E.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},E.onReady=function(e){var t=h.getEl(e),n=t&&t.tech;n&&n.el()&&E.checkReady(n)},E.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){E.checkReady(e)},50))},E.onEvent=function(e,t){var n=h.getEl(e).tech;n.trigger(t)},E.onError=function(e,t){var n=h.getEl(e).tech;return"srcnotfound"===t?n.error(4):void n.error("FLASH: "+t)},E.version=function(){var e="0,0,0";try{e=new _["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{A.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(A.plugins["Shockwave Flash 2.0"]||A.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return e.split(",")},E.embed=function(e,t,n,i){var r=E.getEmbedCode(e,t,n,i),s=h.createEl("div",{innerHTML:r}).childNodes[0];return s},E.getEmbedCode=function(e,t,n,i){var r='<object type="application/x-shockwave-flash" ',s="",o="",a="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){s+=e+"="+t[e]+"&amp;"}),n=k["default"]({movie:e,flashvars:s,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){o+='<param name="'+e+'" value="'+n[e]+'" />'}),i=k["default"]({data:e,width:"100%",height:"100%"},i),Object.getOwnPropertyNames(i).forEach(function(e){a+=e+'="'+i[e]+'" '}),""+r+a+">"+o+"</object>"},v["default"](E),b["default"].registerComponent("Flash",E),n["default"]=E,t.exports=n["default"]},{"../component":58,"../utils/dom.js":118,"../utils/time-ranges.js":126,"../utils/url.js":128,"./flash-rtmp":103,"./tech":107,"global/window":2,"object.assign":43}],105:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./tech.js"),l=r(a),c=e("../component"),u=r(c),d=e("../utils/dom.js"),h=i(d),p=e("../utils/url.js"),f=i(p),m=e("../utils/fn.js"),g=i(m),v=e("../utils/log.js"),y=r(v),b=e("../utils/browser.js"),w=i(b),_=e("global/document"),C=r(_),k=e("global/window"),A=r(k),E=e("object.assign"),S=r(E),x=e("../utils/merge-options.js"),T=r(x),F=function(e){function t(n,i){s(this,t),e.call(this,n,i);var r=n.source;if(r&&(this.el_.currentSrc!==r.src||n.tag&&3===n.tag.initNetworkState_)?this.setSource(r):this.handleLateInit_(this.el_),this.el_.hasChildNodes()){for(var o=this.el_.childNodes,a=o.length,l=[];a--;){var c=o[a],u=c.nodeName.toLowerCase();"track"===u&&(this.featuresNativeTextTracks?this.remoteTextTracks().addTrack_(c.track):l.push(c))}for(var d=0;d<l.length;d++)this.el_.removeChild(l[d])}this.featuresNativeTextTracks&&(this.handleTextTrackChange_=g.bind(this,this.handleTextTrackChange),this.handleTextTrackAdd_=g.bind(this,this.handleTextTrackAdd),this.handleTextTrackRemove_=g.bind(this,this.handleTextTrackRemove),this.proxyNativeTextTracks_()),(w.TOUCH_ENABLED&&n.nativeControlsForTouch===!0||w.IS_IPHONE||w.IS_NATIVE_ANDROID)&&this.setControls(!0),this.triggerReady()}return o(t,e),t.prototype.dispose=function(){var n=this.el().textTracks,i=this.textTracks();n&&n.removeEventListener&&(n.removeEventListener("change",this.handleTextTrackChange_),n.removeEventListener("addtrack",this.handleTextTrackAdd_),n.removeEventListener("removetrack",this.handleTextTrackRemove_));for(var r=i.length;r--;)i.removeTrack_(i[r]);t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||this.movingMediaElementInDOM===!1)if(e){var n=e.cloneNode(!0);e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=C["default"].createElement("video");var i=this.options_.tag&&h.getElAttributes(this.options_.tag),r=T["default"]({},i);w.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete r.controls,h.setElAttributes(e,S["default"](r,{id:this.options_.techId,"class":"vjs-tech"}))}for(var s=["autoplay","preload","loop","muted"],o=s.length-1;o>=0;o--){var a=s[o],l={};"undefined"!=typeof this.options_[a]&&(l[a]=this.options_[a]),h.setElAttributes(e,l)}return e},t.prototype.handleLateInit_=function(e){var t=this;if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var n=function(){var e=!1,n=function(){e=!0};t.on("loadstart",n);var i=function(){e||this.trigger("loadstart")};return t.on("loadedmetadata",i),t.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),e||this.trigger("loadstart")}),{v:void 0}}();if("object"==typeof n)return n.v}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;e&&e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_))},t.prototype.handleTextTrackChange=function(e){var t=this.textTracks();this.textTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},t.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},t.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},t.prototype.play=function(){this.el_.play()},t.prototype.pause=function(){this.el_.pause()},t.prototype.paused=function(){return this.el_.paused},t.prototype.currentTime=function(){return this.el_.currentTime},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){y["default"](t,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){return this.el_.duration||0},t.prototype.buffered=function(){return this.el_.buffered},t.prototype.volume=function(){return this.el_.volume},t.prototype.setVolume=function(e){this.el_.volume=e},t.prototype.muted=function(){return this.el_.muted},t.prototype.setMuted=function(e){this.el_.muted=e},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=A["default"].navigator.userAgent;if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;"webkitDisplayingFullscreen"in e&&this.one("webkitbeginfullscreen",function(){this.one("webkitendfullscreen",function(){this.trigger("fullscreenchange",{isFullscreen:!1})}),this.trigger("fullscreenchange",{isFullscreen:!0})}),e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){return void 0===e?this.el_.src:void this.setSrc(e)},t.prototype.setSrc=function(e){this.el_.src=e},t.prototype.load=function(){this.el_.load()},t.prototype.currentSrc=function(){return this.el_.currentSrc},t.prototype.poster=function(){return this.el_.poster},t.prototype.setPoster=function(e){this.el_.poster=e},t.prototype.preload=function(){return this.el_.preload},t.prototype.setPreload=function(e){this.el_.preload=e},t.prototype.autoplay=function(){return this.el_.autoplay},t.prototype.setAutoplay=function(e){this.el_.autoplay=e},t.prototype.controls=function(){return this.el_.controls},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.loop=function(){return this.el_.loop},t.prototype.setLoop=function(e){this.el_.loop=e},t.prototype.error=function(){return this.el_.error},t.prototype.seeking=function(){return this.el_.seeking},t.prototype.seekable=function(){return this.el_.seekable},t.prototype.ended=function(){return this.el_.ended},t.prototype.defaultMuted=function(){return this.el_.defaultMuted},t.prototype.playbackRate=function(){return this.el_.playbackRate},t.prototype.played=function(){return this.el_.played},t.prototype.setPlaybackRate=function(e){this.el_.playbackRate=e},t.prototype.networkState=function(){return this.el_.networkState},t.prototype.readyState=function(){return this.el_.readyState},t.prototype.videoWidth=function(){return this.el_.videoWidth},t.prototype.videoHeight=function(){return this.el_.videoHeight},t.prototype.textTracks=function(){return e.prototype.textTracks.call(this)},t.prototype.addTextTrack=function(t,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,i):e.prototype.addTextTrack.call(this,t,n,i)},t.prototype.addRemoteTextTrack=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!this.featuresNativeTextTracks)return e.prototype.addRemoteTextTrack.call(this,t);var n=C["default"].createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t["default"]&&(n["default"]=t["default"]),t.id&&(n.id=t.id),t.src&&(n.src=t.src),this.el().appendChild(n),this.remoteTextTracks().addTrack_(n.track),n},t.prototype.removeRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.removeRemoteTextTrack.call(this,t);var n,i;for(this.remoteTextTracks().removeTrack_(t),n=this.el().querySelectorAll("track"),i=n.length;i--;)t!==n[i]&&t!==n[i].track||this.el().removeChild(n[i])},t}(l["default"]);F.TEST_VID=C["default"].createElement("video");var $=C["default"].createElement("track");$.kind="captions",$.srclang="en",$.label="English",F.TEST_VID.appendChild($),F.isSupported=function(){try{F.TEST_VID.volume=.5}catch(e){return!1}return!!F.TEST_VID.canPlayType},l["default"].withSourceHandlers(F),F.nativeSourceHandler={},F.nativeSourceHandler.canHandleSource=function(e){function t(e){try{return F.TEST_VID.canPlayType(e)}catch(t){return""}}var n;return e.type?t(e.type):e.src?(n=f.getFileExtension(e.src),t("video/"+n)):""},F.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},F.nativeSourceHandler.dispose=function(){},F.registerSourceHandler(F.nativeSourceHandler),F.canControlVolume=function(){var e=F.TEST_VID.volume;return F.TEST_VID.volume=e/2+.1,e!==F.TEST_VID.volume},F.canControlPlaybackRate=function(){var e=F.TEST_VID.playbackRate;return F.TEST_VID.playbackRate=e/2+.1,e!==F.TEST_VID.playbackRate},F.supportsNativeTextTracks=function(){var e;return e=!!F.TEST_VID.textTracks,e&&F.TEST_VID.textTracks.length>0&&(e="number"!=typeof F.TEST_VID.textTracks[0].mode),e&&w.IS_FIREFOX&&(e=!1),!e||"onremovetrack"in F.TEST_VID.textTracks||(e=!1),e},F.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],F.prototype.featuresVolumeControl=F.canControlVolume(),F.prototype.featuresPlaybackRate=F.canControlPlaybackRate(),F.prototype.movingMediaElementInDOM=!w.IS_IOS,F.prototype.featuresFullscreenResize=!0,F.prototype.featuresProgressEvents=!0,F.prototype.featuresNativeTextTracks=F.supportsNativeTextTracks();var D=void 0,B=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,M=/^video\/mp4/i;F.patchCanPlayType=function(){w.ANDROID_VERSION>=4&&(D||(D=F.TEST_VID.constructor.prototype.canPlayType),F.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&B.test(e)?"maybe":D.call(this,e)}),w.IS_OLD_ANDROID&&(D||(D=F.TEST_VID.constructor.prototype.canPlayType),F.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&M.test(e)?"maybe":D.call(this,e)})},F.unpatchCanPlayType=function(){var e=F.TEST_VID.constructor.prototype.canPlayType;return F.TEST_VID.constructor.prototype.canPlayType=D,D=null,e},F.patchCanPlayType(),F.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},u["default"].registerComponent("Html5",F),n["default"]=F,t.exports=n["default"]},{"../component":58,"../utils/browser.js":115,"../utils/dom.js":118,"../utils/fn.js":120,"../utils/log.js":123,"../utils/merge-options.js":124,"../utils/url.js":128,"./tech.js":107,"global/document":1,"global/window":2,"object.assign":43}],106:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../component"),a=i(o),l=e("global/window"),c=(i(l),e("../utils/to-title-case.js")),u=i(c),d=function(e){function t(n,i,s){if(r(this,t),e.call(this,n,i,s),i.playerOptions.sources&&0!==i.playerOptions.sources.length)n.src(i.playerOptions.sources);else for(var o=0,l=i.playerOptions.techOrder;o<l.length;o++){var c=u["default"](l[o]),d=a["default"].getComponent(c);if(d&&d.isSupported()){n.loadTech_(c);break}}}return s(t,e),t}(a["default"]);a["default"].registerComponent("MediaLoader",d),n["default"]=d,t.exports=n["default"]},{"../component":58,"../utils/to-title-case.js":127,"global/window":2}],107:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../component"),l=r(a),c=e("../tracks/text-track"),u=r(c),d=e("../tracks/text-track-list"),h=r(d),p=e("../utils/fn.js"),f=i(p),m=e("../utils/log.js"),g=r(m),v=e("../utils/time-ranges.js"),y=e("../utils/buffer.js"),b=e("../media-error.js"),w=r(b),_=e("global/window"),C=r(_),k=e("global/document"),A=r(k),E=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];s(this,t),n.reportTouchActivity=!1,e.call(this,null,n,i),this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),this.textTracks_=n.textTracks,this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),n.nativeCaptions!==!1&&n.nativeTextTracks!==!1||(this.featuresNativeTextTracks=!1),this.featuresNativeTextTracks||this.emulateTextTracks(),this.initTextTrackListeners(),this.emitTapEvents()}/*! Time Tracking -------------------------------------------------------------- */
return o(t,e),t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(f.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(){this.duration_=this.duration()},t.prototype.buffered=function(){return v.createTimeRange(0,0)},t.prototype.bufferedPercent=function(){return y.bufferedPercent(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){var t=this.textTracks();if(t)for(var n=t.length;n--;)this.removeRemoteTextTrack(t[n]);this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.error=function(e){return void 0!==e&&(e instanceof w["default"]?this.error_=e:this.error_=new w["default"](e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?v.createTimeRange(0,0):v.createTimeRange()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTextTrackListeners=function(){var e=f.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",f.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},t.prototype.emulateTextTracks=function(){if(!C["default"].WebVTT&&null!=this.el().parentNode){var e=A["default"].createElement("script");e.src=this.options_["vtt.js"]||"../node_modules/vtt.js/dist/vtt.js",this.el().parentNode.appendChild(e),C["default"].WebVTT=!0}var t=this.textTracks();if(t){var n=f.bind(this,function(){var e=this,n=function(){return e.trigger("texttrackchange")};n();for(var i=0;i<t.length;i++){var r=t[i];r.removeEventListener("cuechange",n),"showing"===r.mode&&r.addEventListener("cuechange",n)}});t.addEventListener("change",n),this.on("dispose",function(){t.removeEventListener("change",n)})}},t.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new h["default"],this.textTracks_},t.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new h["default"],this.remoteTextTracks_},t.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return S(this,e,t,n)},t.prototype.addRemoteTextTrack=function(e){var t=S(this,e.kind,e.label,e.language,e);return this.remoteTextTracks().addTrack_(t),{track:t}},t.prototype.removeRemoteTextTrack=function(e){this.textTracks().removeTrack_(e),this.remoteTextTracks().removeTrack_(e)},t.prototype.setPoster=function(){},t}(l["default"]);E.prototype.textTracks_;var S=function(e,t,n,i){var r=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],s=e.textTracks();r.kind=t,n&&(r.label=n),i&&(r.language=i),r.tech=e;var o=new u["default"](r);return s.addTrack_(o),o};E.prototype.featuresVolumeControl=!0,E.prototype.featuresFullscreenResize=!1,E.prototype.featuresPlaybackRate=!1,E.prototype.featuresProgressEvents=!1,E.prototype.featuresTimeupdateEvents=!1,E.prototype.featuresNativeTextTracks=!1,E.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,t)},e.selectSourceHandler=function(t){for(var n=e.sourceHandlers||[],i=void 0,r=0;r<n.length;r++)if(i=n[r].canHandleSource(t))return n[r];return null},e.canPlaySource=function(t){var n=e.selectSourceHandler(t);return n?n.canHandleSource(t):""};var t=e.prototype.seekable;e.prototype.seekable=function(){return this.sourceHandler_&&this.sourceHandler_.seekable?this.sourceHandler_.seekable():t.call(this)},e.prototype.setSource=function(t){var n=e.selectSourceHandler(t);return n||(e.nativeSourceHandler?n=e.nativeSourceHandler:g["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),this.currentSource_=t,this.sourceHandler_=n.handleSource(t,this),this.on("dispose",this.disposeSourceHandler),this},e.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&this.sourceHandler_.dispose()}},l["default"].registerComponent("Tech",E),l["default"].registerComponent("MediaTechController",E),n["default"]=E,t.exports=n["default"]},{"../component":58,"../media-error.js":94,"../tracks/text-track":114,"../tracks/text-track-list":112,"../utils/buffer.js":116,"../utils/fn.js":120,"../utils/log.js":123,"../utils/time-ranges.js":126,"global/document":1,"global/window":2}],108:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0;var s=e("../utils/browser.js"),o=r(s),a=e("global/document"),l=i(a),c=function u(e){var t=this;if(o.IS_IE8){t=l["default"].createElement("custom");for(var n in u.prototype)t[n]=u.prototype[n]}if(u.prototype.setCues_.call(t,e),Object.defineProperty(t,"length",{get:function(){return this.length_}}),o.IS_IE8)return t};c.prototype.setCues_=function(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var r=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)r.call(this,n)},c.prototype.getCueById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},n["default"]=c,t.exports=n["default"]},{"../utils/browser.js":115,"global/document":1}],109:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function l(e,t,n){try{e.style[t]=n}catch(i){}}n.__esModule=!0;var c=e("../component"),u=r(c),d=e("../menu/menu.js"),h=(r(d),e("../menu/menu-item.js")),p=(r(h),e("../menu/menu-button.js")),f=(r(p),e("../utils/fn.js")),m=i(f),g=e("global/document"),v=(r(g),e("global/window")),y=r(v),b="#222",w="#ccc",_={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},C=function(e){function t(n,i,r){s(this,t),e.call(this,n,i,r),n.on("loadstart",m.bind(this,this.toggleDisplay)),n.on("texttrackchange",m.bind(this,this.updateDisplay)),n.ready(m.bind(this,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",m.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++){var i=e[t];this.player_.addRemoteTextTrack(i)}}))}return o(t,e),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},t.prototype.clearDisplay=function(){"function"==typeof y["default"].WebVTT&&y["default"].WebVTT.processCues(y["default"],[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e)for(var t=0;t<e.length;t++){var n=e[t];"showing"===n.mode&&this.updateForTrack(n)}},t.prototype.updateForTrack=function(e){if("function"==typeof y["default"].WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],i=0;i<e.activeCues.length;i++)n.push(e.activeCues[i]);y["default"].WebVTT.processCues(y["default"],e.activeCues,this.el_);for(var r=n.length;r--;){var s=n[r].displayState;if(t.color&&(s.firstChild.style.color=t.color),t.textOpacity&&l(s.firstChild,"color",a(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(s.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&l(s.firstChild,"backgroundColor",a(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?l(s,"backgroundColor",a(t.windowColor,t.windowOpacity)):s.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px "+b+", 2px 2px 4px "+b+", 2px 2px 5px "+b:"raised"===t.edgeStyle?s.firstChild.style.textShadow="1px 1px "+b+", 2px 2px "+b+", 3px 3px "+b:"depressed"===t.edgeStyle?s.firstChild.style.textShadow="1px 1px "+w+", 0 1px "+w+", -1px -1px "+b+", 0 -1px "+b:"uniform"===t.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px "+b+", 0 0 4px "+b+", 0 0 4px "+b+", 0 0 4px "+b)),t.fontPercent&&1!==t.fontPercent){var o=y["default"].parseFloat(s.style.fontSize);s.style.fontSize=o*t.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=_[t.fontFamily])}}},t}(u["default"]);u["default"].registerComponent("TextTrackDisplay",C),n["default"]=C,t.exports=n["default"]},{"../component":58,"../menu/menu-button.js":95,"../menu/menu-item.js":96,"../menu/menu.js":97,"../utils/fn.js":120,"global/document":1,"global/window":2}],110:[function(e,t,n){"use strict";n.__esModule=!0;var i={disabled:"disabled",hidden:"hidden",showing:"showing"},r={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"};n.TextTrackMode=i,n.TextTrackKind=r},{}],111:[function(e,t,n){"use strict";n.__esModule=!0;var i=function(e){return{kind:e.kind,label:e.label,language:e.language,id:e.id,inBandMetadataTrackDispatchType:e.inBandMetadataTrackDispatchType,mode:e.mode,cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}),src:e.src}},r=function(e){var t=e.el().querySelectorAll("track"),n=Array.prototype.map.call(t,function(e){return e.track}),r=Array.prototype.map.call(t,function(e){var t=i(e.track);return t.src=e.src,t});return r.concat(Array.prototype.filter.call(e.textTracks(),function(e){return n.indexOf(e)===-1}).map(i))},s=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()};n["default"]={textTracksToJson:r,jsonToTextTracks:s,trackToJson_:i},t.exports=n["default"]},{}],112:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var s=e("../event-target"),o=r(s),a=e("../utils/fn.js"),l=i(a),c=e("../utils/browser.js"),u=i(c),d=e("global/document"),h=r(d),p=function m(e){var t=this;if(u.IS_IE8){t=h["default"].createElement("custom");for(var n in m.prototype)t[n]=m.prototype[n]}e=e||[],t.tracks_=[],Object.defineProperty(t,"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)t.addTrack_(e[i]);if(u.IS_IE8)return t};p.prototype=Object.create(o["default"].prototype),p.prototype.constructor=p,p.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var f in p.prototype.allowedEvents_)p.prototype["on"+f]=null;p.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),e.addEventListener("modechange",l.bind(this,function(){this.trigger("change")})),this.tracks_.push(e),this.trigger({type:"addtrack",track:e})},p.prototype.removeTrack_=function(e){for(var t=void 0,n=0,i=this.length;n<i;n++)if(t=this[n],t===e){this.tracks_.splice(n,1);break}this.trigger({type:"removetrack",track:t})},p.prototype.getTrackById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},n["default"]=p,t.exports=n["default"]},{"../event-target":90,"../utils/browser.js":115,"../utils/fn.js":120,"global/document":1}],113:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=void 0;return e.selectedOptions?t=e.selectedOptions[0]:e.options&&(t=e.options[e.options.selectedIndex]),t.value}function l(e,t){if(t){var n=void 0;for(n=0;n<e.options.length;n++){var i=e.options[n];if(i.value===t)break}e.selectedIndex=n}}function c(){var e='<div class="vjs-tracksettings">\n      <div class="vjs-tracksettings-colors">\n        <div class="vjs-fg-color vjs-tracksetting">\n            <label class="vjs-label">Foreground</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-text-opacity vjs-opacity">\n              <select>\n                <option value="">---</option>\n                <option value="1">Opaque</option>\n                <option value="0.5">Semi-Opaque</option>\n              </select>\n            </span>\n        </div> <!-- vjs-fg-color -->\n        <div class="vjs-bg-color vjs-tracksetting">\n            <label class="vjs-label">Background</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-bg-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> <!-- vjs-bg-color -->\n        <div class="window-color vjs-tracksetting">\n            <label class="vjs-label">Window</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-window-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> <!-- vjs-window-color -->\n      </div> <!-- vjs-tracksettings -->\n      <div class="vjs-tracksettings-font">\n        <div class="vjs-font-percent vjs-tracksetting">\n          <label class="vjs-label">Font Size</label>\n          <select>\n            <option value="0.50">50%</option>\n            <option value="0.75">75%</option>\n            <option value="1.00" selected>100%</option>\n            <option value="1.25">125%</option>\n            <option value="1.50">150%</option>\n            <option value="1.75">175%</option>\n            <option value="2.00">200%</option>\n            <option value="3.00">300%</option>\n            <option value="4.00">400%</option>\n          </select>\n        </div> <!-- vjs-font-percent -->\n        <div class="vjs-edge-style vjs-tracksetting">\n          <label class="vjs-label">Text Edge Style</label>\n          <select>\n            <option value="none">None</option>\n            <option value="raised">Raised</option>\n            <option value="depressed">Depressed</option>\n            <option value="uniform">Uniform</option>\n            <option value="dropshadow">Dropshadow</option>\n          </select>\n        </div> <!-- vjs-edge-style -->\n        <div class="vjs-font-family vjs-tracksetting">\n          <label class="vjs-label">Font Family</label>\n          <select>\n            <option value="">Default</option>\n            <option value="monospaceSerif">Monospace Serif</option>\n            <option value="proportionalSerif">Proportional Serif</option>\n            <option value="monospaceSansSerif">Monospace Sans-Serif</option>\n            <option value="proportionalSansSerif">Proportional Sans-Serif</option>\n            <option value="casual">Casual</option>\n            <option value="script">Script</option>\n            <option value="small-caps">Small Caps</option>\n          </select>\n        </div> <!-- vjs-font-family -->\n      </div>\n    </div>\n    <div class="vjs-tracksettings-controls">\n      <button class="vjs-default-button">Defaults</button>\n      <button class="vjs-done-button">Done</button>\n    </div>';return e}n.__esModule=!0;var u=e("../component"),d=r(u),h=e("../utils/events.js"),p=i(h),f=e("../utils/fn.js"),m=i(f),g=e("../utils/log.js"),v=r(g),y=e("safe-json-parse/tuple"),b=r(y),w=e("global/window"),_=r(w),C=function(e){function t(n,i){s(this,t),e.call(this,n,i),this.hide(),void 0===i.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),p.on(this.el().querySelector(".vjs-done-button"),"click",m.bind(this,function(){this.saveSettings(),this.hide()})),p.on(this.el().querySelector(".vjs-default-button"),"click",m.bind(this,function(){this.el().querySelector(".vjs-fg-color > select").selectedIndex=0,this.el().querySelector(".vjs-bg-color > select").selectedIndex=0,this.el().querySelector(".window-color > select").selectedIndex=0,this.el().querySelector(".vjs-text-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-bg-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-window-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-edge-style select").selectedIndex=0,this.el().querySelector(".vjs-font-family select").selectedIndex=0,this.el().querySelector(".vjs-font-percent select").selectedIndex=2,this.updateDisplay()})),p.on(this.el().querySelector(".vjs-fg-color > select"),"change",m.bind(this,this.updateDisplay)),p.on(this.el().querySelector(".vjs-bg-color > select"),"change",m.bind(this,this.updateDisplay)),p.on(this.el().querySelector(".window-color > select"),"change",m.bind(this,this.updateDisplay)),p.on(this.el().querySelector(".vjs-text-opacity > select"),"change",m.bind(this,this.updateDisplay)),p.on(this.el().querySelector(".vjs-bg-opacity > select"),"change",m.bind(this,this.updateDisplay)),p.on(this.el().querySelector(".vjs-window-opacity > select"),"change",m.bind(this,this.updateDisplay)),p.on(this.el().querySelector(".vjs-font-percent select"),"change",m.bind(this,this.updateDisplay)),p.on(this.el().querySelector(".vjs-edge-style select"),"change",m.bind(this,this.updateDisplay)),p.on(this.el().querySelector(".vjs-font-family select"),"change",m.bind(this,this.updateDisplay)),this.options_.persistTextTrackSettings&&this.restoreSettings()}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:c()})},t.prototype.getValues=function(){var e=this.el(),t=a(e.querySelector(".vjs-edge-style select")),n=a(e.querySelector(".vjs-font-family select")),i=a(e.querySelector(".vjs-fg-color > select")),r=a(e.querySelector(".vjs-text-opacity > select")),s=a(e.querySelector(".vjs-bg-color > select")),o=a(e.querySelector(".vjs-bg-opacity > select")),l=a(e.querySelector(".window-color > select")),c=a(e.querySelector(".vjs-window-opacity > select")),u=_["default"].parseFloat(a(e.querySelector(".vjs-font-percent > select"))),d={backgroundOpacity:o,textOpacity:r,windowOpacity:c,edgeStyle:t,fontFamily:n,color:i,backgroundColor:s,windowColor:l,fontPercent:u};for(var h in d)(""===d[h]||"none"===d[h]||"fontPercent"===h&&1===d[h])&&delete d[h];return d},t.prototype.setValues=function(e){var t=this.el();l(t.querySelector(".vjs-edge-style select"),e.edgeStyle),l(t.querySelector(".vjs-font-family select"),e.fontFamily),l(t.querySelector(".vjs-fg-color > select"),e.color),l(t.querySelector(".vjs-text-opacity > select"),e.textOpacity),l(t.querySelector(".vjs-bg-color > select"),e.backgroundColor),l(t.querySelector(".vjs-bg-opacity > select"),e.backgroundOpacity),l(t.querySelector(".window-color > select"),e.windowColor),l(t.querySelector(".vjs-window-opacity > select"),e.windowOpacity);var n=e.fontPercent;n&&(n=n.toFixed(2)),l(t.querySelector(".vjs-font-percent > select"),n)},t.prototype.restoreSettings=function(){var e=b["default"](_["default"].localStorage.getItem("vjs-text-track-settings")),t=e[0],n=e[1];t&&v["default"].error(t),n&&this.setValues(n)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.getOwnPropertyNames(e).length>0?_["default"].localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):_["default"].localStorage.removeItem("vjs-text-track-settings")}catch(t){}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t}(d["default"]);d["default"].registerComponent("TextTrackSettings",C),n["default"]=C,t.exports=n["default"]},{"../component":58,"../utils/events.js":119,"../utils/fn.js":120,"../utils/log.js":123,"global/window":2,"safe-json-parse/tuple":48}],114:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var s=e("./text-track-cue-list"),o=r(s),a=e("../utils/fn.js"),l=i(a),c=e("../utils/guid.js"),u=i(c),d=e("../utils/browser.js"),h=i(d),p=e("./text-track-enums"),f=i(p),m=e("../utils/log.js"),g=r(m),v=e("../event-target"),y=r(v),b=e("global/document"),w=r(b),_=e("global/window"),C=r(_),k=e("../utils/url.js"),A=e("xhr"),E=r(A),S=function $(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!e.tech)throw new Error("A tech was not provided.");var t=this;if(h.IS_IE8){t=w["default"].createElement("custom");for(var n in $.prototype)t[n]=$.prototype[n]}t.tech_=e.tech;var i=f.TextTrackMode[e.mode]||"disabled",r=f.TextTrackKind[e.kind]||"subtitles",s=e.label||"",a=e.language||e.srclang||"",c=e.id||"vjs_text_track_"+u.newGUID();"metadata"!==r&&"chapters"!==r||(i="hidden"),t.cues_=[],t.activeCues_=[];var d=new o["default"](t.cues_),p=new o["default"](t.activeCues_),m=!1,g=l.bind(t,function(){this.activeCues,m&&(this.trigger("cuechange"),m=!1)});if("disabled"!==i&&t.tech_.on("timeupdate",g),Object.defineProperty(t,"kind",{get:function(){return r},set:Function.prototype}),Object.defineProperty(t,"label",{get:function(){return s},set:Function.prototype}),Object.defineProperty(t,"language",{get:function(){return a},set:Function.prototype}),Object.defineProperty(t,"id",{get:function(){return c},set:Function.prototype}),Object.defineProperty(t,"mode",{get:function(){return i},set:function(e){f.TextTrackMode[e]&&(i=e,"showing"===i&&this.tech_.on("timeupdate",g),this.trigger("modechange"))}}),Object.defineProperty(t,"cues",{get:function(){return this.loaded_?d:null},set:Function.prototype}),Object.defineProperty(t,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return p;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];r.startTime<=e&&r.endTime>=e?t.push(r):r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e&&t.push(r)}if(m=!1,t.length!==this.activeCues_.length)m=!0;else for(var n=0;n<t.length;n++)F.call(this.activeCues_,t[n])===-1&&(m=!0);return this.activeCues_=t,p.setCues_(this.activeCues_),p},set:Function.prototype}),e.src?(t.src=e.src,T(e.src,t)):t.loaded_=!0,h.IS_IE8)return t};S.prototype=Object.create(y["default"].prototype),S.prototype.constructor=S,S.prototype.allowedEvents_={cuechange:"cuechange"},S.prototype.addCue=function(e){var t=this.tech_.textTracks();if(t)for(var n=0;n<t.length;n++)t[n]!==this&&t[n].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},S.prototype.removeCue=function(e){for(var t=!1,n=0,i=this.cues_.length;n<i;n++){var r=this.cues_[n];r===e&&(this.cues_.splice(n,1),t=!0)}t&&this.cues.setCues_(this.cues_)};var x=function D(e,t){if("function"!=typeof C["default"].WebVTT)return C["default"].setTimeout(function(){D(e,t)},25);var n=new C["default"].WebVTT.Parser(C["default"],C["default"].vttjs,C["default"].WebVTT.StringDecoder());n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){g["default"].error(e)},n.parse(e),n.flush()},T=function(e,t){var n={uri:e},i=k.isCrossOrigin(e);i&&(n.cors=i),E["default"](n,l.bind(this,function(e,n,i){return e?g["default"].error(e,n):(t.loaded_=!0,void x(i,t))}))},F=function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return-1;var r=+t||0;if(Math.abs(r)===1/0&&(r=0),r>=i)return-1;for(var s=Math.max(r>=0?r:i-Math.abs(r),0);s<i;){if(s in n&&n[s]===e)return s;s++}return-1};n["default"]=S,t.exports=n["default"]},{"../event-target":90,"../utils/browser.js":115,"../utils/fn.js":120,"../utils/guid.js":122,"../utils/log.js":123,"../utils/url.js":128,"./text-track-cue-list":108,"./text-track-enums":110,"global/document":1,"global/window":2,xhr:50}],115:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var r=e("global/document"),s=i(r),o=e("global/window"),a=i(o),l=a["default"].navigator.userAgent,c=/AppleWebKit\/([\d.]+)/i.exec(l),u=c?parseFloat(c.pop()):null,d=/iPhone/i.test(l);n.IS_IPHONE=d;var h=/iPad/i.test(l);n.IS_IPAD=h;var p=/iPod/i.test(l);n.IS_IPOD=p;var f=d||h||p;n.IS_IOS=f;var m=function(){var e=l.match(/OS (\d+)_/i);if(e&&e[1])return e[1]}();n.IOS_VERSION=m;var g=/Android/i.test(l);n.IS_ANDROID=g;var v=function(){var e,t,n=l.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return n?(e=n[1]&&parseFloat(n[1]),t=n[2]&&parseFloat(n[2]),e&&t?parseFloat(n[1]+"."+n[2]):e?e:null):null}();n.ANDROID_VERSION=v;var y=g&&/webkit/i.test(l)&&v<2.3;n.IS_OLD_ANDROID=y;var b=g&&v<5&&u<537;n.IS_NATIVE_ANDROID=b;var w=/Firefox/i.test(l);n.IS_FIREFOX=w;var _=/Chrome/i.test(l);n.IS_CHROME=_;var C=/MSIE\s8\.0/.test(l);n.IS_IE8=C;var k=!!("ontouchstart"in a["default"]||a["default"].DocumentTouch&&s["default"]instanceof a["default"].DocumentTouch);n.TOUCH_ENABLED=k;var A="backgroundSize"in s["default"].createElement("video").style;n.BACKGROUND_SIZE_SUPPORTED=A},{"global/document":1,"global/window":2}],116:[function(e,t,n){"use strict";function i(e,t){var n,i,s=0;if(!t)return 0;e&&e.length||(e=r.createTimeRange(0,0));for(var o=0;o<e.length;o++)n=e.start(o),i=e.end(o),i>t&&(i=t),s+=i-n;return s/t}n.__esModule=!0,n.bufferedPercent=i;var r=e("./time-ranges.js")},{"./time-ranges.js":126}],117:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var r=e("./log.js"),s=i(r),o={get:function(e,t){return e[t]},set:function(e,t,n){return e[t]=n,!0}};n["default"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("function"==typeof Proxy){var n=function(){var n={};return Object.keys(t).forEach(function(e){o.hasOwnProperty(e)&&(n[e]=function(){return s["default"].warn(t[e]),o[e].apply(this,arguments)})}),{v:new Proxy(e,n)}}();if("object"==typeof n)return n.v}return e},t.exports=n["default"]},{"./log.js":123}],118:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){return e.raw=t,e}function o(e){return 0===e.indexOf("#")&&(e=e.slice(1)),k["default"].getElementById(e)}function a(){var e=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=k["default"].createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];e.indexOf("aria-")!==-1||"role"===e||"type"===e?(F["default"].warn(D["default"](_,e,n)),i.setAttribute(e,n)):i[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){n[e];i.setAttribute(e,n[e])}),i}function l(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function c(e){var t=e[M];return t||(t=e[M]=x.newGUID()),B[t]||(B[t]={}),B[t]}function u(e){var t=e[M];return!!t&&!!Object.getOwnPropertyNames(B[t]).length}function d(e){var t=e[M];if(t){delete B[t];try{delete e[M]}catch(n){e.removeAttribute?e.removeAttribute(M):e[M]=null}}}function h(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")!==-1}function p(e,t){h(e,t)||(e.className=""===e.className?t:e.className+" "+t)}function f(e,t){if(h(e,t)){for(var n=e.className.split(" "),i=n.length-1;i>=0;i--)n[i]===t&&n.splice(i,1);
e.className=n.join(" ")}}function m(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var i=t[n];null===i||"undefined"==typeof i||i===!1?e.removeAttribute(n):e.setAttribute(n,i===!0?"":i)})}function g(e){var t,n,i,r,s;if(t={},n=",autoplay,controls,loop,muted,default,",e&&e.attributes&&e.attributes.length>0){i=e.attributes;for(var o=i.length-1;o>=0;o--)r=i[o].name,s=i[o].value,"boolean"!=typeof e[r]&&n.indexOf(","+r+",")===-1||(s=null!==s),t[r]=s}return t}function v(){k["default"].body.focus(),k["default"].onselectstart=function(){return!1}}function y(){k["default"].onselectstart=function(){return!0}}function b(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=k["default"].documentElement,i=k["default"].body,r=n.clientLeft||i.clientLeft||0,s=E["default"].pageXOffset||i.scrollLeft,o=t.left+s-r,a=n.clientTop||i.clientTop||0,l=E["default"].pageYOffset||i.scrollTop,c=t.top+l-a;return{left:Math.round(o),top:Math.round(c)}}function w(e,t){var n={},i=b(e),r=e.offsetWidth,s=e.offsetHeight,o=i.top,a=i.left,l=t.pageY,c=t.pageX;return t.changedTouches&&(c=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(o-l+s)/s)),n.x=Math.max(0,Math.min(1,(c-a)/r)),n}n.__esModule=!0,n.getEl=o,n.createEl=a,n.insertElFirst=l,n.getElData=c,n.hasElData=u,n.removeElData=d,n.hasElClass=h,n.addElClass=p,n.removeElClass=f,n.setElAttributes=m,n.getElAttributes=g,n.blockTextSelection=v,n.unblockTextSelection=y,n.findElPosition=b,n.getPointerPosition=w;var _=s(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),C=e("global/document"),k=r(C),A=e("global/window"),E=r(A),S=e("./guid.js"),x=i(S),T=e("./log.js"),F=r(T),$=e("tsml"),D=r($),B={},M="vdata"+(new Date).getTime()},{"./guid.js":122,"./log.js":123,"global/document":1,"global/window":2,tsml:49}],119:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e,t,n){if(Array.isArray(t))return d(s,e,t,n);var i=p.getElData(e);i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=m.newGUID()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(!i.disabled){t=c(t);var r=i.handlers[t.type];if(r)for(var s=r.slice(0),o=0,a=s.length;o<a&&!t.isImmediatePropagationStopped();o++)s[o].call(e,t,n)}}),1===i.handlers[t].length&&(e.addEventListener?e.addEventListener(t,i.dispatcher,!1):e.attachEvent&&e.attachEvent("on"+t,i.dispatcher))}function o(e,t,n){if(p.hasElData(e)){var i=p.getElData(e);if(i.handlers){if(Array.isArray(t))return d(o,e,t,n);var r=function(t){i.handlers[t]=[],u(e,t)};if(t){var s=i.handlers[t];if(s){if(!n)return void r(t);if(n.guid)for(var a=0;a<s.length;a++)s[a].guid===n.guid&&s.splice(a--,1);u(e,t)}}else for(var l in i.handlers)r(l)}}}function a(e,t,n){var i=p.hasElData(e)?p.getElData(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=c(t),i.dispatcher&&i.dispatcher.call(e,t,n),r&&!t.isPropagationStopped()&&t.bubbles===!0)a.call(null,r,t,n);else if(!r&&!t.defaultPrevented){var s=p.getElData(t.target);t.target[t.type]&&(s.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),s.disabled=!1)}return!t.defaultPrevented}function l(e,t,n){if(Array.isArray(t))return d(l,e,t,n);var i=function r(){o(e,t,r),n.apply(this,arguments)};i.guid=n.guid=n.guid||m.newGUID(),s(e,t,i)}function c(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var i=e||v["default"].event;e={};for(var r in i)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&i.preventDefault||(e[r]=i[r]));if(e.target||(e.target=e.srcElement||b["default"]),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!=e.clientX){var s=b["default"].documentElement,o=b["default"].body;e.pageX=e.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function u(e,t){var n=p.getElData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&p.removeElData(e)}function d(e,t,n,i){n.forEach(function(n){e(t,n,i)})}n.__esModule=!0,n.on=s,n.off=o,n.trigger=a,n.one=l,n.fixEvent=c;var h=e("./dom.js"),p=r(h),f=e("./guid.js"),m=r(f),g=e("global/window"),v=i(g),y=e("global/document"),b=i(y)},{"./dom.js":118,"./guid.js":122,"global/document":1,"global/window":2}],120:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("./guid.js"),r=function(e,t,n){t.guid||(t.guid=i.newGUID());var r=function(){return t.apply(e,arguments)};return r.guid=n?n+"_"+t.guid:t.guid,r};n.bind=r},{"./guid.js":122}],121:[function(e,t,n){"use strict";function i(e){var t=arguments.length<=1||void 0===arguments[1]?e:arguments[1];return function(){var n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600),s=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=i=n="-"),r=r>0||o>0?r+":":"",i=((r||s>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,r+i+n}()}n.__esModule=!0,n["default"]=i,t.exports=n["default"]},{}],122:[function(e,t,n){"use strict";function i(){return r++}n.__esModule=!0,n.newGUID=i;var r=1},{}],123:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=Array.prototype.slice.call(t),i=function(){},r=o["default"].console||{log:i,warn:i,error:i};e?n.unshift(e.toUpperCase()+":"):e="log",a.history.push(n),n.unshift("VIDEOJS:"),r[e].apply?r[e].apply(r,n):r[e](n.join(" "))}n.__esModule=!0;var s=e("global/window"),o=i(s),a=function(){r(null,arguments)};a.history=[],a.error=function(){r("error",arguments)},a.warn=function(){r("warn",arguments)},n["default"]=a,t.exports=n["default"]},{"global/window":2}],124:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object}function s(){var e=Array.prototype.slice.call(arguments);return e.unshift({}),e.push(l),a["default"].apply(null,e),e[0]}n.__esModule=!0,n["default"]=s;var o=e("lodash-compat/object/merge"),a=i(o),l=function(e,t){return r(t)?r(e)?void 0:s(t):t};t.exports=n["default"]},{"lodash-compat/object/merge":40}],125:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var r=e("global/document"),s=i(r),o=function(e){var t=s["default"].createElement("style");return t.className=e,t};n.createStyleElement=o;var a=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};n.setTextContent=a},{"global/document":1}],126:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return Array.isArray(e)?s(e):void 0===e||void 0===t?s():s([[e,t]])}function s(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:o.bind(null,"start",0,e),end:o.bind(null,"end",1,e)}}function o(e,t,n,i){return void 0===i&&(c["default"].warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),i=0),a(e,i,n.length-1),n[i][t]}function a(e,t,n){if(t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+n+").")}n.__esModule=!0,n.createTimeRanges=r;var l=e("./log.js"),c=i(l);n.createTimeRange=r},{"./log.js":123}],127:[function(e,t,n){"use strict";function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.__esModule=!0,n["default"]=i,t.exports=n["default"]},{}],128:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var r=e("global/document"),s=i(r),o=e("global/window"),a=i(o),l=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=s["default"].createElement("a");n.href=e;var i=""===n.host&&"file:"!==n.protocol,r=void 0;i&&(r=s["default"].createElement("div"),r.innerHTML='<a href="'+e+'"></a>',n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),s["default"].body.appendChild(r));for(var o={},a=0;a<t.length;a++)o[t[a]]=n[t[a]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),i&&s["default"].body.removeChild(r),o};n.parseUrl=l;var c=function(e){if(!e.match(/^https?:\/\//)){var t=s["default"].createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e};n.getAbsoluteURL=c;var u=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""};n.getFileExtension=u;var d=function(e){var t=l(e),n=a["default"].location,i=":"===t.protocol?n.protocol:t.protocol,r=i+t.host!==n.protocol+n.host;return r};n.isCrossOrigin=d},{"global/document":1,"global/window":2}],129:[function(t,n,i){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e){return e&&e.__esModule?e:{"default":e}}i.__esModule=!0;var o=t("global/document"),a=s(o),l=t("./setup"),c=r(l),u=t("./utils/stylesheet.js"),d=r(u),h=t("./component"),p=s(h),f=t("./event-target"),m=s(f),g=t("./utils/events.js"),v=r(g),y=t("./player"),b=s(y),w=t("./plugins.js"),_=s(w),C=t("../../src/js/utils/merge-options.js"),k=s(C),A=t("./utils/fn.js"),E=r(A),S=t("./tracks/text-track.js"),x=s(S),T=t("object.assign"),F=(s(T),t("./utils/time-ranges.js")),$=t("./utils/format-time.js"),D=s($),B=t("./utils/log.js"),M=s(B),P=t("./utils/dom.js"),L=r(P),j=t("./utils/browser.js"),O=r(j),R=t("./utils/url.js"),I=r(R),q=t("./extend.js"),N=s(q),U=t("lodash-compat/object/merge"),z=s(U),H=t("./utils/create-deprecation-proxy.js"),V=s(H),W=t("xhr"),G=s(W),K=t("./tech/html5.js"),Q=(s(K),t("./tech/flash.js"));s(Q);"undefined"==typeof HTMLVideoElement&&(a["default"].createElement("video"),a["default"].createElement("audio"),a["default"].createElement("track"));var X=function Z(e,t,n){var i;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),Z.getPlayers()[e])return t&&M["default"].warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&Z.getPlayers()[e].ready(n),Z.getPlayers()[e];i=L.getEl(e)}else i=e;if(!i||!i.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return i.player||new b["default"](i,t,n)},Y=a["default"].querySelector(".vjs-styles-defaults");if(!Y){Y=d.createStyleElement("vjs-styles-defaults");var J=a["default"].querySelector("head");J.insertBefore(Y,J.firstChild),d.setTextContent(Y,"\n    .video-js {\n      width: 300px;\n      height: 150px;\n    }\n\n    .vjs-fluid {\n      padding-top: 56.25%\n    }\n  ")}c.autoSetupTimeout(1,X),X.VERSION="5.0.0",X.options=b["default"].prototype.options_,X.getPlayers=function(){return b["default"].players},X.players=V["default"](b["default"].players,{get:"Access to videojs.players is deprecated; use videojs.getPlayers instead",set:"Modification of videojs.players is deprecated"}),X.getComponent=p["default"].getComponent,X.registerComponent=p["default"].registerComponent,X.browser=O,X.TOUCH_ENABLED=O.TOUCH_ENABLED,X.extend=N["default"],X.mergeOptions=k["default"],X.bind=E.bind,X.plugin=_["default"],X.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),z["default"](X.options.languages,(n={},n[e]=t,n))[e]},X.log=M["default"],X.createTimeRange=X.createTimeRanges=F.createTimeRanges,X.formatTime=D["default"],X.parseUrl=I.parseUrl,X.isCrossOrigin=I.isCrossOrigin,X.EventTarget=m["default"],X.on=v.on,X.one=v.one,X.off=v.off,X.trigger=v.trigger,X.xhr=G["default"],X.TextTrack=x["default"],"function"==typeof e&&e.amd?e("videojs",[],function(){return X}):"object"==typeof i&&"object"==typeof n&&(n.exports=X),i["default"]=X,n.exports=i["default"]},{"../../src/js/utils/merge-options.js":124,"./component":58,"./event-target":90,"./extend.js":91,"./player":98,"./plugins.js":99,"./setup":101,"./tech/flash.js":104,"./tech/html5.js":105,"./tracks/text-track.js":114,"./utils/browser.js":115,"./utils/create-deprecation-proxy.js":117,"./utils/dom.js":118,"./utils/events.js":119,"./utils/fn.js":120,"./utils/format-time.js":121,"./utils/log.js":123,"./utils/stylesheet.js":125,"./utils/time-ranges.js":126,"./utils/url.js":128,"global/document":1,"lodash-compat/object/merge":40,"object.assign":43,xhr:50}]},{},[129])(129)}),function(e){var t=e.vttjs={},n=t.VTTCue,i=t.VTTRegion,r=e.VTTCue,s=e.VTTRegion;t.shim=function(){t.VTTCue=n,t.VTTRegion=i},t.restore=function(){t.VTTCue=r,t.VTTRegion=s}}(this),function(e,t){function n(e){if("string"!=typeof e)return!1;var t=a[e.toLowerCase()];return!!t&&e.toLowerCase()}function i(e){if("string"!=typeof e)return!1;var t=l[e.toLowerCase()];return!!t&&e.toLowerCase()}function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function s(e,t,s){var a=this,l=/MSIE\s8\.0/.test(navigator.userAgent),c={};l?a=document.createElement("custom"):c.enumerable=!0,a.hasBeenReset=!1;var u="",d=!1,h=e,p=t,f=s,m=null,g="",v=!0,y="auto",b="start",w=50,_="middle",C=50,k="middle";if(Object.defineProperty(a,"id",r({},c,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(a,"pauseOnExit",r({},c,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(a,"startTime",r({},c,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",r({},c,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",r({},c,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",r({},c,{get:function(){return m},set:function(e){m=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",r({},c,{get:function(){return g},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",r({},c,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",r({},c,{get:function(){return y},set:function(e){if("number"!=typeof e&&e!==o)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",r({},c,{get:function(){return b},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",r({},c,{get:function(){return w},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",r({},c,{get:function(){return _},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",r({},c,{get:function(){return C},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");C=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",r({},c,{get:function(){return k},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");k=t,this.hasBeenReset=!0}})),a.displayState=void 0,l)return a}var o="auto",a={"":!0,lr:!0,rl:!0},l={start:!0,middle:!0,end:!0,left:!0,right:!0};s.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=e.VTTCue||s,t.VTTCue=s}(this,this.vttjs||{}),function(e,t){function n(e){if("string"!=typeof e)return!1;var t=s[e.toLowerCase()];return!!t&&e.toLowerCase()}function i(e){return"number"==typeof e&&e>=0&&e<=100}function r(){var e=100,t=3,r=0,s=100,o=0,a=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!i(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!i(e))throw new Error("RegionAnchorX must be between 0 and 100.");s=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!i(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!i(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!i(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");l=t}}})}var s={"":!0,up:!0};e.VTTRegion=e.VTTRegion||r,t.VTTRegion=r}(this,this.vttjs||{}),function(e){function t(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function n(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function i(){this.values=f(null)}function r(e,t,n,i){var r=i?e.split(i):[e];for(var s in r)if("string"==typeof r[s]){var o=r[s].split(n);if(2===o.length){var a=o[0],l=o[1];t(a,l)}}}function s(e,s,o){function a(){var i=n(e);if(null===i)throw new t(t.Errors.BadTimeStamp,"Malformed timestamp: "+u);return e=e.replace(/^[^\sa-zA-Z-]+/,""),i}function l(e,t){var n=new i;r(e,function(e,t){switch(e){case"region":for(var i=o.length-1;i>=0;i--)if(o[i].id===t){n.set(e,o[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var r=t.split(","),s=r[0];n.integer(e,s),n.percent(e,s)?n.set("snapToLines",!1):null,n.alt(e,s,["auto"]),2===r.length&&n.alt("lineAlign",r[1],["start","middle","end"]);break;case"position":r=t.split(","),n.percent(e,r[0]),2===r.length&&n.alt("positionAlign",r[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function c(){e=e.replace(/^\s+/,"")}var u=e;if(c(),s.startTime=a(),c(),"-->"!==e.substr(0,3))throw new t(t.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+u);e=e.substr(3),c(),s.endTime=a(),c(),l(e,s)}function o(e,t){function i(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return e(n[1]?n[1]:n[2])}function r(e){return m[e]}function s(e){for(;f=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(f[0],r);return e}function o(e,t){return!y[t.localName]||y[t.localName]===e.localName}function a(t,n){var i=g[t];if(!i)return null;var r=e.document.createElement(i);r.localName=i;var s=v[t];return s&&n&&(r[s]=n.trim()),r}for(var l,c=e.document.createElement("div"),u=c,d=[];null!==(l=i());)if("<"!==l[0])u.appendChild(e.document.createTextNode(s(l)));else{if("/"===l[1]){d.length&&d[d.length-1]===l.substr(2).replace(">","")&&(d.pop(),u=u.parentNode);continue}var h,p=n(l.substr(1,l.length-2));if(p){h=e.document.createProcessingInstruction("timestamp",p),u.appendChild(h);continue}var f=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f)continue;if(h=a(f[1],f[3]),!h)continue;if(!o(u,h))continue;f[2]&&(h.className=f[2].substr(1).replace("."," ")),d.push(f[1]),u.appendChild(h),u=h}return c}function a(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var i=e.pop(),r=i.textContent||i.innerText;if(r){var s=r.match(/^.*(\n|\r)/);return s?(e.length=0,s[0]):r}return"ruby"===i.tagName?n(e):i.childNodes?(t(e,i),n(e)):void 0}var i,r=[],s="";if(!e||!e.childNodes)return"ltr";for(t(r,e);s=n(r);)for(var o=0;o<s.length;o++){i=s.charCodeAt(o);for(var a=0;a<b.length;a++)if(b[a]===i)return"rtl"}return"ltr"}function l(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return++i*-1}function c(){}function u(e,t,n){var i=/MSIE\s8\.0/.test(navigator.userAgent),r="rgba(255, 255, 255, 1)",s="rgba(0, 0, 0, 0.8)";i&&(r="rgb(255, 255, 255)",s="rgb(0, 0, 0)"),c.call(this),this.cue=t,this.cueDiv=o(e,t.text);var l={color:r,backgroundColor:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};i||(l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",l.unicodeBidi="plaintext"),this.applyStyles(l,this.cueDiv),this.div=e.document.createElement("div"),l={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},i||(l.direction=a(this.cueDiv),l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(l),this.div.appendChild(this.cueDiv);var u=0;switch(t.positionAlign){case"start":u=t.position;break;case"middle":u=t.position-t.size/2;break;case"end":u=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(u,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(u,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function d(e){var t,n,i,r,s=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,r=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||n,this.bottom=e.bottom||r+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight,s&&!this.lineHeight&&(this.lineHeight=13)}function h(e,t,n,i){function r(e,t){for(var r,s=new d(e),o=1,a=0;a<t.length;a++){for(;e.overlapsOppositeAxis(n,t[a])||e.within(n)&&e.overlapsAny(i);)e.move(t[a]);if(e.within(n))return e;var l=e.intersectPercentage(n);o>l&&(r=new d(e),o=l),e=new d(s)}return r||s}var s=new d(t),o=t.cue,a=l(o),c=[];if(o.snapToLines){var u;switch(o.vertical){case"":c=["+y","-y"],u="height";break;case"rl":c=["+x","-x"],u="width";break;case"lr":c=["-x","+x"],u="width"}var h=s.lineHeight,p=h*Math.round(a),f=n[u]+h,m=c[0];Math.abs(p)>f&&(p=p<0?-1:1,p*=Math.ceil(f/h)*h),a<0&&(p+=""===o.vertical?n.height:n.width,c=c.reverse()),s.move(m,p)}else{var g=s.lineHeight/n.height*100;switch(o.lineAlign){case"middle":a-=g/2;break;case"end":a-=g}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}c=["+y","-x","+x","-y"],s=new d(t)}var v=r(s,c);t.move(v.toCSSCompatValues(n))}function p(){}var f=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();t.prototype=f(Error.prototype),t.prototype.constructor=t,t.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},i.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){var n;return!!((n=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&t<=100))&&(this.set(e,t),!0)}};var m={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},g={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},v={v:"title",lang:"lang"},y={rt:"ruby"},b=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];
c.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},c.prototype.formatStyle=function(e,t){return 0===e?0:e+t},u.prototype=f(c.prototype),u.prototype.constructor=u,d.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},d.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},d.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},d.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},d.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},d.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),i=t*n;return i/(this.height*this.width)},d.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},d.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var r={left:e.left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n};return r},p.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},p.convertCueToDOMTree=function(e,t){return e&&t?o(e,t):null};var w=.05,_="sans-serif",C="1.5%";p.processCues=function(e,t,n){function i(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=C,n.appendChild(r),i(t)){var s=[],o=d.getSimpleBoxPosition(r),a=Math.round(o.height*w*100)/100,l={font:a+"px "+_};!function(){for(var n,i,a=0;a<t.length;a++)i=t[a],n=new u(e,i,l),r.appendChild(n.div),h(e,n,o,s),i.displayState=n.div,s.push(d.getSimpleBoxPosition(n))}()}else for(var c=0;c<t.length;c++)r.appendChild(t[c].displayState)},p.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},p.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof t))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function n(){for(var e=l.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,l.buffer=e.substr(t),n}function o(e){var t=new i;if(r(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var r=n.split(",");if(2!==r.length)break;var s=new i;if(s.percent("x",r[0]),s.percent("y",r[1]),!s.has("x")||!s.has("y"))break;t.set(e+"X",s.get("x")),t.set(e+"Y",s.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(l.vttjs.VTTRegion||l.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),l.onregion&&l.onregion(n),l.regionList.push({id:t.get("id"),region:n})}}function a(e){r(e,function(e,t){switch(e){case"Region":o(t)}},/:/)}var l=this;e&&(l.buffer+=l.decoder.decode(e,{stream:!0}));try{var c;if("INITIAL"===l.state){if(!/\r\n|\n/.test(l.buffer))return this;c=n();var u=c.match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new t(t.Errors.BadSignature);l.state="HEADER"}for(var d=!1;l.buffer;){if(!/\r\n|\n/.test(l.buffer))return this;switch(d?d=!1:c=n(),l.state){case"HEADER":/:/.test(c)?a(c):c||(l.state="ID");continue;case"NOTE":c||(l.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(c)){l.state="NOTE";break}if(!c)continue;if(l.cue=new(l.vttjs.VTTCue||l.window.VTTCue)(0,0,""),l.state="CUE",c.indexOf("-->")===-1){l.cue.id=c;continue}case"CUE":try{s(c,l.cue,l.regionList)}catch(h){l.reportOrThrowError(h),l.cue=null,l.state="BADCUE";continue}l.state="CUETEXT";continue;case"CUETEXT":var p=c.indexOf("-->")!==-1;if(!c||p&&(d=!0)){l.oncue&&l.oncue(l.cue),l.cue=null,l.state="ID";continue}l.cue.text&&(l.cue.text+="\n"),l.cue.text+=c;continue;case"BADCUE":c||(l.state="ID");continue}}}catch(h){l.reportOrThrowError(h),"CUETEXT"===l.state&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state="INITIAL"===l.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new t(t.Errors.BadSignature)}catch(n){e.reportOrThrowError(n)}return e.onflush&&e.onflush(),this}},e.WebVTT=p}(this,this.vttjs||{})}).call(window)}).call(t,function(){return this}())},500:function(e,t,n){var i,r;i=[n(2),n(46)],r=function(e,t){return e.module("services.utils",[t.name]).factory("Utils",["$timeout","$q","gettextCatalog",function(t,n,i){var r=function(t){e.extend(this,t)};return r.trimTags=function(t){return e.isString(t)?t.replace(/(<([^>]+)>)/gi,""):null},r.replaceImgTag=function(t){return e.isString(t)?t.replace(/<img[^>]+>/gm,i.getString("[image]")):null},r.removeItemFromArray=function(e,t){var n=t.indexOf(e);return n<=0&&(t.splice(n,1),!0)},r.convertBoolToInt=function(e){if("boolean"==typeof e)return e?1:0},r.convertParamToBool=function(e){return"true"===e||e>0},r.htmlTagsHasContent=function(e){return!!r.trimTags(e)},r.joinObjWithEnclosedTag=function(t,n){var i,r,s,o="";for(r in t)if(Object.prototype.hasOwnProperty.call(t,r))for(s=t[r],e.isArray(s)||(s=[s]),i=0;i<s.length;i++)o+="<"+n+">"+t[r]+"</"+n+">";return o},r.debounce=function(e,i,r){var s,o=n.defer();return function(){for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=this,d=function(){s=null,r||(o.resolve(e.apply(u,l)),o=n.defer())},h=r&&!s;return s&&t.cancel(s),s=t(d,i),h&&(o.resolve(e.apply(u,l)),o=n.defer()),o.promise}},r}])}.apply(t,i),!(void 0!==r&&(e.exports=r))},501:function(e,t,n){var i,r;i=[n(14),n(16),n(64),n(169)],r=function(e,t,n,i){function r(){this._trackerName="courseDashboardTracker",this._dimensions={userId:"dimension1",userType:"dimension3",courseType:"dimension4",ctVersion:"dimension5"},this._eventData={userId:t.id,userType:null,courseId:null,courseType:null,objectId:null,objectType:null,ctVersion:null},n.createAccount(e.third_party.google_analytics_id_for_course_taking,this._trackerName),n.setValue(this._dimensions.userId,t.id,this._trackerName)}return r.prototype.BASE="base",r.prototype.R1="1",r.prototype.setUserType=function(e){n.setValue(this._dimensions.userType,e,this._trackerName),this._eventData.userType=e},r.prototype.setCourseId=function(e){this._eventData.courseId=e},r.prototype.setCourseType=function(e){n.setValue(this._dimensions.courseType,e,this._trackerName),this._eventData.courseType=e},r.prototype.setCurriculumObject=function(e,t){this._eventData.objectType=e,this._eventData.objectId=t},r.prototype.setCTVersion=function(e){n.setValue(this._dimensions.ctVersion,e,this._trackerName),this._eventData.ctVersion=e},r.prototype.isGATrackingEnabled=function(e){return"Teach Tab"===e},r.prototype.track=function(e,t,r,s,o,a,l){if(this._eventData.courseId&&("coursetaking"===e||"playercontrol"===e)){this.isGATrackingEnabled(t)&&n.trackEvent(t,r,s,o,this._trackerName,a);var c={};for(var u in this._eventData)c[u]=this._eventData[u];c.category=t,c.action=r,c.extra=JSON.stringify(a);for(var d in l)c[d]=l[d];i.trackPageEvent("trackclick",e,c)}},new r}.apply(t,i),!(void 0!==r&&(e.exports=r))},503:function(e,t,n){var i,r;i=[n(2),n(3),n(65),n(500)],r=function(e,t,n,i){return e.module("filters.htmlUtils",[i.name]).filter("textToHtml",function(){return function(e){if(!e)return e;e=t("<i/>").text(e).html().replace(/\n/g,"<br/>");for(var n,i=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi,r=[],s=[];null!==(n=i.exec(e));)r.push(n.index),s.push(n[0]);if(0===r.length)return e;for(var o,a=e.substring(0,r[0]),l=0;l<r.length;l++)o=l+1<r.length?e.substring(r[l],r[l+1]):e.substring(r[l]),a+=o.replace(s[l],'<a href="'+s[l]+'" target="_blank" rel="nofollow noreferrer" >'+s[l]+"</a>");return a}}).filter("isStrippedHTMLEmpty",["Utils",function(e){return function(t){return!e.trimTags(t)}}]).filter("thousandsToK",function(){return function(e){return e>=1e3?(e=Math.round(e/100)/10,e.toString().replace(".0","")+"K"):e.toString()}}).filter("mysqlDate",["$filter",function(e){return function(t,i){var r="America/Los_Angeles",s=n.tz(t,r);return e("date")(s.toDate(),i,s.utcOffset())}}]).filter("firstNameRestInitials",function(){return function(e){var t=e.split(" ");return t[0]+" "+t.slice(1).join(" ").replace(/(\S)\S*\s*/gi,"$1.")}}).filter("stripBreaks",function(){return function(e){var t=String(e).replace(/<((p)|(br))\/?>/gm,"");return t}}).filter("stripImages",function(){return function(e){var t=String(e).replace(/<img\/?>/gm,"");return t}}).filter("stripLists",function(){return function(e){var t=String(e).replace(/<((ul)|(ol)|(li)|(dl))\/?>/gm,"");return t}}).filter("openBlankTarget",function(){return function(t){if(null===t||void 0===t)return"";var n=e.element("<div>"+t+"</div>");return n.find("a").attr("target","_blank"),n.html()}})}.apply(t,i),!(void 0!==r&&(e.exports=r))},505:function(e,t,n){var i,r;i=[n(2),n(61)],r=function(e,t){function n(e,n,i,r){function s(t){return e.getBuyableInfo(o.state,t)}var o=this;o.state={};var a={};o.init=function(){var t=r.defer();return e.getInitData().then(function(e){o.state=e,a={initialized:!0},t.resolve(e)}),a={initializing:!0,promise:t.promise},t.promise},o.get=function(){return a.initialized?r.when(o.state):a.initializing?a.promise:o.init()},o.loadCouponInfo=function(t){return n.get(e.urls.CHECKOUT_INFO_URL,{params:s({couponCode:t})})},o.generateExternalGatewayLink=function(e){var t,n;return o.state.discount_info&&o.state.discount_info.is_valid?(n=o.state.discount_info.coupon_code,t=e.addQueryParam("couponCode",n)):t=e.deleteQueryParam("couponCode"),t.toString()},o.updatePayPalLink=function(){var e,n;e=new t(o.state.paypal_link),n=o.generateExternalGatewayLink(e),o.state.paypal_link=n},o.updateAdyenLink=function(){var e,n;e=new t(o.state.adyen_link),n=o.generateExternalGatewayLink(e),o.state.adyen_link=n},o.updateLinks=function(){o.updateAdyenLink(),o.updatePayPalLink()},o.applyCoupon=function(e){return o.enableLoadingIndicator(),o.loadCouponInfo(e).then(function(e){o.disableLoadingIndicator(),o.state.discount_info=e.data.discount_info,o.state.price_info=e.data.price_info,o.updateLinks()},function(e){o.disableLoadingIndicator(),o.messageUser(e.data.detail,"error"),o.updateLinks()})},o.enableLoadingIndicator=function(){o.loadingIndicator.open=!0},o.disableLoadingIndicator=function(){o.loadingIndicator.open=!1},o.saveCallLog=function(e){n.post("/payment/call-log/",s(e))},o.saveAttempt=function(e){n.post("/payment/attempt/",s(e))},o.getErrorMessage=function(e){return o.state.error_messages[e]},o.getRememberMeValue=function(){return o.state.remember_card},o.checkout=function(t){var i=s({paymentInfo:t});return n.post(e.urls.CHECKOUT_SUBMIT_URL,i)},o.messageUser=function(t,n){n=n||"error",e.messageUser(t,n)},o.loadingIndicator={open:!1}}var i=e.module("apps.checkout.checkoutService",[]).service("Checkout",n);return n.$inject=["CheckoutStrategy","$http","$window","$q"],i}.apply(t,i),!(void 0!==r&&(e.exports=r))},507:function(e,t,n){var i,r;i=[n(2),n(16)],r=function(e,t){return e.module("services.user",[]).factory("User",["$http",function(n){var i=function(t){e.extend(this,t)};i.getMe=function(){return t},i.getAllowedAnnouncementsCount=function(e){return n.get("/api-2.0/courses/"+e+"/allowed-announcements/")};var r={"fields[course]":"@min,visible_instructors,image_480x270,favorite_time,archive_time,completion_ratio,last_accessed_time,enrollment_time,features","fields[user]":"@min,job_title"};return i.getTakingCourses=function(t,i,s,o){var a={page:t,page_size:i};return e.extend(a,r,o),s&&(a.search=s),n.get("/api-2.0/users/me/subscribed-courses",{params:a})},i.getTakingCoursesCategories=function(t,i){var r={};return e.extend(r,i),t&&(r.search=t),n.get("/api-2.0/users/me/subscribed-courses-categories",{params:r})},i.getTakingCoursesInstructors=function(t,i){var r={page_size:100};return e.extend(r,i),t&&(r.search=t),n.get("/api-2.0/users/me/subscribed-courses-instructors",{params:r})},i.getTakingCoursesProgressFilters=function(t,i){var r={};return e.extend(r,i),t&&(r.search=t),n.get("/api-2.0/users/me/subscribed-courses-progress-filters",{params:r})},i.getWishlistedCourses=function(t,i,r,s){var o="@default,avg_rating_recent,num_reviews,is_wishlisted,num_subscribers,is_in_content_subscription,promotion_price,primary_subcategory",a={page:t,page_size:i,include_spam:"true","fields[course]":o,"fields[user]":"@min"};return e.extend(a,r),s&&(a.search=s),n.get("/api-2.0/users/me/wishlisted-courses",{params:a})},i.searchWishlistedCourses=function(t,i,r,s){var o="@default,avg_rating_recent,num_reviews,is_wishlisted,num_subscribers,is_in_content_subscription,promotion_price",a={page:t,page_size:i,include_spam:"true","fields[course]":o,"fields[user]":"@min"};return e.extend(a,r),s&&(a.search=s),n.get("/api-2.0/users/me/wishlisted-courses",{params:a})},i.searchTakingCourses=function(t,i,s){var o={page:t,page_size:i};return e.extend(o,r),s&&(o.search=s),n.get("/api-2.0/users/me/subscribed-courses",{params:o})},i.favoriteCourse=function(e,t){return n.post("/api-2.0/users/me/favorited-courses",{course_id:e},{params:t||r})},i.unfavoriteCourse=function(e){return n["delete"]("/api-2.0/users/me/favorited-courses/"+e)},i.archiveCourse=function(e,t){return n.post("/api-2.0/users/me/archived-courses",{course_id:e},{params:t||r})},i.unarchiveCourse=function(e){return n["delete"]("/api-2.0/users/me/archived-courses/"+e)},i.removeCourseFromWishlist=function(e){return n["delete"]("/api-2.0/users/me/wishlisted-courses/"+e)},i.addCourseToWishlist=function(e){return n.post("/api-2.0/users/me/wishlisted-courses/",{course_id:e})},i.is_anonymous=function(){var e=i.getMe();return"undefined"!=typeof e&&"undefined"==typeof e.id},i}])}.apply(t,i),!(void 0!==r&&(e.exports=r))},508:function(e,t,n){var i,r;i=[n(2),n(3),n(61),n(67),n(120)],r=function(e,t,n,i){return e.module("directives.common.popup",[]).directive("popup",["$timeout","$parse",function(e,r){return{scope:{open:"=?",href:"@",extraCss:"@",beforeClose:"&?"},restrict:"EA",terminal:!0,link:function(s,o,a){o=t(o),o.css("display","block");var l={scrolling:"auto",width:a.width||400,height:a.height||"auto",minWidth:a.width||400,minHeight:a.height||"auto",autoDimensions:!1,autoCenter:!0,padding:0,autoSize:!0,fitToView:!1,wrapCSS:"static-content-wrapper "+s.extraCss,afterShow:function(){i(),this.inner.ud_initialize(),t.fancybox.update(),setTimeout(function(){t.fancybox.update()},1e3)},beforeClose:function(){t("#fancybox-overlay").addClass("noopacity");var n=!s.beforeClose||s.beforeClose();return e(function(){s.$apply()},0),n}};s.$watch("href",function(e){if(e){if("#"!==e[0]){l.type="ajax";var t=new n(a.href);t.addQueryParam("displayType","ajax"),t.addQueryParam("display_type","popup")}l.href=t}}),s.$watch("open",function(e){e&&(t.fancybox.open(o,l),s.open=!1)}),s.$watch(function(){return r(a.reposition)(s)},function(e){e&&t.fancybox.reposition()})}}}])}.apply(t,i),!(void 0!==r&&(e.exports=r))},509:function(e,t){/**
	 * State-based routing for AngularJS
	 * @version v0.2.15
	 * @link http://angular-ui.github.com/
	 * @license MIT License, http://www.opensource.org/licenses/MIT
	 */
"undefined"!=typeof e&&"undefined"!=typeof t&&e.exports===t&&(e.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return I(new(I(function(){},{prototype:e})),t)}function r(e){return R(arguments,function(t){t!==e&&R(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function s(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function o(e){if(Object.keys)return Object.keys(e);var t=[];return R(e,function(e,n){t.push(n)}),t}function a(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in e&&e[i]===t)return i;return-1}function l(e,t,n,i){var r,l=s(n,i),c={},u=[];for(var d in l)if(l[d].params&&(r=o(l[d].params),r.length))for(var h in r)a(u,r[h])>=0||(u.push(r[h]),c[r[h]]=e[r[h]]);return I({},c,t)}function c(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var r=0;r<n.length;r++){var s=n[r];if(e[s]!=t[s])return!1}return!0}function u(e,t){var n={};return R(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return R(n,function(n){n in e&&(t[n]=e[n])}),t}function h(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==a(n,i)&&(t[i]=e[i]);return t}function p(e,t){var n=O(e),i=n?[]:{};return R(e,function(e,r){t(e,r)&&(i[n?i.length:r]=e)}),i}function f(e,t){var n=O(e)?[]:{};return R(e,function(e,i){n[i]=t(e,i)}),n}function m(e,t){var i=1,s=2,l={},c=[],u=l,d=I(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function p(e,n){if(y[n]!==s){if(v.push(n),y[n]===i)throw v.splice(0,a(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=i,L(e))g.push(n,[function(){return t.get(e)}],c);else{var r=t.annotate(e);R(r,function(e){e!==n&&l.hasOwnProperty(e)&&p(l[e],e)}),g.push(n,e,r)}v.pop(),y[n]=s}}function f(e){return j(e)&&e.then&&e.$$promises}if(!j(l))throw new Error("'invocables' must be an object");var m=o(l||{}),g=[],v=[],y={};return R(l,p),l=v=y=null,function(i,s,o){function a(){--w||(_||r(b,s.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,p.resolve(b))}function l(e){v.$$failure=e,p.reject(e)}function c(n,r,s){function c(e){d.reject(e),l(e)}function u(){if(!M(v.$$failure))try{d.resolve(t.invoke(r,o,b)),d.promise.then(function(e){b[n]=e,a()},c)}catch(e){c(e)}}var d=e.defer(),h=0;R(s,function(e){y.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(h++,y[e].then(function(t){b[e]=t,--h||u()},c))}),h||u(),y[n]=d.promise}if(f(i)&&o===n&&(o=s,s=i,i=null),i){if(!j(i))throw new Error("'locals' must be an object")}else i=u;if(s){if(!f(s))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else s=d;var p=e.defer(),v=p.promise,y=v.$$promises={},b=I({},i),w=1+g.length/3,_=!1;if(M(s.$$failure))return l(s.$$failure),v;s.$$inheritedValues&&r(b,h(s.$$inheritedValues,m)),I(y,s.$$promises),s.$$values?(_=r(b,h(s.$$values,m)),v.$$inheritedValues=h(s.$$values,m),a()):(s.$$inheritedValues&&(v.$$inheritedValues=h(s.$$inheritedValues,m)),s.then(a,l));for(var C=0,k=g.length;k>C;C+=3)i.hasOwnProperty(g[C])?a():c(g[C],g[C+1],g[C+2]);return v}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function g(e,t,n){this.fromConfig=function(e,t,n){return M(e.template)?this.fromString(e.template,t):M(e.templateUrl)?this.fromUrl(e.templateUrl,t):M(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return P(e)?e(t):e},this.fromUrl=function(n,i){return P(n)&&(n=n(i)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function v(e,t,r){function s(t,n,i,r){if(g.push(t),f[t])return f[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(m[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return m[t]=new N.Param(t,n,i,r),m[t]}function o(e,t,n,i){var r=["",""],s=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return s;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:r=["?(",")?"];break;default:r=["("+n+"|",")?"]}return s+r[0]+t+r[1]}function a(r,s){var o,a,l,c,u;return o=r[2]||r[3],u=t.params[o],l=e.substring(h,r.index),a=s?r[4]:r[4]||("*"==r[1]?".*":null),c=N.type(a||"string")||i(N.type("string"),{pattern:new RegExp(a,t.caseInsensitive?"i":n)}),{id:o,regexp:a,segment:l,type:c,cfg:u}}t=I({params:{}},j(t)?t:{});var l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",h=0,p=this.segments=[],f=r?r.params:{},m=this.params=r?r.params.$$new():new N.ParamSet,g=[];this.source=e;for(var v,y,b;(l=c.exec(e))&&(v=a(l,!1),!(v.segment.indexOf("?")>=0));)y=s(v.id,v.type,v.cfg,"path"),d+=o(v.segment,y.type.pattern.source,y.squash,y.isOptional),p.push(v.segment),h=c.lastIndex;b=e.substring(h);var w=b.indexOf("?");if(w>=0){var _=this.sourceSearch=b.substring(w);if(b=b.substring(0,w),this.sourcePath=e.substring(0,h+w),_.length>0)for(h=0;l=u.exec(_);)v=a(l,!0),y=s(v.id,v.type,v.cfg,"search"),h=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=o(b)+(t.strict===!1?"/?":"")+"$",p.push(b),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=p[0],this.$$paramNames=g}function y(e){I(this,e)}function b(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function r(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function s(){return{strict:m,caseInsensitive:h}}function l(e){return P(e)||O(e)&&P(e[e.length-1])}function c(){for(;C.length;){var e=C.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(w[e.name],d.invoke(e.def))}}function u(e){I(this,e||{})}N=this;var d,h=!1,m=!0,g=!1,w={},_=!0,C=[],k={string:{encode:e,decode:r,is:function(e){return null==e||!M(e)||"string"==typeof e},pattern:/[^/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return M(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(e.value)},this.caseInsensitive=function(e){return M(e)&&(h=e),h},this.strictMode=function(e){return M(e)&&(m=e),m},this.defaultSquashPolicy=function(e){if(!M(e))return g;if(e!==!0&&e!==!1&&!L(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return g=e,e},this.compile=function(e,t){return new v(e,I(s(),t))},this.isMatcher=function(e){if(!j(e))return!1;var t=!0;return R(v.prototype,function(n,i){P(n)&&(t=t&&M(e[i])&&P(e[i]))}),t},this.type=function(e,t,n){if(!M(t))return w[e];if(w.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return w[e]=new y(I({name:e},t)),n&&(C.push({name:e,def:n}),_||c()),this},R(k,function(e,t){w[t]=new y(I({name:t},e))}),w=i(w,{}),this.$get=["$injector",function(e){return d=e,_=!1,c(),R(k,function(e,t){w[t]||(w[t]=new y(e))}),this}],this.Param=function(e,t,i,r){function s(e){var t=j(e)?o(e):[],n=-1===a(t,"value")&&-1===a(t,"type")&&-1===a(t,"squash")&&-1===a(t,"array");return n&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}function c(t,n,i){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof y?t.type:new y(t.type):"config"===i?w.any:w.string}function u(){var t={array:"search"===r&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return I(t,n,i).array}function h(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!M(n)||null==n)return g;if(n===!0||L(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function m(e,t,i,r){var s,o,l=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return s=O(e.replace)?e.replace:[],L(r)&&s.push({from:r,to:n}),o=f(s,function(e){return e.from}),p(l,function(e){return-1===a(o,e.from)}).concat(s)}function v(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");var e=d.invoke(i.$$fn);if(null!==e&&e!==n&&!C.type.is(e))throw new Error("Default value ("+e+") for parameter '"+C.id+"' is not an instance of Type ("+C.type.name+")");return e}function b(e){function t(e){return function(t){return t.from===e}}function n(e){var n=f(p(C.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),M(e)?C.type.$normalize(e):v()}function _(){return"{Param:"+e+" "+t+" squash: '"+E+"' optional: "+A+"}"}var C=this;i=s(i),t=c(i,t,r);var k=u();t=k?t.$asArray(k,"search"===r):t,"string"!==t.name||k||"path"!==r||i.value!==n||(i.value="");var A=i.value!==n,E=h(i,A),S=m(i,k,A,E);I(this,{id:e,type:t,location:r,array:k,squash:E,replace:S,isOptional:A,value:b,dynamic:n,config:i,toString:_})},u.prototype={$$new:function(){return i(this,I(new u,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=o(u.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),R(t,function(t){R(o(t),function(t){-1===a(e,t)&&-1===a(i,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return R(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return R(i.$$keys(),function(r){var s=e&&e[r],o=t&&t[r];i[r].type.equals(s,o)||(n=!1)}),n},$$validates:function(e){var i,r,s,o,a,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],s=e[l[i]],s!==n&&null!==s||!r.isOptional);i++){if(o=r.type.$normalize(s),!r.type.is(o))return!1;if(a=r.type.encode(o),t.isString(a)&&!r.type.pattern.exec(a))return!1}return!0},$$parent:n},this.ParamSet=u}function w(e,i){function r(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function s(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function o(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return!M(i)||i}function a(i,r,s,o){function a(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function h(e){function t(e){var t=e(s,i);return!!t&&(L(t)&&i.replace().url(t),!0)}if(!e||!e.defaultPrevented){f&&i.url()===f,f=n;var r,o=c.length;for(r=0;o>r;r++)if(t(c[r]))return;u&&t(u)}}function p(){return l=l||r.$on("$locationChangeSuccess",h)}var f,m=o.baseHref(),g=i.url();return d||p(),{sync:function(){h()},listen:function(){return p()},update:function(e){return e?void(g=i.url()):void(i.url()!==g&&(i.url(g),i.replace()))},push:function(e,t,r){var s=e.format(t||{});null!==s&&t&&t["#"]&&(s+="#"+t["#"]),i.url(s),f=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,s){if(!n.validates(r))return null;var o=e.html5Mode();t.isObject(o)&&(o=o.enabled);var l=n.format(r);if(s=s||{},o||null===l||(l="#"+e.hashPrefix()+l),null!==l&&r&&r["#"]&&(l+="#"+r["#"]),l=a(l,o,s.absolute),!s.absolute||!l)return l;var c=!o&&l?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,c,l].join("")}}}var l,c=[],u=null,d=!1;this.rule=function(e){if(!P(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(L(e)){var t=e;e=function(){return t}}else if(!P(e))throw new Error("'rule' must be a function");return u=e,this},this.when=function(e,t){var n,a=L(t);if(L(e)&&(e=i.compile(e)),!a&&!P(t)&&!O(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return a&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),I(function(n,i){return o(n,t,e.exec(i.path(),i.search()))},{prefix:L(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return a&&(n=t,t=["$match",function(e){return s(n,e)}]),I(function(n,i){return o(n,t,e.exec(i.path()))},{prefix:r(e)})}},c={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var u in c)if(c[u])return this.rule(l[u](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=a,a.$inject=["$location","$rootScope","$injector","$browser"]}function _(e,r){function s(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function h(e,t){if(!e)return n;var i=L(e),r=i?e:e.name,o=s(r);if(o){if(!t)throw new Error("No reference point given for path '"+r+"'");t=h(t);for(var a=r.split("."),l=0,c=a.length,u=t;c>l;l++)if(""!==a[l]||0!==l){if("^"!==a[l])break;if(!u.parent)throw new Error("Path '"+r+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;a=a.slice(l).join("."),r=u.name+(u.name&&a?".":"")+a}var d=E[r];return!d||!i&&(i||d!==e&&d.self!==e)?n:d}function p(e,t){S[e]||(S[e]=[]),S[e].push(t)}function m(e){for(var t=S[e]||[];t.length;)g(t.shift())}function g(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!L(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(E.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):L(t.parent)?t.parent:j(t.parent)&&L(t.parent.name)?t.parent.name:"";if(r&&!E[r])return p(r,t.self);for(var s in T)P(T[s])&&(t[s]=T[s](t,T.$delegates[s]));return E[n]=t,!t[x]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){A.$current.navigable==t&&c(e,n)||A.transitionTo(t,e,{inherit:!0,location:!1})}]),m(n),t}function v(e){return e.indexOf("*")>-1}function y(e){for(var t=e.split("."),n=A.$current.name.split("."),i=0,r=t.length;r>i;i++)"*"===t[i]&&(n[i]="*");return"**"===t[0]&&(n=n.slice(a(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(a(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function b(e,t){return L(e)&&!M(t)?T[e]:P(t)&&L(e)?(T[e]&&!T.$delegates[e]&&(T.$delegates[e]=T[e]),T[e]=t,this):this}function w(e,t){return j(e)?t=e:t.name=e,g(t),this}function _(e,r,s,a,d,p,m,g,b){function w(t,n,i,s){var o=e.$broadcast("$stateNotFound",t,n,i);if(o.defaultPrevented)return m.update(),F;if(!o.retry)return null;if(s.$retry)return m.update(),$;var a=A.transition=r.when(o.retry);return a.then(function(){return a!==A.transition?S:(t.options.$retry=!0,A.transitionTo(t.to,t.toParams,t.options))},function(){return F}),m.update(),a}function _(e,n,i,o,l,c){function h(){var n=[];return R(e.views,function(i,r){var o=i.resolve&&i.resolve!==e.resolve?i.resolve:{};o.$template=[function(){return s.load(r,{view:i,locals:l.globals,params:p,notify:c.notify})||""}],n.push(d.resolve(o,l.globals,l.resolve,e).then(function(n){if(P(i.controllerProvider)||O(i.controllerProvider)){var s=t.extend({},o,l.globals);n.$$controller=a.invoke(i.controllerProvider,null,s)}else n.$$controller=i.controller;n.$$state=e,n.$$controllerAs=i.controllerAs,l[r]=n}))}),r.all(n).then(function(){return l.globals})}var p=i?n:u(e.params.$$keys(),n),f={$stateParams:p};l.resolve=d.resolve(e.resolve,f,l.resolve,e);var m=[l.resolve.then(function(e){l.globals=e})];return o&&m.push(o),r.all(m).then(h).then(function(e){return l})}var S=r.reject(new Error("transition superseded")),T=r.reject(new Error("transition prevented")),F=r.reject(new Error("transition aborted")),$=r.reject(new Error("transition failed"));return k.locals={resolve:null,globals:{$stateParams:{}}},A={params:{},current:k.self,$current:k,transition:null},A.reload=function(e){return A.transitionTo(A.current,p,{reload:e||!0,inherit:!1,notify:!0})},A.go=function(e,t,n){return A.transitionTo(e,t,I({inherit:!0,relative:A.$current},n))},A.transitionTo=function(t,n,s){n=n||{},s=I({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},s||{});var o,c=A.$current,d=A.params,f=c.path,g=h(t,s.relative),v=n["#"];if(!M(g)){var y={to:t,toParams:n,options:s},b=w(y,c.self,d,s);if(b)return b;if(t=y.to,n=y.toParams,s=y.options,g=h(t,s.relative),!M(g)){if(!s.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+s.relative+"'")}}if(g[x])throw new Error("Cannot transition to abstract state '"+t+"'");if(s.inherit&&(n=l(p,n||{},A.$current,g)),!g.params.$$validates(n))return $;n=g.params.$$values(n),t=g;var E=t.path,F=0,D=E[F],B=k.locals,P=[];if(s.reload){if(L(s.reload)||j(s.reload)){if(j(s.reload)&&!s.reload.name)throw new Error("Invalid reload state object");var O=s.reload===!0?f[0]:h(s.reload);if(s.reload&&!O)throw new Error("No such reload state '"+(L(s.reload)?s.reload:s.reload.name)+"'");for(;D&&D===f[F]&&D!==O;)B=P[F]=D.locals,F++,D=E[F]}}else for(;D&&D===f[F]&&D.ownParams.$$equals(n,d);)B=P[F]=D.locals,F++,D=E[F];if(C(t,n,c,d,B,s))return v&&(n["#"]=v),A.params=n,q(A.params,p),s.location&&t.navigable&&t.navigable.url&&(m.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===s.location}),m.update(!0)),A.transition=null,r.when(A.current);if(n=u(t.params.$$keys(),n||{}),s.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,d).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,d),m.update(),T;for(var R=r.when(B),N=F;N<E.length;N++,D=E[N])B=P[N]=i(B),R=_(D,n,D===t,R,B,s);var U=A.transition=R.then(function(){var i,r,o;if(A.transition!==U)return S;for(i=f.length-1;i>=F;i--)o=f[i],o.self.onExit&&a.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(i=F;i<E.length;i++)r=E[i],r.locals=P[i],r.self.onEnter&&a.invoke(r.self.onEnter,r.self,r.locals.globals);return v&&(n["#"]=v),A.transition!==U?S:(A.$current=t,A.current=t.self,A.params=n,q(A.params,p),A.transition=null,s.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===s.location}),s.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,d),m.update(!0),A.current)},function(i){return A.transition!==U?S:(A.transition=null,o=e.$broadcast("$stateChangeError",t.self,n,c.self,d,i),o.defaultPrevented||m.update(),r.reject(i))});return U},A.is=function(e,t,i){i=I({relative:A.$current},i||{});var r=h(e,i.relative);return M(r)?A.$current===r&&(!t||c(r.params.$$values(t),p)):n},A.includes=function(e,t,i){if(i=I({relative:A.$current},i||{}),L(e)&&v(e)){if(!y(e))return!1;e=A.$current.name}var r=h(e,i.relative);return M(r)?!!M(A.$current.includes[r.name])&&(!t||c(r.params.$$values(t),p,o(t))):n},A.href=function(e,t,i){i=I({lossy:!0,inherit:!0,absolute:!1,relative:A.$current},i||{});var r=h(e,i.relative);if(!M(r))return null;i.inherit&&(t=l(p,t||{},A.$current,r));var s=r&&i.lossy?r.navigable:r;return s&&s.url!==n&&null!==s.url?m.href(s.url,u(r.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},A.get=function(e,t){if(0===arguments.length)return f(o(E),function(e){return E[e].self});var n=h(e,t||A.$current);return n&&n.self?n.self:null},A}function C(e,t,n,i,r,s){function o(e,t,n){function i(t){return"search"!=e.params[t].location}var r=e.params.$$keys().filter(i),s=d.apply({},[e.params].concat(r)),o=new N.ParamSet(s);return o.$$equals(t,n)}return!(s.reload||e!==n||!(r===n.locals||e.self.reloadOnSearch===!1&&o(n,i,t)))||void 0}var k,A,E={},S={},x="abstract",T={parent:function(e){if(M(e.parent)&&e.parent)return h(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?h(t[1]):k},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=I({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(L(t))return"^"==t.charAt(0)?r.compile(t.substring(1),n):(e.parent.navigable||k).url.concat(t,n);if(!t||r.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new N.ParamSet;return R(e.params||{},function(e,n){t[n]||(t[n]=new N.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?I(e.parent.params.$$new(),e.ownParams):new N.ParamSet},views:function(e){var t={};return R(M(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?I({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};k=g({name:"",url:"^",views:null,"abstract":!0}),k.navigable=null,this.decorator=b,this.state=w,this.$get=_,_.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function C(){function e(e,t){return{load:function(n,i){var r,s={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return i=I(s,i),i.view&&(r=t.fromConfig(i.view,i.params,i.locals)),r&&i.notify&&e.$broadcast("$viewContentLoading",i),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function k(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function A(e,n,i,r){function s(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function o(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(c)return{enter:function(e,t,n){var i=c.enter(e,null,t,n);i&&i.then&&i.then(n)},leave:function(e,t){var n=c.leave(e,t);n&&n.then&&n.then(t)}};if(l){var i=l&&l(t,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return n()}var a=s(),l=a("$animator"),c=a("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,a){return function(n,s,l){function c(){d&&(d.remove(),d=null),p&&(p.$destroy(),p=null),h&&(v.leave(h,function(){d=null}),d=h,h=null)}function u(o){var u,d=S(n,l,s,r),y=d&&e.$current&&e.$current.locals[d];if(o||y!==f){u=n.$new(),f=e.$current.locals[d];var b=a(u,function(e){v.enter(e,s,function(){p&&p.$emit("$viewContentAnimationEnded"),(t.isDefined(g)&&!g||n.$eval(g))&&i(e)}),c()});h=b,p=u,p.$emit("$viewContentLoaded"),p.$eval(m)}}var d,h,p,f,m=l.onload||"",g=l.autoscroll,v=o(l,n);n.$on("$stateChangeSuccess",function(){u(!1)}),n.$on("$viewContentLoading",function(){u(!1)}),u(!0)}}};return u}function E(e,t,n,i){return{restrict:"ECA",priority:-400,compile:function(r){var s=r.html();return function(r,o,a){var l=n.$current,c=S(r,a,o,i),u=l&&l.locals[c];if(u){o.data("$uiView",{name:c,state:u.$$state}),o.html(u.$template?u.$template:s);var d=e(o.contents());if(u.$$controller){u.$scope=r,u.$element=o;var h=t(u.$$controller,u);u.$$controllerAs&&(r[u.$$controllerAs]=h),o.data("$ngControllerController",h),o.children().data("$ngControllerController",h)}d(r)}}}}}function S(e,t,n,i){var r=i(t.uiView||t.name||"")(e),s=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(s?s.state.name:"")}function x(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function T(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function F(e,n){var i=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,s,o,a){var l=x(o.uiSref,e.current.name),c=null,u=T(s)||e.$current,d="[object SVGAnimatedString]"===Object.prototype.toString.call(s.prop("href"))?"xlink:href":"href",h=null,p="A"===s.prop("tagName").toUpperCase(),f="FORM"===s[0].nodeName,m=f?"action":d,g=!0,v={relative:u,inherit:!0},y=r.$eval(o.uiSrefOpts)||{};t.forEach(i,function(e){e in y&&(v[e]=y[e])});var b=function(n){if(n&&(c=t.copy(n)),g){h=e.href(l.state,c,v);var i=a[1]||a[0];return i&&i.$$addStateInfo(l.state,c),null===h?(g=!1,!1):void o.$set(m,h)}};l.paramExpr&&(r.$watch(l.paramExpr,function(e,t){e!==c&&b(e)},!0),c=t.copy(r.$eval(l.paramExpr))),b(),f||s.bind("click",function(t){var i=t.which||t.button;if(!(i>1||t.ctrlKey||t.metaKey||t.shiftKey||s.attr("target"))){var r=n(function(){e.go(l.state,c,v)});t.preventDefault();var o=p&&!h?1:0;t.preventDefault=function(){o--<=0&&n.cancel(r)}}})}}}function $(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,i,r){function s(){o()?i.addClass(l):i.removeClass(l)}function o(){for(var e=0;e<c.length;e++)if(a(c[e].state,c[e].params))return!0;return!1}function a(t,n){return"undefined"!=typeof r.uiSrefActiveEq?e.is(t.name,n):e.includes(t.name,n)}var l,c=[];l=n(r.uiSrefActiveEq||r.uiSrefActive||"",!1)(t),this.$$addStateInfo=function(t,n){var r=e.get(t,T(i));c.push({state:r||{name:t},params:n}),s()},t.$on("$stateChangeSuccess",s)}]}}function D(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function B(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var M=t.isDefined,P=t.isFunction,L=t.isString,j=t.isObject,O=t.isArray,R=t.forEach,I=t.extend,q=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",m),g.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",g);var N;v.prototype.concat=function(e,t){var n={caseInsensitive:N.caseInsensitive(),strict:N.strictMode(),squash:N.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,I(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var i=t(e).split(/-(?!\\)/),r=f(i,t);return f(r,n).reverse()}var i=this.regexp.exec(e);if(!i)return null;t=t||{};var r,s,o,a=this.parameters(),l=a.length,c=this.segments.length-1,u={};if(c!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;c>r;r++){o=a[r];var d=this.params[o],h=i[r+1];for(s=0;s<d.replace;s++)d.replace[s].from===h&&(h=d.replace[s].to);h&&d.array===!0&&(h=n(h)),u[o]=d.value(h)}for(;l>r;r++)o=a[r],u[o]=this.params[o].value(t[o]);return u},v.prototype.parameters=function(e){return M(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(e))return null;var s,o=!1,a=n.length-1,l=i.length,c=n[0];for(s=0;l>s;s++){var u=a>s,d=i[s],h=r[d],p=h.value(e[d]),m=h.isOptional&&h.type.equals(h.value(),p),g=!!m&&h.squash,v=h.type.encode(p);if(u){var y=n[s+1];if(g===!1)null!=v&&(c+=O(v)?f(v,t).join("-"):encodeURIComponent(v)),c+=y;else if(g===!0){var b=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=y.match(b)[1]}else L(g)&&(c+=g+y)}else{if(null==v||m&&g!==!1)continue;O(v)||(v=[v]),v=f(v,encodeURIComponent).join("&"+d+"="),c+=(o?"&":"?")+(d+"="+v),o=!0}}return c},y.prototype.is=function(e,t){return!0},y.prototype.encode=function(e,t){return e},y.prototype.decode=function(e,t){return e},y.prototype.equals=function(e,t){return e==t},y.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},y.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function r(e){return O(e)?e:M(e)?[e]:[]}function s(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function o(e){return!e}function a(e,t){return function(n){n=r(n);var i=f(n,e);return t===!0?0===p(i,o).length:s(i)}}function l(e){return function(t,n){var i=r(t),s=r(n);if(i.length!==s.length)return!1;for(var o=0;o<i.length;o++)if(!e(i[o],s[o]))return!1;return!0}}this.encode=a(i(e,"encode")),this.decode=a(i(e,"decode")),this.is=a(i(e,"is"),!0),this.equals=l(i(e,"equals")),this.pattern=e.pattern,this.$normalize=a(i(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",w),_.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",_),C.$inject=[],t.module("ui.router.state").provider("$view",C),t.module("ui.router.state").provider("$uiViewScroll",k),A.$inject=["$state","$injector","$uiViewScroll","$interpolate"],E.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",A),t.module("ui.router.state").directive("uiView",E),F.$inject=["$state","$timeout"],$.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",F).directive("uiSrefActive",$).directive("uiSrefActiveEq",$),D.$inject=["$state"],B.$inject=["$state"],t.module("ui.router.state").filter("isState",D).filter("includedByState",B)}(window,window.angular)},511:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return function(n){var i={templateUrl:u["default"],defaultLabels:{title:t.getString("Please Confirm"),ok:t.getString("OK"),cancel:t.getString("Cancel")}};return e({text:n},i)}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s);n(526),n(116);var a=n(46),l=i(a),c=n(525),u=i(c),d=o["default"].module("services.confirm",["angular-confirm","ui.bootstrap",l["default"].name]).factory("udConfirm",["$confirm","gettextCatalog",r]);t["default"]=d},512:function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r,s;r=[n(518),n(29),n(16),n(14)],s=function(e,t,n,r){function s(e){var t=(e.culprit||"").toLowerCase();return t.indexOf("video.js")===-1&&t.indexOf("videojs")===-1||(e.level="info"),e}function o(e){return e=s(e)}function a(t){var n=(t.culprit||"").toLowerCase(),i=!0;if(n.indexOf("video.js")!==-1||n.indexOf("videojs")!==-1){var r=5;i=100*Math.random()<=r}return i&&e._rateLimiter.shouldSend(t)}var l=[/^Load timeout for modules:/,"vjs_getProperty",/['"]vdata\d+['"]/],c=function(){function e(){i(this,e),this.errors={},this.limit=6e4}return e.prototype.shouldSend=function t(e){var n=e.message,i=Date.now(),t=!0,r=this.errors[n];return r&&(t=i-r>=this.limit),this.errors[n]=i,t},e}();return r.third_party.raven_dsn&&(e.config(r.third_party.raven_dsn,{ignoreErrors:l,dataCallback:o,shouldSendCallback:a}).install(),n&&e.setUserContext({id:n.id,country_code:t.countryCode}),e._rateLimiter=new c),e}.apply(t,r),!(void 0!==s&&(e.exports=s))},514:function(e,t,n){var i,r;i=[n(2),n(12),n(168),n(507),n(14)],r=function(e,t,n,i,r){function s(t,n,i,s,o,a,l,c){function u(t){return"undefined"==typeof t&&(t={
"fields[course]":["favorite_time","archive_time","notification_settings"].join(",")}),t.courseId=this.id,n.get(t).$promise.then(function(t){return e.extend(this,t),this}.bind(this))}function d(){return i.favoriteCourse(this.id,{"fields[course]":"favorite_time"}).then(function(e){return this.favorite_time=e.data.favorite_time,this}.bind(this))}function h(){return i.unfavoriteCourse(this.id).then(function(){return this.favorite_time=null,this}.bind(this))}function p(){return i.archiveCourse(this.id,{"fields[course]":"archive_time"}).then(function(e){return this.archive_time=e.data.archive_time,this}.bind(this))}function f(){return i.unarchiveCourse(this.id).then(function(){return this.archive_time=null,this}.bind(this))}function m(){if(!this.canBeUnenrolled)throw l.getString("You cannot unenroll from course");return s["delete"]({courseId:this.id})}e.extend(this,t.course),this.canBeUnenrolled=r.features.course.students.unenroll,this.refundFeatureEnabled=r.features.course.refundable;var g=this;this.loadExtraData=u,this.favoriteCourse=d,this.unfavoriteCourse=h,this.archiveCourse=p,this.unarchiveCourse=f,this.unenroll=m,this._progressPromise=null,this.endPreview=function(){return c["delete"]("/api-2.0/users/me/course-previews/?course="+this.id)},this.getCertificateOfUser=function(){return o.get({course:this.id}).$promise.then(function(e){return e.results.length>0&&(g.certificate=e.results[0]),null})},this.createCertificate=function(){o.save({},{course_id:this.id}),this.certificate={is_ready:!1}},this.getProgressOfUser=function(){if(!this._progressPromise){var e={courseId:this.id,"fields[course]":"next_curriculum_object,num_completed_items,num_published_items","fields[lecture]":"title,last_watched_second,object_index,thumbnail_url,asset","fields[asset]":"asset_type","fields[quiz]":"title,object_index,type"};this._progressPromise=a.get(e).$promise}return this._progressPromise},this.refreshProgressOfUser=function(){return this._progressPromise=null,this.getProgressOfUser()}}var o=e.module("apps.courseTakingV4.currentCourseService",[t.name,n.name,i.name]).service("CurrentCourse",s);return s.$inject=["$rootScope","Course","User","SubscribedCourse","CourseCertificate","CourseProgress","gettextCatalog","$http"],o}.apply(t,i),!(void 0!==r&&(e.exports=r))},518:function(e,t,n){(function(t){(function(){var n=!1;/*! Raven.js 3.0.4 (0784c3c) | github.com/getsentry/raven-js */
!function(t){e.exports=t()}(function(){return function e(t,i,r){function s(a,l){if(!i[a]){if(!t[a]){var c="function"==typeof n&&n;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return s(n?n:e)},d,d.exports,e,t,i,r)}return i[a].exports}for(var o="function"==typeof n&&n,a=0;r.length>a;a++)s(r[a]);return s}({1:[function(e,t,n){"use strict";function i(e){this.name="RavenConfigError",this.message=e}i.prototype=new Error,i.prototype.constructor=i,t.exports=i},{}],2:[function(e,t,n){"use strict";var i=function(e,t,n){var i=e[t],r=e;if(t in e){var s="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),t=""+e.join(" "),o={level:s,logger:"console",extra:{arguments:e}};n&&n(t,o),i&&Function.prototype.apply.call(i,r,e)}}};t.exports={wrapMethod:i}},{}],3:[function(e,n,i){"use strict";function r(){return+new Date}function s(){this.a=!("object"!=typeof JSON||!JSON.stringify),this.b="undefined"!=typeof document,this.c=null,this.d=null,this.e=null,this.f=null,this.g=null,this.h={},this.i={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,maxMessageLength:0,stackTraceLimit:50},this.j=0,this.k=!1,this.l=Error.stackTraceLimit,this.m=window.console||{},this.n={},this.o=[],this.p=r(),this.q=[],this.r=[],this.s=20,this.t=null,this.u=window.location,this.v=this.u&&this.u.href;for(var e in this.m)this.n[e]=this.m[e]}var o=e(6),a=e(1),l=e(5),c=l.isFunction,u=l.isUndefined,d=l.isError,h=l.isEmptyObject,p=l.hasKey,f=l.joinRegExp,m=l.each,g=l.objectMerge,v=l.truncate,y=l.urlencode,b=l.uuid4,w=l.htmlTreeAsString,_=l.parseUrl,C=l.isString,k=e(2).wrapMethod,A="source protocol user pass host port path".split(" "),E=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;s.prototype={VERSION:"3.0.4",debug:!1,TraceKit:o,config:function(e,t){var n=this;if(this.e)return this.w("error","Error: Raven has already been configured"),this;if(!e)return this;t&&m(t,function(e,t){"tags"===e||"extra"===e?n.h[e]=t:n.i[e]=t});var i=this.x(e),r=i.path.lastIndexOf("/"),s=i.path.substr(1,r);return this.y=e,this.i.ignoreErrors.push(/^Script error\.?$/),this.i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),this.i.ignoreErrors=f(this.i.ignoreErrors),this.i.ignoreUrls=!!this.i.ignoreUrls.length&&f(this.i.ignoreUrls),this.i.whitelistUrls=!!this.i.whitelistUrls.length&&f(this.i.whitelistUrls),this.i.includePaths=f(this.i.includePaths),this.f=i.user,this.z=i.pass&&i.pass.substr(1),this.g=i.path.substr(r+1),this.e=this.A(i),this.B=this.e+"/"+s+"api/"+this.g+"/store/",this.i.fetchContext&&(o.remoteFetching=!0),this.i.linesOfContext&&(o.linesOfContext=this.i.linesOfContext),o.collectWindowErrors=!!this.i.collectWindowErrors,this},install:function(){var e=this;return this.isSetup()&&!this.k&&(o.report.subscribe(function(){e.C.apply(e,arguments)}),this.D(),this.E(),this.k=!0),Error.stackTraceLimit=this.i.stackTraceLimit,this},context:function(e,t,n){return c(e)&&(n=t||[],t=e,e=void 0),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){function i(){var i=[],s=arguments.length,o=!e||e&&e.deep!==!1;for(n&&c(n)&&n.apply(this,arguments);s--;)i[s]=o?r.wrap(e,arguments[s]):arguments[s];try{return t.apply(this,i)}catch(a){throw r.F(),r.captureException(a,e),a}}var r=this;if(u(t)&&!c(e))return e;if(c(e)&&(t=e,e=void 0),!c(t))return t;try{if(t.G)return t}catch(s){return t}if(t.H)return t.H;for(var o in t)p(t,o)&&(i[o]=t[o]);return i.prototype=t.prototype,t.H=i,i.G=!0,i.I=t,i},uninstall:function(){return o.report.uninstall(),this.J(),Error.stackTraceLimit=this.l,this.k=!1,this},captureException:function(e,t){if(!d(e))return this.captureMessage(e,t);this.c=e;try{var n=o.computeStackTrace(e);this.K(n,t)}catch(i){if(e!==i)throw i}return this},captureMessage:function(e,t){return this.i.ignoreErrors.test&&this.i.ignoreErrors.test(e)?void 0:(this.L(g({message:e+""},t)),this)},captureBreadcrumb:function(e){var t=g({timestamp:r()/1e3},e);this.r.push(t),this.r.length>this.s&&this.r.shift()},addPlugin:function(e){var t=Array.prototype.slice.call(arguments,1);return this.o.push([e,t]),this.k&&this.E(),this},setUserContext:function(e){return this.h.user=e,this},setExtraContext:function(e){return this.M("extra",e),this},setTagsContext:function(e){return this.M("tags",e),this},clearContext:function(){return this.h={},this},getContext:function(){return JSON.parse(JSON.stringify(this.h))},setRelease:function(e){return this.i.release=e,this},setDataCallback:function(e){return this.i.dataCallback=e,this},setShouldSendCallback:function(e){return this.i.shouldSendCallback=e,this},setTransport:function(e){return this.i.transport=e,this},lastException:function(){return this.c},lastEventId:function(){return this.d},isSetup:function(){return!!this.a&&(!!this.e||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this.w("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=window.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(window.document){e=e||{};var t=e.eventId||this.lastEventId();if(!t)throw new a("Missing eventId");var n=e.dsn||this.y;if(!n)throw new a("Missing DSN");var i=encodeURIComponent,r="";r+="?eventId="+i(t),r+="&dsn="+i(n);var s=e.user||this.h.user;s&&(s.name&&(r+="&name="+i(s.name)),s.email&&(r+="&email="+i(s.email)));var o=this.A(this.x(n)),l=document.createElement("script");l.async=!0,l.src=o+"/api/embed/error-page/"+r,(document.head||document.body).appendChild(l)}},F:function(){var e=this;this.j+=1,setTimeout(function(){e.j-=1})},N:function(e,t){var n,i;if(this.b){t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=document.createEventObject(),n.eventType=e);for(i in t)p(t,i)&&(n[i]=t[i]);if(document.createEvent)document.dispatchEvent(n);else try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(r){}}},O:function(e){var t=this;return function(n){if(t.P=null,t.t!==n){t.t=n;var i,r=n.target;try{i=w(r)}catch(s){i="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:i})}}},Q:function(){var e=this,t=1e3;return function(n){var i=n.target,r=i&&i.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r)){var s=e.P;s||e.O("input")(n),clearTimeout(s),e.P=setTimeout(function(){e.P=null},t)}}},R:function(e,t){var n=_(this.u.href),i=_(t),r=_(e);this.v=t,n.protocol===i.protocol&&n.host===i.host&&(t=i.relative),n.protocol===r.protocol&&n.host===r.host&&(e=r.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},D:function(){function e(e,t,n,i){var r=e[t];e[t]=n(r),i||s.q.push([e,t,r])}function n(e){return function(t,n){for(var i=new Array(arguments.length),r=0;i.length>r;++r)i[r]=arguments[r];var o=i[0];return c(o)&&(i[0]=s.wrap(o)),e.apply?e.apply(this,i):e(i[0],i[1])}}function i(t){var n=window[t]&&window[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(e(n,"addEventListener",function(e){return function(n,i,r,o){try{i&&i.handleEvent&&(i.handleEvent=s.wrap(i.handleEvent))}catch(a){}var l;return("EventTarget"===t||"Node"===t)&&("click"===n?l=s.O(n):"keypress"===n&&(l=s.Q())),e.call(this,n,s.wrap(i,void 0,l),r,o)}}),e(n,"removeEventListener",function(e){return function(t,n,i,r){return n=n&&(n.H?n.H:n),e.call(this,t,n,i,r)}}))}function r(t,n){t in n&&c(n[t])&&e(n,t,function(e){return s.wrap(e)},!0)}var s=this;e(window,"setTimeout",n),e(window,"setInterval",n),window.requestAnimationFrame&&e(window,"requestAnimationFrame",function(e){return function(t){return e(s.wrap(t))}}),this.b&&(document.addEventListener("click",s.O("click")),document.addEventListener("keypress",s.Q()));for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;o.length>a;a++)i(o[a]);if("XMLHttpRequest"in window){var l=XMLHttpRequest.prototype;e(l,"open",function(e){return function(t,n){return C(n)&&-1===n.indexOf(s.f)&&(this.S={method:t,url:n,status_code:null}),e.apply(this,arguments)}}),e(l,"send",function(t){return function(n){function i(){if(o.S&&(1===o.readyState||4===o.readyState)){try{o.S.status_code=o.status}catch(e){}s.captureBreadcrumb({type:"http",category:"xhr",data:o.S})}}for(var o=this,a=["onload","onerror","onprogress"],l=0;a.length>l;l++)r(a[l],o);return"onreadystatechange"in o&&c(o.onreadystatechange)?e(o,"onreadystatechange",function(e){return s.wrap(e,void 0,i)},!0):o.onreadystatechange=i,t.apply(this,arguments)}})}if("history"in window&&history.pushState){var u=window.onpopstate;window.onpopstate=function(){var e=s.u.href;return s.R(s.v,e),u?u.apply(this,arguments):void 0},e(history,"pushState",function(e){return function(){var t=arguments.length>2?arguments[2]:void 0;return t&&s.R(s.v,t+""),e.apply(this,arguments)}})}var d=function(e,t){s.captureBreadcrumb({message:e,level:t.level,category:"console"})};"console"in window&&console.log&&m(["debug","info","warn","error","log"],function(e,t){k(console,t,d)});var h=t||window.$;h&&h.fn&&h.fn.ready&&e(h.fn,"ready",function(e){return function(t){return e.call(this,s.wrap(t))}})},J:function(){for(var e;this.q.length;){e=this.q.shift();var t=e[0],n=e[1],i=e[2];t[n]=i}},E:function(){var e=this;m(this.o,function(t,n){var i=n[0],r=n[1];i.apply(e,[e].concat(r))})},x:function(e){var t=E.exec(e),n={},i=7;try{for(;i--;)n[A[i]]=t[i]||""}catch(r){throw new a("Invalid DSN: "+e)}if(n.pass&&!this.i.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},A:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},C:function(){this.j||this.K.apply(this,arguments)},K:function(e,t){var n=this,i=[];e.stack&&e.stack.length&&m(e.stack,function(e,t){var r=n.T(t);r&&i.push(r)}),this.N("handle",{stackInfo:e,options:t}),this.U(e.name,e.message,e.url,e.lineno,i.slice(0,this.i.stackTraceLimit),t)},T:function(e){if(e.url){var t,n={filename:e.url,lineno:e.line,colno:e.column,"function":e.func||"?"},i=this.V(e);if(i){var r=["pre_context","context_line","post_context"];for(t=3;t--;)n[r[t]]=i[t]}return n.in_app=!(this.i.includePaths.test&&!this.i.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n["function"])||/raven\.(min\.)?js$/.test(n.filename)),n}},V:function(e){if(e.context&&this.i.fetchContext){for(var t=e.context,n=~~(t.length/2),i=t.length,r=!1;i--;)if(t[i].length>300){r=!0;break}if(r){if(u(e.column))return;return[[],t[n].substr(e.column,50),[]]}return[t.slice(0,n),t[n],t.slice(n+1)]}},U:function(e,t,n,i,r,s){var o,a;if((!this.i.ignoreErrors.test||!this.i.ignoreErrors.test(t))&&(t+="",t=v(t,this.i.maxMessageLength),a=(e?e+": ":"")+t,a=v(a,this.i.maxMessageLength),r&&r.length?(n=r[0].filename||n,r.reverse(),o={frames:r}):n&&(o={frames:[{filename:n,lineno:i,in_app:!0}]}),(!this.i.ignoreUrls.test||!this.i.ignoreUrls.test(n))&&(!this.i.whitelistUrls.test||this.i.whitelistUrls.test(n)))){var l=g({exception:{values:[{type:e,value:t,stacktrace:o}]},culprit:n,message:a},s);this.L(l)}},W:function(e){var t=this.i.maxMessageLength;if(e.message=v(e.message,t),e.exception){var n=e.exception.values[0];n.value=v(n.value,t)}return e},X:function(){if(this.b&&document.location&&document.location.href){var e={headers:{"User-Agent":navigator.userAgent}};return e.url=document.location.href,document.referrer&&(e.headers.Referer=document.referrer),e}},L:function(e){var t=this,n=this.i,i={project:this.g,logger:n.logger,platform:"javascript"},s=this.X();if(s&&(i.request=s),e=g(i,e),e.tags=g(g({},this.h.tags),e.tags),e.extra=g(g({},this.h.extra),e.extra),e.extra["session:duration"]=r()-this.p,this.r&&this.r.length>0&&(e.breadcrumbs={values:[].slice.call(this.r,0)}),h(e.tags)&&delete e.tags,this.h.user&&(e.user=this.h.user),n.release&&(e.release=n.release),n.serverName&&(e.server_name=n.serverName),c(n.dataCallback)&&(e=n.dataCallback(e)||e),e&&!h(e)&&(!c(n.shouldSendCallback)||n.shouldSendCallback(e))&&(this.d=e.event_id||(e.event_id=b()),e=this.W(e),this.w("debug","Raven about to send:",e),this.isSetup())){var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this.f};this.z&&(o.sentry_secret=this.z),this.captureBreadcrumb({category:"sentry",message:e.message,event_id:e.event_id});var a=this.B;(n.transport||this.Y).call(this,{url:a,auth:o,data:e,options:n,onSuccess:function(){t.N("success",{data:e,src:a})},onError:function(){t.N("failure",{data:e,src:a})}})}},Y:function(e){function t(){200===n.status?e.onSuccess&&e.onSuccess():e.onError&&e.onError()}var n=new XMLHttpRequest,i="withCredentials"in n||"undefined"!=typeof XDomainRequest;if(i){var r=e.url;"withCredentials"in n?n.onreadystatechange=function(){4===n.readyState&&t()}:(n=new XDomainRequest,r=r.replace(/^https?:/,""),n.onload=t),n.open("POST",r+"?"+y(e.auth)),n.send(JSON.stringify(e.data))}},Z:function(){return document.createElement("img")},w:function(e){this.n[e]&&this.debug&&Function.prototype.apply.call(this.n[e],this.m,[].slice.call(arguments,1))},M:function(e,t){u(t)?delete this.h[e]:this.h[e]=g(this.h[e]||{},t)}},s.prototype.setUser=s.prototype.setUserContext,s.prototype.setReleaseContext=s.prototype.setRelease,n.exports=s},{1:1,2:2,5:5,6:6}],4:[function(e,t,n){"use strict";var i=e(3),r=window.Raven,s=new i;s.noConflict=function(){return window.Raven=r,s},s.afterLoad(),t.exports=s},{3:3}],5:[function(e,t,n){"use strict";function i(e){return void 0===e}function r(e){return"function"==typeof e}function s(e){return"[object String]"===b.toString.call(e)}function o(e){return"object"==typeof e&&null!==e}function a(e){for(var t in e)return!1;return!0}function l(e){var t=b.toString.call(e);return o(e)&&"[object Error]"===t||"[object Exception]"===t||e instanceof Error}function c(e,t){var n,r;if(i(e.length))for(n in e)h(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;r>n;n++)t.call(null,n,e[n])}function u(e,t){return t?(c(t,function(t,n){e[t]=n}),e):e}function d(e,t){return!t||t>=e.length?e:e.substr(0,t)+""}function h(e,t){return b.hasOwnProperty.call(e,t)}function p(e){for(var t,n=[],i=0,r=e.length;r>i;i++)t=e[i],s(t)?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function f(e){var t=[];return c(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")}function m(e){var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",i=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+i}}function g(){var e=window.crypto||window.msCrypto;if(!i(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);4>t.length;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function v(e){for(var t,n=5,i=80,r=[],s=0,o=0,a=" > ",l=a.length;e&&s++<n&&(t=y(e),!("html"===t||s>1&&o+r.length*l+t.length>=i));)r.push(t),o+=t.length,e=e.parentNode;return r.reverse().join(a)}function y(e){var t,n,i,r,o,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),t=e.className,t&&s(t))for(n=t.split(" "),o=0;n.length>o;o++)a.push("."+n[o]);var l=["type","name","title","alt"];for(o=0;l.length>o;o++)i=l[o],r=e.getAttribute(i),r&&a.push("["+i+'="'+r+'"]');return a.join("")}var b=Object.prototype;t.exports={isUndefined:i,isFunction:r,isString:s,isObject:o,isEmptyObject:a,isError:l,each:c,objectMerge:u,truncate:d,hasKey:h,joinRegExp:p,urlencode:f,uuid4:g,htmlTreeAsString:v,htmlElementAsString:y,parseUrl:m}},{}],6:[function(e,t,n){"use strict";function i(){return"undefined"==typeof document?"":document.location.href}var r=e(5),s=r.hasKey,o=r.isString,a=r.isUndefined,l={remoteFetching:!1,collectWindowErrors:!0,linesOfContext:7,debug:!1},c=[].slice,u="?",d=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;l.report=function(){function e(e){h(),y.push(e)}function t(e){for(var t=y.length-1;t>=0;--t)y[t]===e&&y.splice(t,1)}function n(){p(),y=[]}function r(e,t){var n=null;if(!t||l.collectWindowErrors){for(var i in y)if(s(y,i))try{y[i].apply(null,[e].concat(c.call(arguments,2)))}catch(r){n=r}if(n)throw n}}function a(e,t,n,s,a){var c=null;if(_)l.computeStackTrace.augmentStackTraceWithInitialElement(_,t,n,e),f();else if(a)c=l.computeStackTrace(a),r(c,!0);else{var h,p={url:t,line:n,column:s},m=void 0,v=e;if(o(e)){var h=e.match(d);h&&(m=h[1],v=h[2])}p.func=u,p.context=null,c={name:m,message:v,url:i(),stack:[p]},r(c,!0)}return!!g&&g.apply(this,arguments)}function h(){v||(g=window.onerror,window.onerror=a,v=!0)}function p(){v&&(window.onerror=g,v=!1,g=void 0)}function f(){var e=_,t=b;b=null,_=null,w=null,r.apply(null,[e,!1].concat(t))}function m(e,t){var n=c.call(arguments,1);if(_){if(w===e)return;f()}var i=l.computeStackTrace(e);if(_=i,w=e,b=n,window.setTimeout(function(){w===e&&f()},i.incomplete?2e3:0),t!==!1)throw e}var g,v,y=[],b=null,w=null,_=null;return m.subscribe=e,m.unsubscribe=t,m.uninstall=n,m}(),l.computeStackTrace=function(){function e(e){if(!a(e.stack)&&e.stack){for(var t,n,r=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,l=e.stack.split("\n"),c=[],d=(/^(.*) is undefined$/.exec(e.message),0),h=l.length;h>d;++d){if(t=r.exec(l[d])){var p=t[2]&&-1!==t[2].indexOf("native");n={url:p?null:t[2],func:t[1]||u,args:p?[t[2]]:[],line:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}else if(t=o.exec(l[d]))n={url:t[2],func:t[1]||u,args:[],line:+t[3],column:t[4]?+t[4]:null};else{if(!(t=s.exec(l[d])))continue;n={url:t[3],func:t[1]||u,args:t[2]?t[2].split(","):[],line:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}!n.func&&n.line&&(n.func=u),n.line&&(n.context=null),c.push(n)}return c.length?(c[0].column||a(e.columnNumber)||(c[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:i(),stack:c}):null}}function t(e){var t=e.stacktrace;if(!a(e.stacktrace)&&e.stacktrace){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,s=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=t.split("\n"),l=[],c=0;o.length>c;c+=2){var d=null;(n=r.exec(o[c]))?d={url:n[2],line:+n[1],column:null,func:n[3],args:[]}:(n=s.exec(o[c]))&&(d={url:n[6],line:+n[1],column:+n[2],func:n[3]||n[4],args:n[5]?n[5].split(","):[]}),d&&(!d.func&&d.line&&(d.func=u),d.context=[o[c+1]],l.push(d))}return l.length?{name:e.name,message:e.message,url:i(),stack:l}:null}}function n(e){var t=e.message.split("\n");if(4>t.length)return null;for(var n,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of function script\s*$/i,a=[],l=(document.getElementsByTagName("script"),2);t.length>l;l+=2){var c=null;if(n=r.exec(t[l]))c={url:n[2],func:n[3],args:[],line:+n[1],column:null};else if(n=s.exec(t[l]))c={url:n[3],func:n[4],args:[],line:+n[1],column:null};else if(n=o.exec(t[l])){var d=window.location.href.replace(/#.*$/,"");c={url:d,func:"",args:[],line:n[1],column:null}}c&&(c.func||(c.func=u),c.context=[t[l+1]],a.push(c))}return a.length?{name:e.name,message:t[0],url:i(),stack:a}:null}function r(e,t,n,i){var r={url:t,line:n};if(r.url&&r.line){if(e.incomplete=!1,r.func||(r.func=u),e.stack.length>0&&e.stack[0].url===r.url){if(e.stack[0].line===r.line)return!1;if(!e.stack[0].line&&e.stack[0].func===r.func)return e.stack[0].line=r.line,e.stack[0].context=r.context,!1}return e.stack.unshift(r),e.partial=!0,!0}return e.incomplete=!0,!1}function s(e,t){for(var n,a,c=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,d=[],h={},p=!1,f=s.caller;f&&!p;f=f.caller)if(f!==o&&f!==l.report){if(a={url:null,func:u,line:null,column:null},f.name?a.func=f.name:(n=c.exec(f.toString()))&&(a.func=n[1]),"undefined"==typeof a.func)try{a.func=n.input.substring(0,n.input.indexOf("{"))}catch(m){}h[""+f]?p=!0:h[""+f]=!0,d.push(a)}t&&d.splice(0,t);var g={name:e.name,message:e.message,url:i(),stack:d};return r(g,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),g}function o(r,o){var a=null;o=null==o?0:+o;try{if(a=t(r))return a}catch(c){if(l.debug)throw c}try{if(a=e(r))return a}catch(c){if(l.debug)throw c}try{if(a=n(r))return a}catch(c){if(l.debug)throw c}try{if(a=s(r,o+1))return a}catch(c){if(l.debug)throw c}return{name:r.name,message:r.message,url:i()}}return o.augmentStackTraceWithInitialElement=r,o.computeStackTraceFromStackProp=e,o}(),t.exports=l},{5:5}]},{},[4])(4)})}).call(window)}).call(t,n(3))},521:function(e,t,n){var i,r;i=[n(2),n(46),n(500)],r=function(e,t,n){return e.module("filters.utilityFilters",[t.name,n.name]).filter("secondsToHHMMSS",["$filter",function(e){return function(t){var n=t>3600?"HH:mm:ss":"mm:ss";return e("date")(new Date(1970,1,1,0,0,t,0),n)}}]).filter("numToNearestX",function(){return function(e,t){return e%t<=Math.floor(t/2)?e-e%t:e+(t-e%t)}}).filter("getPercentage",function(){return function(e,t,n,i){return 0===t?n:(i||(i=1),Math.round(e/t*100*i)/i)}}).filter("trimTags",["Utils",function(e){return e.trimTags}]).filter("replaceImgTag",["Utils",function(e){return e.replaceImgTag}]).filter("capitalize",function(){return function(e){if(null!==e&&void 0!==e)return e=e.toLowerCase(),e.substring(0,1).toUpperCase()+e.substring(1)}}).filter("toArray",function(){return function(t,n){return e.isObject(t)?n?Object.keys(t).map(function(n){var i=t[n];return e.isObject(i)?Object.defineProperty(i,"$key",{enumerable:!1,value:n}):Object.defineProperty({$value:i},"$key",{enumerable:!1,value:n})}):Object.keys(t).map(function(e){return t[e]}):t}})}.apply(t,i),!(void 0!==r&&(e.exports=r))},522:function(e,t,n){var i,r;i=[n(2)],r=function(e){function t(e){this.viewMode=e.viewMode,this.isViewingAsInstructor=["instructor_read_view","instructor_edit_view"].indexOf(this.viewMode)!==-1,this.isViewingAsSubscriber=["preview_as_subscriber_view","subscriber_view"].indexOf(this.viewMode)!==-1,this.isInstructor=["instructor_read_view","instructor_edit_view","preview_as_subscriber_view"].indexOf(this.viewMode)!==-1,this.canEditCourse="instructor_edit_view"===this.viewMode,this.isSubscriber="subscriber_view"===this.viewMode,this.isFreePreviewer="free_previewer_view"===this.viewMode,this.isPreviewingAsSubscriber="preview_as_subscriber_view"===this.viewMode}var n=e.module("apps.courseTakingV4.viewModeService",[]).service("ViewMode",t);return t.$inject=["$rootScope"],n}.apply(t,i),!(void 0!==r&&(e.exports=r))},523:function(e,t,n){var i,r;i=[n(2),n(41)],r=function(e){function t(e){return e("/api-2.0/courses/:courseId/discussions/:id",null,{partial_update:{method:"PATCH"}})}function n(e){return e("/api-2.0/courses/:courseId/searchable-discussions/:id")}function i(e){return e("/api-2.0/courses/:courseId/discussions/:discussionId/replies/:id",null,{partial_update:{method:"PATCH"}})}function r(e){return e("/api-2.0/courses/:courseId/discussions/:discussionId/replies/:id/upvoters/:userId")}function s(e){return e("/api-2.0/courses/:courseId/discussions/:discussionId/followers/:userId")}return e.module("services.questionAnswerResources",["ngResource"]).factory("CourseQuestion",["$resource",t]).factory("CourseSearchableQuestion",["$resource",n]).factory("QuestionReply",["$resource",i]).factory("AnswerUpvote",["$resource",r]).factory("QuestionFollow",["$resource",s])}.apply(t,i),!(void 0!==r&&(e.exports=r))},524:function(e,t,n){var i,r;i=[n(2),n(119)],r=function(e,t){function n(e){return e("/api-2.0/users/me/adyen-customers/:id/",null)}function i(e){function n(){return r||(r=e.defer(),t.loadAdyenCSE(function(e){r.resolve(e.createEncryption({}))})),r.promise}function i(e,t){return n().then(function(n){return n.encrypt({number:e.cardNo,cvc:e.securityCode,holderName:e.fullName,expiryMonth:""+e.expiry.month,expiryYear:""+e.expiry.year,generationtime:t})})}var r;return{encryptData:i}}var r=e.module("apps.checkout.paymentMethods.adyen.AdyenService",[]).factory("AdyenService",i).factory("UserAdyenCustomer",n);return n.$inject=["$resource"],i.$inject=["$q"],r}.apply(t,i),!(void 0!==r&&(e.exports=r))},525:function(e,t){var n="/ng/services/confirm.ng-template.html",i='<div class=modal-header> <button type=button class=close aria-label="{{ data.cancel }}" ng-click=cancel()> <span class=ud_i_close></span> </button> <h4 class=modal-title id=myModalLabel>{{ data.title }}</h4> </div> <div class=modal-body>{{ data.text }}</div> <div class=modal-footer> <div class=modal-footer--inner> <button type=button class="btn btn-tertiary" ng-click=cancel()>{{ data.cancel }}</button> <button type=button class="btn btn-primary" ng-click=ok()>{{ data.ok }}</button> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},526:function(e,t,n){(function(e){/*
	 * angular-confirm
	 * https://github.com/Schlogen/angular-confirm
	 * @version v1.1.2 - 2015-10-26
	 * @license Apache
	 */
e.module("angular-confirm",["ui.bootstrap.modal"]).controller("ConfirmModalController",["$scope","$modalInstance","data",function(t,n,i){t.data=e.copy(i),t.ok=function(){n.close()},t.cancel=function(){n.dismiss("cancel")}}]).value("$confirmModalDefaults",{template:'<div class="modal-header"><h3 class="modal-title">{{data.title}}</h3></div><div class="modal-body">{{data.text}}</div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">{{data.ok}}</button><button class="btn btn-default" ng-click="cancel()">{{data.cancel}}</button></div>',controller:"ConfirmModalController",defaultLabels:{title:"Confirm",ok:"OK",cancel:"Cancel"}}).factory("$confirm",["$modal","$confirmModalDefaults",function(t,n){return function(i,r){var s=e.copy(n);return r=e.extend(s,r||{}),i=e.extend({},r.defaultLabels,i||{}),"templateUrl"in r&&"template"in r&&delete r.template,r.resolve={data:function(){return i}},t.open(r).result}}]).directive("confirm",["$confirm",function(t){return{priority:1,restrict:"A",scope:{confirmIf:"=",ngClick:"&",confirm:"@",confirmSettings:"=",confirmTitle:"@",confirmOk:"@",confirmCancel:"@"},link:function(n,i,r){i.unbind("click").bind("click",function(i){if(i.preventDefault(),e.isUndefined(n.confirmIf)||n.confirmIf){var r={text:n.confirm};n.confirmTitle&&(r.title=n.confirmTitle),n.confirmOk&&(r.ok=n.confirmOk),n.confirmCancel&&(r.cancel=n.confirmCancel),t(r,n.confirmSettings||{}).then(n.ngClick)}else n.$apply(n.ngClick)})}}}])}).call(t,n(2))},528:function(e,t,n){var i,r;i=[n(2),n(505),n(119),n(14),n(41)],r=function(e,t,n,i){function r(e){return e("/api-2.0/users/me/stripe-customers/:id/",null)}function s(t,r){function s(s,o){var a,l=t.defer();return n.loadStripeJSV2(function(t){t.setPublishableKey(i.third_party.user_stripe_publishable_key),a={remember_me:!!o,expiration_date:s.expirationText,country_id:s.countryId,zip_code:s.zipCode,full_name:s.fullName};t.card.createToken({name:s.fullName,number:s.cardNo,cvc:s.securityCode,exp_month:s.expiry.month,exp_year:s.expiry.year,address_country:s.countryId,address_zip:s.zipCode},function(t,n){if(n.error)r.saveCallLog(e.extend(a,{response:n,status:t})),r.saveAttempt({stripeError:n.error,fingerprint:n.card&&n.card.fingerprint,token:n.card&&n.card.id}),l.reject(r.getErrorMessage(n.error.code)||n.error.message);else{r.saveCallLog(e.extend(a,{response:n,status:t}));var i={name:"Stripe",credentials:e.extend(a,{token:n.id,fingerprint:n.card.fingerprint})};l.resolve(i)}})}),l.promise}var o;return o={getToken:s}}var o=e.module("apps.checkout.paymentMethods.stripe.StripeService",["ngResource",t.name]).factory("StripeService",s).factory("UserStripeCustomer",r);return r.$inject=["$resource"],s.$inject=["$q","Checkout"],o}.apply(t,i),!(void 0!==r&&(e.exports=r))},529:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=i(r),o=n(3),a=i(o),l=n(500),c=i(l),u=n(537),d=i(u);t["default"]=s["default"].module("directives.common.udWysiwyg",[c["default"].name]).directive("udWysiwyg",["Utils",function(e){return{restrict:"E",transclude:!0,scope:{requestEditorInit:"=",requestEditorValue:"=",requestResetValue:"=",editorValue:"=",placeholderText:"@",defaultText:"=",editorValueCollectedFn:"=",redactorTheme:"@?"},templateUrl:d["default"],link:function(t,i){var r=i.find("textarea");t.redactorTheme||(t.redactorTheme="advanced-image-link"),t.initEditor=function(){var n=function(e){t.editorValue=e,t.$$phase||t.$root.$$phase||t.$apply()};(0,a["default"])(r).ud_wysiwyg({placeholder:t.placeholderText,callbacks:{change:e.debounce(n,500,!1)}}),t.setValue(t.editorValue)},t.getValue=function(){return r.data("ud-ud_wysiwyg")&&r.data("ud-ud_wysiwyg").getValue()},t.setValue=function(e){r.data("ud-ud_wysiwyg")&&r.data("ud-ud_wysiwyg").setValue(e)},t.resetValue=function(){r.data("ud-ud_wysiwyg")&&r.data("ud-ud_wysiwyg").setValue("")},t.destroyEditor=function(){r.data("ud-ud_wysiwyg")&&r.data("ud-ud_wysiwyg").destroy()},t.$watch("requestEditorValue",function(e){e===!0&&t.editorValueCollectedFn&&t.editorValueCollectedFn(t.editorValue?t.editorValue:"")}),t.$watch("requestResetValue",function(e){e===!0&&t.resetValue()}),t.$watch("requestEditorInit",function(e){e===!0&&n.e(5,function(e){n(170),t.initEditor()})}),t.$watch("placeholderText",function(e){r.attr("placeholder",e)})}}}])},530:function(e,t,n){var i,r;i=[n(2)],r=function(e){return e.module("filters.currency",[]).filter("noFractionCurrency",["$filter","$locale",function(e,t){var n=e("currency"),i=t.NUMBER_FORMATS;return function(e,t){var r=n(e,t);return r.replace(new RegExp("\\"+i.DECIMAL_SEP+"\\d{2}"),"")}}])}.apply(t,i),!(void 0!==r&&(e.exports=r))},534:function(e,t,n){var i,r;i=[n(2),n(662),n(660),n(656),n(658)],r=function(e,t,n,i,r){return e.module("apps.shoppingCart.components.paymentMethodsModule",[t["default"].name,n["default"].name,i["default"].name,r["default"].name])}.apply(t,i),!(void 0!==r&&(e.exports=r))},535:function(e,t,n){!function(){function e(e){var t=n;e&&(n[e]||(n[e]={}),t=n[e]),t.define&&t.define.packaged||(i.original=t.define,t.define=i,t.define.packaged=!0),t.require&&t.require.packaged||(s.original=t.require,t.require=s,t.require.packaged=!0)}var t="ace",n=function(){return this}();if(!n&&"undefined"!=typeof window&&(n=window),t||"undefined"==typeof requirejs){var i=function(e,t,n){return"string"!=typeof e?void(i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(n=t),void(i.modules[e]||(i.payloads[e]=n,i.modules[e]=null)))};i.modules={},i.payloads={};var r=function(e,t,n){if("string"==typeof t){var i=a(e,t);if(void 0!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(t)){for(var r=[],o=0,l=t.length;o<l;++o){var c=a(e,t[o]);if(void 0==c&&s.original)return;r.push(c)}return n&&n.apply(null,r)||!0}},s=function(e,t){var n=r("",e,t);return void 0==n&&s.original?s.original.apply(this,arguments):n},o=function(e,t){if(t.indexOf("!")!==-1){var n=t.split("!");return o(e,n[0])+"!"+o(e,n[1])}if("."==t.charAt(0)){var i=e.split("/").slice(0,-1).join("/");for(t=i+"/"+t;t.indexOf(".")!==-1&&r!=t;){var r=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},a=function(e,t){t=o(e,t);var n=i.modules[t];if(!n){if(n=i.payloads[t],"function"==typeof n){var s={},a={id:t,uri:"",exports:s,packaged:!0},l=function(e,n){return r(t,e,n)},c=n(l,s,a);s=c||a.exports,i.modules[t]=s,delete i.payloads[t]}n=i.modules[t]=s||n}return n};e(t)}}(),ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,n){"use strict";function i(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function r(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var i=n||0;i<e.length;i++)if(e[i]===t)return i;return-1}var s={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},o=void 0===s.exec.call(/()??/,"")[1],a=function(){var e=/^/g;return s.test.call(e,""),!e.lastIndex}();a&&o||(RegExp.prototype.exec=function(e){var t,n,l=s.exec.apply(this,arguments);if("string"==typeof e&&l){if(!o&&l.length>1&&r(l,"")>-1&&(n=RegExp(this.source,s.replace.call(i(this),"g","")),s.replace.call(e.slice(l.index),n,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(l[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<l.length;c++)t=this._xregexp.captureNames[c-1],t&&(l[t]=l[c]);!a&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},a||(RegExp.prototype.test=function(e){var t=s.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,n){function i(){}function r(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}function s(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var n=f.call(arguments,1),r=function(){if(this instanceof r){var i=t.apply(this,n.concat(f.call(arguments)));return Object(i)===i?i:this}return t.apply(e,n.concat(f.call(arguments)))};return t.prototype&&(i.prototype=t.prototype,r.prototype=new i,i.prototype=null),r});var o,a,l,c,u,d=Function.prototype.call,h=Array.prototype,p=Object.prototype,f=h.slice,m=d.bind(p.toString),g=d.bind(p.hasOwnProperty);if((u=g(p,"__defineGetter__"))&&(o=d.bind(p.__defineGetter__),a=d.bind(p.__defineSetter__),l=d.bind(p.__lookupGetter__),c=d.bind(p.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];if(n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),t+1==n.length,t+1==n.length)return!0}()){var v=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?v.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(f.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):void 0==e?e=0:e<0&&(e=Math.max(n+e,0)),e+t<n||(t=n-e);var i=this.slice(e,e+t),r=f.call(arguments,2),s=r.length;if(e===n)s&&this.push.apply(this,r);else{var o=Math.min(t,n-e),a=e+o,l=a+s-o,c=n-a,u=n-o;if(l<a)for(var d=0;d<c;++d)this[l+d]=this[a+d];else if(l>a)for(d=c;d--;)this[l+d]=this[a+d];if(s&&e===u)this.length=u,this.push.apply(this,r);else for(this.length=u+s,d=0;d<s;++d)this[e+d]=r[d]}return i};Array.isArray||(Array.isArray=function(e){return"[object Array]"==m(e)});var y=Object("a"),b="a"!=y[0]||!(0 in y);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=j(this),n=b&&"[object String]"==m(this)?this.split(""):t,i=arguments[1],r=-1,s=n.length>>>0;if("[object Function]"!=m(e))throw new TypeError;for(;++r<s;)r in n&&e.call(i,n[r],r,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=j(this),n=b&&"[object String]"==m(this)?this.split(""):t,i=n.length>>>0,r=Array(i),s=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var o=0;o<i;o++)o in n&&(r[o]=e.call(s,n[o],o,t));return r}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=j(this),i=b&&"[object String]"==m(this)?this.split(""):n,r=i.length>>>0,s=[],o=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var a=0;a<r;a++)a in i&&(t=i[a],e.call(o,t,a,n)&&s.push(t));return s}),Array.prototype.every||(Array.prototype.every=function(e){var t=j(this),n=b&&"[object String]"==m(this)?this.split(""):t,i=n.length>>>0,r=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var s=0;s<i;s++)if(s in n&&!e.call(r,n[s],s,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=j(this),n=b&&"[object String]"==m(this)?this.split(""):t,i=n.length>>>0,r=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var s=0;s<i;s++)if(s in n&&e.call(r,n[s],s,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=j(this),n=b&&"[object String]"==m(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,s=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in n){r=n[s++];break}if(++s>=i)throw new TypeError("reduce of empty array with no initial value")}for(;s<i;s++)s in n&&(r=e.call(void 0,r,n[s],s,t));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=j(this),n=b&&"[object String]"==m(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,s=i-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in n){r=n[s--];break}if(--s<0)throw new TypeError("reduceRight of empty array with no initial value")}do s in this&&(r=e.call(void 0,r,n[s],s,t));while(s--);return r}),Array.prototype.indexOf&&[0,1].indexOf(1,2)==-1||(Array.prototype.indexOf=function(e){var t=b&&"[object String]"==m(this)?this.split(""):j(this),n=t.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=s(arguments[1])),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in t&&t[i]===e)return i;return-1}),Array.prototype.lastIndexOf&&[0,1].lastIndexOf(0,-3)==-1||(Array.prototype.lastIndexOf=function(e){var t=b&&"[object String]"==m(this)?this.split(""):j(this),n=t.length>>>0;if(!n)return-1;var i=n-1;for(arguments.length>1&&(i=Math.min(i,s(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in t&&e===t[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:p)}),!Object.getOwnPropertyDescriptor){var w="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(w+e);if(g(e,t)){var n,i,r;if(n={enumerable:!0,configurable:!0},u){var s=e.__proto__;e.__proto__=p;var i=l(e,t),r=c(e,t);if(e.__proto__=s,i||r)return i&&(n.get=i),r&&(n.set=r),n}return n.value=e[t],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var _;_=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=_();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var i=function(){};i.prototype=e,n=new i,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}if(Object.defineProperty){var C=r({}),k="undefined"==typeof document||r(document.createElement("div"));if(!C||!k)var A=Object.defineProperty}if(!Object.defineProperty||A){var E="Property description must be an object: ",S="Object.defineProperty called on non-object: ",x="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(S+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(E+n);if(A)try{return A.call(Object,e,t,n)}catch(i){}if(g(n,"value"))if(u&&(l(e,t)||c(e,t))){var r=e.__proto__;e.__proto__=p,delete e[t],e[t]=n.value,e.__proto__=r}else e[t]=n.value;else{if(!u)throw new TypeError(x);g(n,"get")&&o(e,t,n.get),g(n,"set")&&a(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)g(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(T){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";g(e,t);)t+="?";e[t]=!0;var n=g(e,t);return delete e[t],n}),!Object.keys){var F=!0,$=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],D=$.length;for(var B in{toString:null})F=!1;Object.keys=function O(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var O=[];for(var t in e)g(e,t)&&O.push(t);if(F)for(var n=0,i=D;n<i;n++){var r=$[n];g(e,r)&&O.push(r)}return O}}Date.now||(Date.now=function(){return(new Date).getTime()});var M="\t\n\x0B\f\r \u2028\u2029\ufeff";if(!String.prototype.trim||M.trim()){M="["+M+"]";var P=new RegExp("^"+M+M+"*"),L=new RegExp(M+M+"*$");String.prototype.trim=function(){return String(this).replace(P,"").replace(L,"")}}var j=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,n){"use strict";e("./regexp"),e("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(e,t,n){"use strict";var i="http://www.w3.org/1999/xhtml";return t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||i,e):document.createElement(e)},t.hasCssClass=function(e,t){var n=(e.className||"").split(/\s+/g);return n.indexOf(t)!==-1},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(i==-1)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(r==-1)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(t=t||document,t.createStyleSheet&&(n=t.styleSheets)){for(;i<n.length;)if(n[i++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;i<n.length;)if(n[i++].id===e)return!0;return!1},t.importCssString=function(e,n,i){if(i=i||document,n&&t.hasCssString(n,i))return null;var r;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */"),i.createStyleSheet?(r=i.createStyleSheet(),r.cssText=e,n&&(r.owningElement.id=n)):(r=t.createElement("style"),r.appendChild(i.createTextNode(e)),n&&(r.id=n),t.getDocumentHead(i).appendChild(r))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var i=t.createElement("link");i.rel="stylesheet",i.href=e,t.getDocumentHead(n).appendChild(i)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var s=e.documentElement;s.appendChild(i);var o=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return o==a&&(a=i.clientWidth),s.removeChild(i),o-a},"undefined"==typeof document?void(t.importCssString=function(){}):(void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow},void 0)}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t,n){"use strict";e("./fixoldbrowsers");var i=e("./oop"),r=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n["return"],n.escape=n.esc,n.del=n["delete"],n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter(function(e){return t&n.KEY_MODS[e]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r),t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,n){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var i=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),r=navigator.userAgent;t.isWin="win"==i,t.isMac="mac"==i,t.isLinux="linux"==i,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((r.match(/rv\:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,t.isAIR=r.indexOf("AdobeAIR")>=0,t.isIPad=r.indexOf("iPad")>=0,t.isTouchPad=r.indexOf("TouchPad")>=0,t.isChromeOS=r.indexOf(" CrOS ")>=0}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function i(e,t,n){var i=c(t);if(!o.isMac&&a){if(a.OSKey&&(i|=8),a.altGr){if(3==(3&i))return;a.altGr=0}if(18===n||17===n){var r="location"in t?t.location:t.keyLocation;if(17===n&&1===r)1==a[n]&&(l=t.timeStamp);else if(18===n&&3===i&&2===r){var u=t.timeStamp-l;u<50&&(a.altGr=!0)}}}if(n in s.MODIFIER_KEYS&&(n=-1),8&i&&n>=91&&n<=93&&(n=-1),!i&&13===n){var r="location"in t?t.location:t.keyLocation;if(3===r&&(e(t,i,-n),t.defaultPrevented))return}if(o.isChromeOS&&8&i){if(e(t,i,n),t.defaultPrevented)return;i&=-9}return!!(i||n in s.FUNCTION_KEYS||n in s.PRINTABLE_KEYS)&&e(t,i,n)}function r(){a=Object.create(null),a.count=0,a.lastT=0}var s=e("./keys"),o=e("./useragent"),a=null,l=0;t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var i=function(){n.call(e,window.event)};n._wrapper=i,e.attachEvent("on"+t,i)}},t.removeListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):void(e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n))},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,i){function r(e){n&&n(e),i&&i(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",r,!0),t.removeListener(document,"dragstart",r,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",r,!0),t.addListener(document,"dragstart",r,!0),r},t.addTouchMoveListener=function(e,n){if("ontouchmove"in e){var i,r;t.addListener(e,"touchstart",function(e){var t=e.changedTouches[0];i=t.clientX,r=t.clientY}),t.addListener(e,"touchmove",function(e){var t=1,s=e.changedTouches[0];e.wheelX=-(s.clientX-i)/t,e.wheelY=-(s.clientY-r)/t,i=s.clientX,r=s.clientY,n(e)})}},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){var t=8;void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),n(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}n(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)})},t.addMultiMouseDownListener=function(e,n,i,r){function s(e){if(0!==t.getButton(e)?d=0:e.detail>1?(d++,d>4&&(d=1)):d=1,o.isIE){var s=Math.abs(e.clientX-l)>5||Math.abs(e.clientY-c)>5;u&&!s||(d=1),u&&clearTimeout(u),u=setTimeout(function(){u=null},n[d-1]||600),1==d&&(l=e.clientX,c=e.clientY)}if(e._clicks=d,i[r]("mousedown",e),d>4)d=0;else if(d>1)return i[r](h[d],e)}function a(e){d=2,u&&clearTimeout(u),u=setTimeout(function(){u=null},n[d-1]||600),i[r]("mousedown",e),i[r](h[d],e)}var l,c,u,d=0,h={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){t.addListener(e,"mousedown",s),o.isOldIE&&t.addListener(e,"dblclick",a)})};var c=!o.isMac||!o.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};if(t.getModifierString=function(e){return s.KEY_MODS[c(e)]},t.addCommandKeyListener=function(e,n){var s=t.addListener;if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var l=null;s(e,"keydown",function(e){l=e.keyCode}),s(e,"keypress",function(e){return i(n,e,l)})}else{var c=null;s(e,"keydown",function(e){var t=e.keyCode;a[t]=(a[t]||0)+1,91==t||92==t?a.OSKey=!0:a.OSKey&&e.timeStamp-a.lastT>200&&1==a.count&&r(),1==a[t]&&a.count++,a.lastT=e.timeStamp;var s=i(n,e,t);return c=e.defaultPrevented,s}),s(e,"keypress",function(e){c&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),c=null)}),s(e,"keyup",function(e){var t=e.keyCode;a[t]?a.count=Math.max(a.count-1,0):r(),91!=t&&92!=t||(a.OSKey=!1),a[t]=null}),a||(r(),s(window,"focus",r))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var u=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+u;t.addListener(n,"message",function r(s){s.data==i&&(t.stopPropagation(s),t.removeListener(n,"message",r),e())}),n.postMessage(i,"*")}}t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function s(e){if("object"!=typeof e||!e)return e;var t;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n++)t[n]=s(e[n]);return t}var i=e.constructor;if(i===RegExp)return e;t=i();for(var n in e)t[n]=s(e[n]);return t},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},r=function(e){null==n&&(n=setTimeout(i,e||t))};return r.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),s=e("../lib/dom"),o=e("../lib/lang"),a=r.isChrome<18,l=r.isIE,c=function(e,t){function n(e){if(!m){if(m=!0,T)t=0,n=e?0:d.value.length-1;else var t=e?2:1,n=2;try{d.setSelectionRange(t,n)}catch(i){}m=!1}}function c(){m||(d.value=h,r.isWebKit&&_.schedule())}function u(){clearTimeout(N),N=setTimeout(function(){g&&(d.style.cssText=g,g=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},r.isOldIE?200:0)}var d=s.createElement("textarea");d.className="ace_text-input",r.isTouchPad&&d.setAttribute("x-palm-disable-auto-cap",!0),d.setAttribute("wrap","off"),d.setAttribute("autocorrect","off"),d.setAttribute("autocapitalize","off"),d.setAttribute("spellcheck",!1),d.style.opacity="0",r.isOldIE&&(d.style.top="-1000px"),e.insertBefore(d,e.firstChild);var h="",p=!1,f=!1,m=!1,g="",v=!0;try{var y=document.activeElement===d}catch(b){}i.addListener(d,"blur",function(e){t.onBlur(e),y=!1}),i.addListener(d,"focus",function(e){y=!0,t.onFocus(e),n()}),this.focus=function(){if(g)return d.focus();var e=d.style.top;d.style.position="fixed",d.style.top="0px",d.focus(),setTimeout(function(){d.style.position="","0px"==d.style.top&&(d.style.top=e)},0)},this.blur=function(){d.blur()},this.isFocused=function(){
return y};var w=o.delayedCall(function(){y&&n(v)}),_=o.delayedCall(function(){m||(d.value=h,y&&n())});r.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=v&&(v=!v,w.schedule())}),c(),y&&t.onFocus();var C=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!d.setSelectionRange&&d.createTextRange&&(d.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},C=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&t.text==e.value}),r.isOldIE){var k=!1,A=function(e){if(!k){var t=d.value;if(!m&&t&&t!=h)return e&&t==h[0]?E.schedule():($(t),k=!0,c(),k=!1,void 0)}},E=o.delayedCall(A);i.addListener(d,"propertychange",A);var S={13:1,27:1};i.addListener(d,"keyup",function(e){return m&&(!d.value||S[e.keyCode])&&setTimeout(I,0),(d.value.charCodeAt(0)||0)<129?E.call():void(m?R():O())}),i.addListener(d,"keydown",function(e){E.schedule(50)})}var x=function(e){p?p=!1:C(d)?(t.selectAll(),n()):T&&n(t.selection.isEmpty())},T=null;this.setInputHandler=function(e){T=e},this.getInputHandler=function(){return T};var F=!1,$=function(e){T&&(e=T(e),T=null),f?(n(),e&&t.onPaste(e),f=!1):e==h.charAt(0)?F?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==h?e=e.substr(2):e.charAt(0)==h.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),F&&(F=!1)},D=function(e){if(!m){var t=d.value;$(t),c()}},B=function(e,t){var n=e.clipboardData||window.clipboardData;if(n&&!a){var i=l?"Text":"text/plain";return t?n.setData(i,t)!==!1:n.getData(i)}},M=function(e,r){var s=t.getCopyText();return s?void(B(e,s)?(r?t.onCut():t.onCopy(),i.preventDefault(e)):(p=!0,d.value=s,d.select(),setTimeout(function(){p=!1,c(),n(),r?t.onCut():t.onCopy()}))):i.preventDefault(e)},P=function(e){M(e,!0)},L=function(e){M(e,!1)},j=function(e){var s=B(e);"string"==typeof s?(s&&t.onPaste(s,e),r.isIE&&setTimeout(n),i.preventDefault(e)):(d.value="",f=!0)};i.addCommandKeyListener(d,t.onCommandKey.bind(t)),i.addListener(d,"select",x),i.addListener(d,"input",D),i.addListener(d,"cut",P),i.addListener(d,"copy",L),i.addListener(d,"paste",j),(!("oncut"in d)||!("oncopy"in d)||!("onpaste"in d))&&i.addListener(e,"keydown",function(e){if((!r.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:L(e);break;case 86:j(e);break;case 88:P(e)}});var O=function(e){m||!t.onCompositionStart||t.$readOnly||(m={},t.onCompositionStart(),setTimeout(R,0),t.on("mousedown",I),t.selection.isEmpty()||(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},R=function(){if(m&&t.onCompositionUpdate&&!t.$readOnly){var e=d.value.replace(/\x01/g,"");if(m.lastValue!==e&&(t.onCompositionUpdate(e),m.lastValue&&t.undo(),m.lastValue=e,m.lastValue)){var n=t.selection.getRange();t.insert(m.lastValue),t.session.markUndoGroup(),m.range=t.selection.getRange(),t.selection.setRange(n),t.selection.clearSelection()}}},I=function(e){if(t.onCompositionEnd&&!t.$readOnly){var n=m;m=!1;var i=setTimeout(function(){i=null;var e=d.value.replace(/\x01/g,"");m||(e==n.lastValue?c():!n.lastValue&&e&&(c(),$(e)))});T=function(e){return i&&clearTimeout(i),e=e.replace(/\x01/g,""),e==n.lastValue?"":(n.lastValue&&i&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",I),"compositionend"==e.type&&n.range&&t.selection.setRange(n.range)}},q=o.delayedCall(R,50);i.addListener(d,"compositionstart",O),r.isGecko?i.addListener(d,"text",function(){q.schedule()}):(i.addListener(d,"keyup",function(){q.schedule()}),i.addListener(d,"keydown",function(){q.schedule()})),i.addListener(d,"compositionend",I),this.getElement=function(){return d},this.setReadOnly=function(e){d.readOnly=e},this.onContextMenu=function(e){F=!0,n(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,n){if(n||!r.isOldIE){g||(g=d.style.cssText),d.style.cssText=(n?"z-index:100000;":"")+"height:"+d.style.height+";"+(r.isIE?"opacity:0.1;":"");var o=t.container.getBoundingClientRect(),a=s.computedStyle(t.container),l=o.top+(parseInt(a.borderTopWidth)||0),c=o.left+(parseInt(o.borderLeftWidth)||0),h=o.bottom-l-d.clientHeight-2,p=function(e){d.style.left=e.clientX-c-2+"px",d.style.top=Math.min(e.clientY-l-2,h)+"px"};p(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(N),r.isWin&&!r.isOldIE&&i.capture(t.container,p,u))}},this.onContextMenuClose=u;var N,U=function(e){t.textInput.onContextMenu(e),u()};i.addListener(d,"mouseup",U),i.addListener(d,"mousedown",function(e){e.preventDefault(),u()}),i.addListener(t.renderer.scroller,"contextmenu",U),i.addListener(d,"contextmenu",U)};t.TextInput=c}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function i(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),t.setDefaultHandler("touchmove",this.onTouchMove.bind(e));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function r(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}function s(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)var n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var o=(e("../lib/dom"),e("../lib/event"),e("../lib/useragent"),0);(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,r=e.getButton();if(0!==r){var s=i.getSelectionRange(),o=s.isEmpty();return i.$blockScrolling++,(o||1==r)&&i.selection.moveToPosition(n),i.$blockScrolling--,2==r&&i.textInput.onContextMenu(e.domEvent),void 0}return this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(i==-1)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var r=s(this.$clickSelection,n);n=r.cursor,e=r.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[e](i.row,i.column);if(n.$blockScrolling++,this.$clickSelection){var o=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(o==-1&&a<=0)t=this.$clickSelection.end,r.end.row==i.row&&r.end.column==i.column||(i=r.start);else if(1==a&&o>=0)t=this.$clickSelection.start,r.start.row==i.row&&r.start.column==i.column||(i=r.end);else if(o==-1&&1==a)i=r.end,t=r.start;else{var l=s(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>o||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session,r=i.getBracketRange(t);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),i=this.editor,r=i.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);return r||n<200?(this.$lastScrollTime=t,i.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},this.onTouchMove=function(e){var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),i=this.editor,r=i.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);if(r||n<200)return this.$lastScrollTime=t,i.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}).call(i.prototype),t.DefaultHandlers=i}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,n){"use strict";function i(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var r=(e("./lib/oop"),e("./lib/dom"));(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){r.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){r.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(i.prototype),t.Tooltip=i}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,n){"use strict";function i(e){function t(){var t=d.getDocumentPosition().row,r=l.$annotations[t];if(!r)return n();var s=o.session.getLength();if(t==s){var a=o.renderer.pixelToScreenCoordinates(0,d.y).row,u=d.$pos;if(a>o.session.documentToScreenRow(u.row,u.column))return n()}if(h!=r)if(h=r.text.join("<br/>"),c.setHtml(h),c.show(),o.on("mousewheel",n),e.$tooltipFollowsMouse)i(d);else{var p=d.domEvent.target,f=p.getBoundingClientRect(),m=c.getElement().style;m.left=f.right+"px",m.top=f.bottom+"px"}}function n(){u&&(u=clearTimeout(u)),h&&(c.hide(),h=null,o.removeEventListener("mousewheel",n))}function i(e){c.setPosition(e.x,e.y)}var o=e.editor,l=o.renderer.$gutterLayer,c=new r(o.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(o.isFocused()&&0==t.getButton()){var n=l.getRegion(t);if("foldWidgets"!=n){var i=t.getDocumentPosition().row,r=o.session.selection;if(t.getShiftKey())r.selectTo(i,0);else{if(2==t.domEvent.detail)return o.selectAll(),t.preventDefault();e.$clickSelection=o.selection.getLineRange(i)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}});var u,d,h;e.editor.setDefaultHandler("guttermousemove",function(r){var o=r.domEvent.target||r.domEvent.srcElement;return s.hasCssClass(o,"ace_fold-widget")?n():(h&&e.$tooltipFollowsMouse&&i(r),d=r,void(u||(u=setTimeout(function(){u=null,d&&!e.isMousePressed?t():n()},50))))}),a.addListener(o.renderer.$gutter,"mouseout",function(e){d=null,h&&!u&&(u=setTimeout(function(){u=null,n()},50))}),o.on("changeSession",n)}function r(e){l.call(this,e)}var s=e("../lib/dom"),o=e("../lib/oop"),a=e("../lib/event"),l=e("../tooltip").Tooltip;o.inherits(r,l),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),s=this.getHeight();e+=15,t+=15,e+r>n&&(e-=e+r-n),t+s>i&&(t-=20+s),l.prototype.setPosition.call(this,e,t)}}.call(r.prototype),t.GutterHandler=i}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),s=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(s.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function i(e){function t(e,t){var n=Date.now(),i=!t||e.row!=t.row,s=!t||e.column!=t.column;if(!T||i||s)g.$blockScrolling+=1,g.moveCursorToPosition(e),g.$blockScrolling-=1,T=n,F={x:w,y:_};else{var o=r(F.x,F.y,w,_);o>u?T=null:n-T>=c&&(g.renderer.scrollCursorIntoView(),T=null)}}function n(e,t){var n=Date.now(),i=g.renderer.layerConfig.lineHeight,r=g.renderer.layerConfig.characterWidth,s=g.renderer.scroller.getBoundingClientRect(),o={x:{left:w-s.left,right:s.right-w},y:{top:_-s.top,bottom:s.bottom-_}},a=Math.min(o.x.left,o.x.right),c=Math.min(o.y.top,o.y.bottom),u={row:e.row,column:e.column};a/r<=2&&(u.column+=o.x.left<o.x.right?-3:2),c/i<=1&&(u.row+=o.y.top<o.y.bottom?-1:1);var d=e.row!=u.row,h=e.column!=u.column,p=!t||e.row!=t.row;d||h&&!p?x?n-x>=l&&g.renderer.scrollCursorIntoView(u):x=n:x=null}function i(){var e=A;A=g.renderer.screenToTextCoordinates(w,_),t(A,e),n(A,e)}function d(){k=g.selection.toOrientedRange(),b=g.session.addMarker(k,"ace_selection",g.getSelectionStyle()),g.clearSelection(),g.isFocused()&&g.renderer.$cursorLayer.setBlinking(!1),clearInterval(C),i(),C=setInterval(i,20),D=0,o.addListener(document,"mousemove",p)}function h(){clearInterval(C),g.session.removeMarker(b),b=null,g.$blockScrolling+=1,g.selection.fromOrientedRange(k),g.$blockScrolling-=1,g.isFocused()&&!S&&g.renderer.$cursorLayer.setBlinking(!g.getReadOnly()),k=null,A=null,D=0,x=null,T=null,o.removeListener(document,"mousemove",p)}function p(){null==B&&(B=setTimeout(function(){null!=B&&b&&h()},20))}function f(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function m(e){var t=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],i=a.isMac?e.altKey:e.ctrlKey,r="uninitialized";try{r=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var s="none";return i&&t.indexOf(r)>=0?s="copy":n.indexOf(r)>=0?s="move":t.indexOf(r)>=0&&(s="copy"),s}var g=e.editor,v=s.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var y=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];y.forEach(function(t){e[t]=this[t]},this),g.addEventListener("mousedown",this.onMouseDown.bind(e));var b,w,_,C,k,A,E,S,x,T,F,$=g.container,D=0;this.onDragStart=function(e){if(this.cancelDrag||!$.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}k=g.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=g.getReadOnly()?"copy":"copyMove",a.isOpera&&(g.container.appendChild(v),v.scrollTop=0),n.setDragImage&&n.setDragImage(v,0,0),a.isOpera&&g.container.removeChild(v),n.clearData(),n.setData("Text",g.session.getTextRange()),S=!0,this.setState("drag")},this.onDragEnd=function(e){if($.draggable=!1,S=!1,this.setState(null),!g.getReadOnly()){var t=e.dataTransfer.dropEffect;!E&&"move"==t&&g.session.remove(g.getSelectionRange()),g.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!g.getReadOnly()&&f(e.dataTransfer))return w=e.clientX,_=e.clientY,b||d(),D++,e.dataTransfer.dropEffect=E=m(e),o.preventDefault(e)},this.onDragOver=function(e){if(!g.getReadOnly()&&f(e.dataTransfer))return w=e.clientX,_=e.clientY,b||(d(),D++),null!==B&&(B=null),e.dataTransfer.dropEffect=E=m(e),o.preventDefault(e)},this.onDragLeave=function(e){if(D--,D<=0&&b)return h(),E=null,o.preventDefault(e)},this.onDrop=function(e){if(A){var t=e.dataTransfer;if(S)switch(E){case"move":k=k.contains(A.row,A.column)?{start:A,end:A}:g.moveText(k,A);break;case"copy":k=g.moveText(k,A,!0)}else{var n=t.getData("Text");k={start:A,end:g.session.insert(A,n)},g.focus(),E=null}return h(),o.preventDefault(e)}},o.addListener($,"dragstart",this.onDragStart.bind(e)),o.addListener($,"dragend",this.onDragEnd.bind(e)),o.addListener($,"dragenter",this.onDragEnter.bind(e)),o.addListener($,"dragover",this.onDragOver.bind(e)),o.addListener($,"dragleave",this.onDragLeave.bind(e)),o.addListener($,"drop",this.onDrop.bind(e));var B=null}function r(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}var s=e("../lib/dom"),o=e("../lib/event"),a=e("../lib/useragent"),l=200,c=200,u=5;(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var n=a.isWin?"default":"move";e.renderer.setCursorStyle(n),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;if(a.isIE&&"dragReady"==this.state){var n=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&t.dragDrop()}if("dragWait"===this.state){var n=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton(),r=e.domEvent.detail||1;if(1===r&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var s=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in s&&(s.unselectable="on"),t.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var o=t.container;o.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(i.prototype),t.DragdropHandler=i}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var i=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=i.getDocumentHead(),r=document.createElement("script");r.src=e,n.appendChild(r),r.onload=r.onreadystatechange=function(e,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,n){"use strict";var i={},r=function(){this.propagationStopped=!0},s=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],i=this._defaultHandlers[e];if(n.length||i){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=s),n=n.slice();for(var o=0;o<n.length&&(n[o](t,this),!t.propagationStopped);o++);return i&&!t.defaultPrevented?i(t,this):void 0}},i._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},i.once=function(e,t){var n=this;t&&this.addEventListener(e,function i(){n.removeEventListener(e,i),t.apply(null,arguments)})},i.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],r=n._disabled_[e];r||(n._disabled_[e]=r=[]),r.push(i);var s=r.indexOf(t);s!=-1&&r.splice(s,1)}n[e]=t},i.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t){n[e];i&&this.setDefaultHandler(e,i.pop())}else if(i){var r=i.indexOf(t);r!=-1&&i.splice(r,1)}}},i.on=i.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),i.indexOf(t)==-1&&i[n?"unshift":"push"](t),t},i.off=i.removeListener=i.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);i!==-1&&n.splice(i,1)}},i.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=i}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"no use strict";function i(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function r(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var s=e("./oop"),o=e("./event_emitter").EventEmitter,a={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];return n?n.forwardTo?this[n.forwardTo]&&this[n.forwardTo].setOption(e,t):(n.handlesSet||(this["$"+e]=t),void(n&&n.set&&n.set.call(this,t))):i('misspelled option "'+e+'"')}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:i('misspelled option "'+e+'"')}},l=function(){this.$defaultOptions={}};(function(){s.implement(this,o),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)}),s.implement(e,a),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=i,this.reportError=r}).call(l.prototype),t.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,i){"no use strict";function r(r){if(c&&c.document){u.packaged=r||e.packaged||i.packaged||c.define&&n(599).packaged;for(var o={},a="",l=document.currentScript||document._currentScript,d=l&&l.ownerDocument||document,h=d.getElementsByTagName("script"),p=0;p<h.length;p++){var f=h[p],m=f.src||f.getAttribute("src");if(m){for(var g=f.attributes,v=0,y=g.length;v<y;v++){var b=g[v];0===b.name.indexOf("data-ace-")&&(o[s(b.name.replace(/^data-ace-/,""))]=b.value)}var w=m.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);w&&(a=w[1])}}a&&(o.base=o.base||a,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var _ in o)"undefined"!=typeof o[_]&&t.set(_,o[_])}}function s(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var o=e("./lib/lang"),a=(e("./lib/oop"),e("./lib/net")),l=e("./lib/app_config").AppConfig;i.exports=t=new l;var c=function(){return this||"undefined"!=typeof window&&window}(),u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!u.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return u[e]},t.set=function(e,t){if(!u.hasOwnProperty(e))throw new Error("Unknown config key: "+e);u[e]=t},t.all=function(){return o.copyObject(u)},t.moduleUrl=function(e,t){if(u.$moduleUrls[e])return u.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var i="snippets"==t?"/":"-",r=n[n.length-1];if("worker"==t&&"-"==i){var s=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(s,"")}(!r||r==t)&&n.length>1&&(r=n[n.length-2]);var o=u[t+"Path"];return null==o?o=u.basePath:"/"==i&&(t=i=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return u.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,i){var r,s;Array.isArray(n)&&(s=n[0],n=n[1]);try{r=e(n)}catch(o){}if(r&&!t.$loading[n])return i&&i(r);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var l=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var i=t.$loading[n];t.$loading[n]=null,i.forEach(function(t){t&&t(e)})})};return t.get("packaged")?void a.loadScript(t.moduleUrl(n,s),l):l()}},t.init=r}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),s=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("../config"),u=function(e){var t=this;this.editor=e,new s(this),new o(this),new l(this);var n=function(t){var n=!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement());n&&window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();i.addListener(a,"click",this.onMouseEvent.bind(this,"click")),i.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove")),i.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),i.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel")),i.addTouchMoveListener(e.container,this.onTouchMove.bind(this,"touchmove"));var c=e.renderer.$gutter;i.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),i.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),i.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),i.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),i.addListener(a,"mousedown",n),i.addListener(c,"mousedown",n),r.isIE&&e.renderer.scrollBarV&&(i.addListener(e.renderer.scrollBarV.element,"mousedown",n),i.addListener(e.renderer.scrollBarH.element,"mousedown",n)),e.on("mousemove",function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),s=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?s.setCursorStyle("default"):s.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.onTouchMove=function(e,t){var n=new a(t,this.editor);n.speed=1,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var s=this,o=function(e){if(e)return r.isWebKit&&!e.which&&s.releaseMouse?s.releaseMouse():(s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new a(e,s.editor),s.$mouseMoved=!0,void 0)},l=function(e){clearInterval(u),c(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),s.isMousePressed=!1,s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e)},c=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){l(e)});s.$onCaptureMouseMove=o,s.releaseMouse=i.capture(this.editor.container,o,l);var u=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(u.prototype),c.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(e,t,n){"use strict";function i(e){e.on("click",function(t){
var n=t.getDocumentPosition(),i=e.session,r=i.getFoldAt(n.row,n.column,1);r&&(t.getAccelKey()?i.removeFold(r):i.expandFold(r),t.stop())}),e.on("gutterclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var i=t.getDocumentPosition().row,r=e.session;r.foldWidgets&&r.foldWidgets[i]&&e.session.onFoldWidgetClick(i,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var i=t.getDocumentPosition().row,r=e.session,s=r.getParentFoldRangeData(i,!0),o=s.range||s.firstRange;if(o){i=o.start.row;var a=r.getFoldAt(i,r.getLine(i).length,1);a?r.removeFold(a):(r.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}})}t.FoldHandler=i}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/event"),s=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"==typeof e&&!e.handleKeyboard&&(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);n!=-1&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),n==-1&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return t!=-1&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,i){for(var s,o=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&(s=this.$handlers[l].handleKeyboard(this.$data,e,t,n,i),!(s&&s.command&&(o="null"==s.command||a.exec(s.command,this.$editor,s.args,i),o&&i&&e!=-1&&1!=s.passEvent&&1!=s.command.passEvent&&r.stopEvent(i),o))););return!o&&e==-1&&(s={command:"insertstring"},o=a.exec("insertstring",this.$editor,t)),o&&this.$editor._signal("keyboardActivity",s),o},this.onCommandKey=function(e,t,n){var r=i.keyCodeToString(n);this.$callKeyboardHandlers(t,r,n,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(s.prototype),t.KeyBinding=s}),ace.define("ace/range",["require","exports","module"],function(e,t,n){"use strict";var i=function(e,t){return e.row-t.row||e.column-t.column},r=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return t=this.compare(n.row,n.column),1==t?(t=this.compare(i.row,i.column),1==t?2:0==t?1:0):t==-1?-2:(t=this.compare(i.row,i.column),t==-1?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return t==-1||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var i={row:t+1,column:0};else if(this.start.row<e)var i={row:e,column:0};return r.fromPoints(i||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(n==-1)var i={row:e,column:t};else var s={row:e,column:t};return r.fromPoints(i||this.start,s||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return r.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new r(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new r(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new r(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(r.prototype),r.fromPoints=function(e,t){return new r(e.row,e.column,t.row,t.column)},r.comparePoints=i,r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=r}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),s=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){i.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+e);var t=this.getSelectionAnchor(),n=this.getSelectionLead(),i=this.isBackwards();(!i||0!==t.column)&&this.setSelectionAnchor(t.row,t.column+e),(i||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,t===!0?new o(i,0,n,this.session.getLine(n).length):new o(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-n,t.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column),s=r.match(/^\s*/);s[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(i.column+=s[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e,t=this.lead.row,n=this.lead.column,i=this.doc.getLine(t),r=i.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var s=this.session.getFoldAt(t,n,1);return s?void this.moveCursorTo(s.end.row,s.end.column):((e=this.session.nonTokenRe.exec(r))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=i.substring(n)),n>=i.length?(this.moveCursorTo(t,i.length),this.moveCursorRight(),t<this.doc.getLength()-1&&this.moveCursorWordRight(),void 0):((e=this.session.tokenRe.exec(r))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,n)))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return void this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var s,o=r.stringReverse(i);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(s=this.session.nonTokenRe.exec(o))&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0?(this.moveCursorTo(t,0),this.moveCursorLeft(),t>0&&this.moveCursorWordLeft(),void 0):((s=this.session.tokenRe.exec(o))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,n))},this.$shortWordEndIndex=function(e){var t,n,i=0,r=/\s/,s=this.session.tokenRe;if(s.lastIndex=0,t=this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{for(;(n=e[i])&&r.test(n);)i++;if(i<1)for(s.lastIndex=0;(n=e[i])&&!s.test(n);)if(s.lastIndex=0,i++,r.test(n)){if(i>2){i--;break}for(;(n=e[i])&&r.test(n);)i++;if(i>2)break}}return s.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var s=this.doc.getLength();do e++,i=this.doc.getLine(e);while(e<s&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var o=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+o)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do t--,i=this.doc.getLine(t);while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var s=r.stringReverse(i),o=this.$shortWordEndIndex(s);return this.moveCursorTo(t,n-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var i=this.session.screenToDocumentPosition(n.row+e,n.column);0!==e&&0===t&&i.row===this.lead.row&&i.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[i.row]&&(i.row>0||e>0)&&i.row++,this.moveCursorTo(i.row,i.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return o.fromPoints(t,n)}catch(i){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,n){"use strict";var i=e("./config"),r=2e3,s=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var n=this.states[t],i=[],r=0,s=this.matchMappings[t]={defaultToken:"text"},o="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(s.defaultToken=c.defaultToken),c.caseInsensitive&&(o="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,d=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==d?c.token=c.token[0]:d-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:d-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"==typeof c.token&&!c.onMatch&&(d>1?c.onMatch=this.$applyToken:c.onMatch=c.token),d>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+r+1)}):(d=1,u=this.removeCapturingGroups(c.regex)),!c.splitRegex&&"string"!=typeof c.token&&a.push(c)),s[r]=l,r+=d,i.push(u),c.onMatch||(c.onMatch=null)}}i.length||(s[0]=0,i.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)},this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(e){r=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],r=0,s=n.length;r<s;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,s=i.length;r<s;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n},this.removeCapturingGroups=function(e){var t=e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t},this.createSplitterRegexp=function(e,t){if(e.indexOf("(?=")!=-1){var n=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,s,o,a,l){return i?i="]"!=a:a?i=!0:o?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):s&&(n++,1!=s.length&&(r.stack=n,r.start=l)),e}),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);t=n[0],"#tmp"===t&&(n.shift(),t=n.shift())}else var n=[];var i=t||"start",s=this.states[i];s||(i="start",s=this.states[i]);var o=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,c=[],u=0,d=0,h={type:null,value:""};l=a.exec(e);){var p=o.defaultToken,f=null,m=l[0],g=a.lastIndex;if(g-m.length>u){var v=e.substring(u,g-m.length);h.type==p?h.value+=v:(h.type&&c.push(h),h={type:p,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){f=s[o[y]],p=f.onMatch?f.onMatch(m,i,n):f.token,f.next&&(i="string"==typeof f.next?f.next:f.next(i,n),s=this.states[i],s||(this.reportError("state doesn't exist",i),i="start",s=this.states[i]),o=this.matchMappings[i],u=g,a=this.regExps[i],a.lastIndex=g);break}if(m)if("string"==typeof p)f&&f.merge===!1||h.type!==p?(h.type&&c.push(h),h={type:p,value:m}):h.value+=m;else if(p){h.type&&c.push(h),h={type:null,value:""};for(var y=0;y<p.length;y++)c.push(p[y])}if(u==e.length)break;if(u=g,d++>r){for(d>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)h.type&&c.push(h),h={value:e.substring(u,u+=2e3),type:"overflow"};i="start",n=[];break}}return h.type&&c.push(h),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:c,state:n.length?n:i}},this.reportError=i.reportError}).call(s.prototype),t.Tokenizer=s}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,n){"use strict";var i=e("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;r<i.length;r++){var s=i[r];(s.next||s.onMatch)&&("string"==typeof s.next&&0!==s.next.indexOf(t)&&(s.next=t+s.next),s.nextState&&0!==s.nextState.indexOf(t)&&(s.nextState=t+s.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,r,s){var o="function"==typeof e?(new e).getRules():e;if(r)for(var a=0;a<r.length;a++)r[a]=t+r[a];else{r=[];for(var l in o)r.push(t+l)}if(this.addRules(o,t),n)for(var c=Array.prototype[s?"push":"unshift"],a=0;a<r.length;a++)c.apply(this.$rules[r[a]],i.deepCopy(n));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function n(s){var o=r[s];o.processed=!0;for(var a=0;a<o.length;a++){var l=o[a];!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var c=l.next||l.push;if(c&&Array.isArray(c)){var u=l.stateName;u||(u=l.token,"string"!=typeof u&&(u=u[0]||""),r[u]&&(u+=i++)),r[u]=c,l.next=u,n(u)}else"pop"==c&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)r[d]?r[d].push&&r[d].push.apply(r[d],l.rules[d]):r[d]=l.rules[d];if(l.include||"string"==typeof l)var h=l.include||l,p=r[h];else Array.isArray(l)&&(p=l);if(p){var f=[a,1].concat(p);l.noEscape&&(f=f.filter(function(e){return!e.next})),o.splice.apply(o,f),a--,p=null}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var i=0,r=this.$rules;Object.keys(r).forEach(n,this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return Object.keys(e).forEach(function(t){var s=e[t];n&&(s=s.toLowerCase());for(var o=s.split(i||"|"),a=o.length;a--;)r[o[a]]=t}),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),t.TextHighlightRules=r}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(!e)return this.$behaviours;for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}}).call(i.prototype),t.Behaviour=i}),ace.define("ace/unicode",["require","exports","module"],function(e,t,n){"use strict";function i(e){var n=/\w{4}/g;for(var i in e)t.packages[i]=e[i].replace(n,"\\u$&")}t.packages={},i({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/token_iterator",["require","exports","module"],function(e,t,n){"use strict";var i=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)t-=1,n+=e[t].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(i.prototype),t.TokenIterator=i}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,n){"use strict";var i=e("../tokenizer").Tokenizer,r=e("./text_highlight_rules").TextHighlightRules,s=e("./behaviour").Behaviour,o=e("../unicode"),a=e("../lib/lang"),l=e("../token_iterator").TokenIterator,c=e("../range").Range,u=function(){this.HighlightRules=r,this.$behaviour=new s};(function(){this.tokenRe=new RegExp("^["+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules,this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){function r(e){for(var t=n;t<=i;t++)e(s.getLine(t),t)}var s=t.doc,o=!0,l=!0,c=1/0,u=t.getTabSize(),d=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var h=this.lineCommentStart.map(a.escapeRegExp).join("|"),p=this.lineCommentStart[0];else var h=a.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart;h=new RegExp("^(\\s*)(?:"+h+") ?"),d=t.getUseSoftTabs();var f=function(e,t){var n=e.match(h);if(n){var i=n[1].length,r=n[0].length;!y(e,i,r)&&" "==n[0][r-1]&&r--,s.removeInLine(t,i,r)}},m=p+" ",g=function(e,t){o&&!/\S/.test(e)||(y(e,c,c)?s.insertInLine({row:t,column:c},m):s.insertInLine({row:t,column:c},p))},v=function(e,t){return h.test(e)},y=function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%u!=0)return!1;for(var i=0;" "==e.charAt(n++);)i++;return u>2?i%u!=u-1:i%u==0}}else{if(!this.blockComment)return!1;var p=this.blockComment.start,b=this.blockComment.end,h=new RegExp("^(\\s*)(?:"+a.escapeRegExp(p)+")"),w=new RegExp("(?:"+a.escapeRegExp(b)+")\\s*$"),g=function(e,t){v(e,t)||o&&!/\S/.test(e)||(s.insertInLine({row:t,column:e.length},b),s.insertInLine({row:t,column:c},p))},f=function(e,t){var n;(n=e.match(w))&&s.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(h))&&s.removeInLine(t,n[1].length,n[0].length)},v=function(e,n){if(h.test(e))return!0;for(var i=t.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}var _=1/0;r(function(e,t){var n=e.search(/\S/);n!==-1?(n<c&&(c=n),l&&!v(e,t)&&(l=!1)):_>e.length&&(_=e.length)}),c==1/0&&(c=_,o=!1,l=!1),d&&c%u!=0&&(c=Math.floor(c/u)*u),r(l?f:g)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var s,o,a=new l(t,i.row,i.column),u=a.getCurrentToken(),d=(t.selection,t.selection.toOrientedRange());if(u&&/comment/.test(u.type)){for(var h,p;u&&/comment/.test(u.type);){var f=u.value.indexOf(r.start);if(f!=-1){var m=a.getCurrentTokenRow(),g=a.getCurrentTokenColumn()+f;h=new c(m,g,m,g+r.start.length);break}u=a.stepBackward()}for(var a=new l(t,i.row,i.column),u=a.getCurrentToken();u&&/comment/.test(u.type);){var f=u.value.indexOf(r.end);if(f!=-1){var m=a.getCurrentTokenRow(),g=a.getCurrentTokenColumn()+f;p=new c(m,g,m,g+r.end.length);break}u=a.stepForward()}p&&t.remove(p),h&&(t.remove(h),s=h.start.row,o=-r.start.length)}else o=r.start.length,s=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);d.start.row==s&&(d.start.column+=o),d.end.row==s&&(d.end.column+=o),t.selection.fromOrientedRange(d)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);for(var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<n.length;t++)(function(e){var i=n[t],r=e[i];e[n[t]]=function(){return this.$delegator(i,arguments,r)}})(this)},this.$delegator=function(e,t,n){var i=t[0];"string"!=typeof i&&(i=i[0]);for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var s=i.split(this.$embeds[r]);if(!s[0]&&s[1]){t[0]=s[1];var o=this.$modes[this.$embeds[r]];return o[e].apply(o,t)}}var a=n.apply(this,t);return n?a:void 0},this.transformAction=function(e,t,n,i,r){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][t]){var a=s[o][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var r=t[i],s=0,o=r.length;s<o;s++)if("string"==typeof r[s].token)/keyword|support|storage/.test(r[s].token)&&n.push(r[s].regex);else if("object"==typeof r[s].token)for(var a=0,l=r[s].token.length;a<l;a++)if(/keyword|support|storage/.test(r[s].token[a])){var i=r[s].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,i){var r=this.$keywordList||this.$createKeywordList();return r.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),t.Mode=u}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t,n){"use strict";function i(e,t){throw console.log("Invalid Delta:",e),"Invalid Delta: "+t}function r(e,t){return t.row>=0&&t.row<e.length&&t.column>=0&&t.column<=e[t.row].length}t.applyDelta=function(e,t,n){var i=t.start.row,r=t.start.column,s=e[i]||"";switch(t.action){case"insert":var o=t.lines;if(1===o.length)e[i]=s.substring(0,r)+t.lines[0]+s.substring(r);else{var a=[i,1].concat(t.lines);e.splice.apply(e,a),e[i]=s.substring(0,r)+e[i],e[i+t.lines.length-1]+=s.substring(r)}break;case"remove":var l=t.end.column,c=t.end.row;i===c?e[i]=s.substring(0,r)+s.substring(l):e.splice(i,c-i+1,s.substring(0,r)+e[c].substring(l))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,s=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var i=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}function t(t,n,i){var r="insert"==t.action,s=(r?1:-1)*(t.end.row-t.start.row),o=(r?1:-1)*(t.end.column-t.start.column),a=t.start,l=r?a:t.end;return e(n,a,i)?{row:n.row,column:n.column}:e(l,n,!i)?{row:n.row+s,column:n.column+(n.row==l.row?o:0)}:{row:a.row,column:a.column}}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var n=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(s.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./apply_delta").applyDelta,s=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){i.implement(this,s),this.setValue=function(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var i=this.getLine(e);return void 0==t&&(t=i.length),t=Math.min(Math.max(t,0),i.length),{row:e,column:t}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var n=0;e<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var i=this.clippedPos(e,t),r=this.clippedPos(e,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var n=t==this.getLength()-1&&e>0,i=t<this.getLength()-1,r=n?e-1:e,s=n?this.getLine(r).length:0,a=i?t+1:t,l=i?0:this.getLine(a).length,c=new o(r,s,a,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){if(e instanceof o||(e=o.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);var n;
return n=t?this.insert(e.start,t):e.start},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4&&this.$splitAndapplyLargeDelta(e,2e4),r(this.$lines,e,t),this._signal("change",e))},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,i=n.length,r=e.start.row,s=e.start.column,o=0,a=0;;){o=a,a+=t-1;var l=n.slice(o,a);if(a>i){e.lines=l,e.start.row=r+o,e.start.column=s;break}l.push(""),this.applyDelta({start:this.pos(r+o,s),end:this.pos(r+a,s=0),action:e.action,lines:l},!0)}},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,s=n.length;r<s;r++)if(e-=n[r].length+i,e<0)return{row:r,column:e+n[r].length+i};return{row:s-1,column:n[s-1].length}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,s=Math.min(e.row,n.length),o=t||0;o<s;++o)r+=n[o].length+i;return r+e.column}}).call(l.prototype),t.Document=l}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,s=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,i=-1,r=n.doc,s=t;n.lines[t];)t++;var o=r.getLength(),a=0;for(n.running=!1;t<o;){n.$tokenizeRow(t),i=t;do t++;while(n.lines[t]);if(a++,a%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,s<=i&&n.fireUpdateEvent(s,i)}}};(function(){i.implement(this,r),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}}).call(s.prototype),t.BackgroundTokenizer=s}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var i=e("./lib/lang"),r=(e("./lib/oop"),e("./range").Range),s=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,s){if(this.regExp)for(var o=s.firstRow,a=s.lastRow,l=o;l<=a;l++){var c=this.cache[l];null==c&&(c=i.getMatchOffsets(n.getLine(l),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(e){return new r(l,e.offset,l,e.offset+e.length)}),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(n),this.clazz,s)}}}).call(s.prototype),t.SearchHighlight=s}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,n){"use strict";function i(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var r=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,r,s,o=0,a=this.folds,l=!0;null==t&&(t=this.end.row,n=this.end.column);for(var c=0;c<a.length;c++){if(i=a[c],r=i.range.compareStart(t,n),r==-1)return void e(null,t,n,o,l);if(s=e(null,i.start.row,i.start.column,o,l),s=!s&&e(i.placeholder,i.start.row,i.start.column,o),s||0===r)return;l=!i.sameRow,o=i.end.column}e(null,t,n,o,l)},this.getNextFoldTo=function(e,t){for(var n,i,r=0;r<this.folds.length;r++){if(n=this.folds[r],i=n.range.compareEnd(e,t),i==-1)return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,r,s=this.getNextFoldTo(e,t);if(s)if(i=s.fold,"inside"==s.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){r=this.folds;var o=r.indexOf(i);for(0===o&&(this.start.column+=n),o;o<r.length;o++){if(i=r[o],i.start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var r=n.fold,s=this.folds,o=this.foldData,a=s.indexOf(r),l=s[a-1];this.end.row=l.end.row,this.end.column=l.end.column,s=s.splice(a,s.length-a);var c=new i(o,s);return o.splice(o.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if(e-=i.start.column-t,e<0)return{row:i.start.row,column:i.start.column+e};if(e-=i.placeholder.length,e<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(i.prototype),t.FoldLine=i}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,n){"use strict";var i=e("./range").Range,r=i.comparePoints,s=function(){this.ranges=[]};(function(){this.comparePoints=r,this.pointIndex=function(e,t,n){for(var i=this.ranges,s=n||0;s<i.length;s++){var o=i[s],a=r(e,o.end);if(!(a>0)){var l=r(e,o.start);return 0===a?t&&0!==l?-s-2:s:l>0||0===l&&!t?s:-s-1}}return-s-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return r(e.start,t.start)});for(var n,i=t[0],s=1;s<t.length;s++){n=i,i=t[s];var o=r(n.end,i.start);o<0||(0!=o||n.isEmpty()||i.isEmpty())&&(r(n.end,i.end)<0&&(n.end.row=i.end.row,n.end.column=i.end.column),t.splice(s,1),e.push(i),i=n,s--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);r<0&&(r=-r-1);for(var s=[],o=i;o<r;o++)s.push(n[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){if("insert"==e.action)var t=e.start,n=e.end;else var n=e.start,t=e.end;for(var i=t.row,r=n.row,s=r-i,o=-t.column+n.column,a=this.ranges,l=0,c=a.length;l<c;l++){var u=a[l];if(!(u.end.row<i)){if(u.start.row>i)break;if(u.start.row==i&&u.start.column>=t.column&&(u.start.column!=t.column||!this.$insertRight)&&(u.start.column+=o,u.start.row+=s),u.end.row==i&&u.end.column>=t.column){if(u.end.column==t.column&&this.$insertRight)continue;u.end.column==t.column&&o>0&&l<c-1&&u.end.column>u.start.column&&u.end.column==a[l+1].start.column&&(u.end.column-=o),u.end.column+=o,u.end.row+=s}}}if(0!=s&&l<c)for(;l<c;l++){var u=a[l];u.start.row+=s,u.end.row+=s}}}).call(s.prototype),t.RangeList=s}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t,n){"use strict";function i(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function r(e,t){i(e.start,t),i(e.end,t)}function s(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function o(e,t){s(e.start,t),s(e.end,t)}var a=(e("../range").Range,e("../range_list").RangeList),l=e("../lib/oop"),c=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};l.inherits(c,a),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new c(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);r(e,this.start);for(var t=e.start.row,n=e.start.column,i=0,s=-1;i<this.subFolds.length&&(s=this.subFolds[i].range.compare(t,n),1==s);i++);var o=this.subFolds[i];if(0==s)return o.addSubFold(e);for(var t=e.range.end.row,n=e.range.end.column,a=i,s=-1;a<this.subFolds.length&&(s=this.subFolds[a].range.compare(t,n),1==s);a++);this.subFolds[a];if(0==s)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(i,a-i,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return o(e,this.start)}}.call(c.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,n){"use strict";function i(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,s=0;s<r.length;s++){var o=r[s];if(o.range.contains(e,t)){if(1==n&&o.range.isEnd(e,t))continue;if(n==-1&&o.range.isStart(e,t))continue;return o}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var s=0;s<i.length;s++){var o=i[s].range.compareRange(e);if(2!=o){if(o==-2)break;for(var a=i[s].folds,l=0;l<a.length;l++){var c=a[l];if(o=c.range.compareRange(e),o==-2)break;if(2!=o){if(42==o)break;r.push(c)}}}}return t.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(i=i||this.getFoldLine(e),!i)return null;for(var r,s,o={end:{column:0}},a=0;a<i.folds.length;a++){s=i.folds[a];var l=s.range.compareEnd(e,t);if(l==-1){r=this.getLine(s.start.row).substring(o.end.column,s.start.column);break}if(0===l)return null;o=s}return r||(r=this.getLine(s.start.row).substring(o.end.column)),n==-1?r.substring(0,t-o.end.column):1==n?r.substring(t-o.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),i==-1&&(i=0),i;i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),i==-1&&(i=0),i;i<n.length;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;r<n.length;r++){var s=n[r],o=s.end.row,a=s.start.row;if(o>=t){a<t&&(a>=e?i-=t-a:i=0);break}o>=e&&(i-=a>=e?o-a:o-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n,i=this.$foldData,r=!1;e instanceof o?n=e:(n=new o(t,e),n.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column;if(a<c||a==c&&l<=u-2){var d=this.getFoldAt(a,l,1),h=this.getFoldAt(c,u,-1);if(d&&h==d)return d.addSubFold(n);d&&!d.range.isStart(a,l)&&this.removeFold(d),h&&!h.range.isEnd(c,u)&&this.removeFold(h);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),p.forEach(function(e){n.addSubFold(e)}));for(var f=0;f<i.length;f++){var m=i[f];if(c==m.start.row){m.addFold(n),r=!0;break}if(a==m.end.row){if(m.addFold(n),r=!0,!n.sameRow){var g=i[f+1];if(g&&g.start.row==c){m.merge(g);break}}break}if(c<=m.start.row)break}return r||(m=this.$addFoldLine(new s(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n}throw new Error("The range has to be at least 2 characters width")},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,s=t.folds;if(1==s.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))s.pop(),t.end.row=s[s.length-1].end.row,t.end.column=s[s.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))s.shift(),t.start.row=s[0].start.row,t.start.column=s[0].start.column;else if(e.sameRow)s.splice(s.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);s=o.folds,s.shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,i;if(null==e?(n=new r(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new r(e,0,e,this.getLine(e).length):"row"in e?r.fromPoints(e,e):e,i=this.getFoldsInRangeList(n),t)this.removeFolds(i);else for(var s=i;s.length;)this.expandFolds(s),s=this.getFoldsInRangeList(n);if(i.length)return i},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var s=this.doc,o="";return e.walk(function(e,t,n,a){if(!(t<i)){if(t==i){if(n<r)return;a=Math.max(r,a)}o+=null!=e?e:s.getLine(t).substring(a,n)}},t,n),o},this.getDisplayLine=function(e,t,n,i){var r=this.getFoldLine(e);if(!r){var s;return s=this.doc.getLine(e),s.substring(i||0,t||s.length)}return this.getFoldDisplayLine(r,e,t,n,i)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new s(e,n)})},this.toggleFold=function(e){var t,n,i=this.selection,r=i.getRange();if(r.isEmpty()){var s=r.start;if(t=this.getFoldAt(s.row,s.column))return void this.expandFold(t);(n=this.findMatchingBracket(s))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:s.row,column:s.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(s.row,s.column)||r}else{var o=this.getFoldsInRange(r);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(r.start.row,r.start.column)),t&&t.range.toString()==r.toString())return void this.expandFold(t);var a="...";if(!r.isMultiLine()){if(a=this.getTextRange(r),a.length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,r)},this.getCommentFoldRange=function(e,t,n){var i=new a(this,e,t),s=i.getCurrentToken();if(s&&/^comment|string/.test(s.type)){var o=new r,l=new RegExp(s.type.replace(/\..*/,"\\."));if(1!=n){do s=i.stepBackward();while(s&&l.test(s.type));i.stepForward()}if(o.start.row=i.getCurrentTokenRow(),o.start.column=i.getCurrentTokenColumn()+2,i=new a(this,e,t),n!=-1){do s=i.stepForward();while(s&&l.test(s.type));s=i.stepBackward()}else s=i.getCurrentToken();return o.end.row=i.getCurrentTokenRow(),o.end.column=i.getCurrentTokenColumn()+s.value.length-2,o}},this.foldAll=function(e,t,n){void 0==n&&(n=1e5);var i=this.foldWidgets;if(i){t=t||this.getLength(),e=e||0;for(var r=e;r<t;r++)if(null==i[r]&&(i[r]=this.getFoldWidget(r)),"start"==i[r]){var s=this.getFoldWidgetRange(r);if(s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e){r=s.end.row;try{var o=this.addFold("...",s);o&&(o.collapseChildren=n)}catch(a){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){if(this.$foldMode!=e)return this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),void 0):void(this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,r=e-1;r>=0;){var s=n[r];if(null==s&&(s=n[r]=this.getFoldWidget(r)),"start"==s){var o=this.getFoldWidgetRange(r);if(i||(i=o),o&&o.end.row>=e)break}r--}return{range:r!==-1&&o,firstRange:i}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},i=this.$toggleFoldWidget(e,n);if(!i){var r=t.target||t.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,s=this.getFoldAt(e,r===-1?0:i.length,r);if(s)return void(t.children||t.all?this.removeFold(s):this.expandFold(s));var o=this.getFoldWidgetRange(e,!0);if(o&&!o.isMultiLine()&&(s=this.getFoldAt(o.start.row,o.start.column,1),s&&o.isEqual(s.range)))return void this.removeFold(s);if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=o?o.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):o&&(t.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var i=this.getParentFoldRangeData(t,!0);if(n=i.range||i.firstRange){t=n.start.row;var r=this.getFoldAt(t,this.getLine(t).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var r=e("../range").Range,s=e("./fold_line").FoldLine,o=e("./fold").Fold,a=e("../token_iterator").TokenIterator;t.Folding=i}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,n){"use strict";function i(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,r=n.charAt(e.column-1),o=r&&r.match(/([\(\[\{])|([\)\]\}])/);if(o||(r=n.charAt(e.column),e={row:e.row,column:e.column+1},o=r&&r.match(/([\(\[\{])|([\)\]\}])/),i=!1),!o)return null;if(o[1]){var a=this.$findClosingBracket(o[1],e);if(!a)return null;t=s.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a=this.$findOpeningBracket(o[2],e);if(!a)return null;t=s.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var i=this.$brackets[e],s=1,o=new r(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-o.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==i){if(s-=1,0==s)return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else u==e&&(s+=1);l-=1}do a=o.stepBackward();while(a&&!n.test(a.type));if(null==a)break;c=a.value,l=c.length-1}return null}},this.$findClosingBracket=function(e,t,n){var i=this.$brackets[e],s=1,o=new r(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-o.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var d=c.charAt(l);if(d==i){if(s-=1,0==s)return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else d==e&&(s+=1);l+=1}do a=o.stepForward();while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}var r=e("../token_iterator").TokenIterator,s=e("../range").Range;t.BracketMatch=i}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),s=e("./config"),o=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,l=e("./mode/text").Mode,c=e("./range").Range,u=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,h=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new u(e)),this.setDocument(e),this.selection=new a(this),s.resetOptions(this),this.setMode(t),s._signal("session",this)};(function(){function e(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}i.implement(this,o),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,s=e[r];if(t>s)n=r+1;else{if(!(t<s))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&!e.ignore&&(this.$deltasDoc.push(e),t&&0!=t.length&&this.$deltasFold.push({action:"removeFolds",folds:t}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t)s=i.length-1,r=this.getLine(e).length;else for(var s=0;s<i.length&&(r+=i[s].value.length,!(r>=t));s++);return n=i[s],n?(n.index=s,n.start=r-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var r=this.$markerId++,s={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=s,this._signal("changeFrontMarker")):(this.$backMarkers[r]=s,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new h(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),
n||(n="ace_step");var r=new c(e,0,t,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine="\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var r=/\s/;else var r=this.nonTokenRe;var s=t;if(s>0){do s--;while(s>=0&&n.charAt(s).match(r));s++}for(var o=t;o<n.length&&n.charAt(o).match(r);)o++;return new c(e,s,e,o)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[i]&&!n?(this.$onChangeMode(this.$modes[i]),void(t&&t())):(this.$modeId=i,s.loadModule(["mode",i],function(e){return this.$modeId!==i?t&&t():(this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),void(t&&t()))}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0),void 0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new d(n);var r=this;this.bgTokenizer.addEventListener("update",function(e){r._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,s=this.$foldData[r],o=s?s.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>o){if(l=s.end.row+1,l>=a)break;s=this.$foldData[r++],o=s?s.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=e.length-1;i!=-1;i--){var r=e[i];"doc"==r.group?(this.doc.revertDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!0,n)):r.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=0;i<e.length;i++){var r=e[i];"doc"==r.group&&(this.doc.applyDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function i(e){return t?"insert"!==e.action:"insert"===e.action}var r,s,o=e[0],a=!1;i(o)?(r=c.fromPoints(o.start,o.end),a=!0):(r=c.fromPoints(o.start,o.start),a=!1);for(var l=1;l<e.length;l++)o=e[l],i(o)?(s=o.start,r.compare(s.row,s.column)==-1&&r.setStart(s),s=o.end,1==r.compare(s.row,s.column)&&r.setEnd(s),a=!0):(s=o.start,r.compare(s.row,s.column)==-1&&(r=c.fromPoints(o.start,o.start)),a=!1);if(null!=n){0===c.comparePoints(n.start,r.start)&&(n.start.column+=r.end.column-r.start.column,n.end.column+=r.end.column-r.start.column);var u=n.compareRange(r);1==u?r.setStart(n.start):u==-1&&r.setEnd(n.end)}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),r=this.getFoldsInRange(e),s=c.fromPoints(t,t);if(!n){this.remove(e);var o=e.start.row-e.end.row,a=o?-e.end.column:e.start.column-e.end.column;a&&(s.start.row==e.end.row&&s.start.column>e.end.column&&(s.start.column+=a),s.end.row==e.end.row&&s.end.column>e.end.column&&(s.end.column+=a)),o&&s.start.row>=e.end.row&&(s.start.row+=o,s.end.row+=o)}if(s.end=this.insert(s.start,i),r.length){var l=e.start,u=s.start,o=u.row-l.row,a=u.column-l.column;this.addFolds(r.map(function(e){return e=e.clone(),e.start.row==l.row&&(e.start.column+=a),e.end.row==l.row&&(e.end.column+=a),e.start.row+=o,e.end.row+=o,e}))}return s},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new c(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var s=this.getLine(r);n.start.row=r,n.end.row=r;for(var o=0;o<i&&" "==s.charAt(o);++o);o<i&&"\t"==s.charAt(o)?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){var i=this.getRowFoldStart(e+n);if(i<0)return 0;var r=i-e}else if(n>0){var i=this.getRowFoldEnd(t+n);if(i>this.doc.getLength()-1)return 0;var r=i-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var r=t-e+1}var s=new c(e,0,t,Number.MAX_VALUE),o=this.getFoldsInRange(s).map(function(e){return e=e.clone(),e.start.row+=r,e.end.row+=r,e}),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+r,a),o.length&&this.addFolds(o),r},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,i=e.start,r=e.end,s=i.row,o=r.row,a=o-s,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(s,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=this.getFoldLine(r.row),d=0;if(u){u.addRemoveChars(r.row,r.column,i.column-r.column),u.shiftRow(-a);var h=this.getFoldLine(s);h&&h!==u&&(h.merge(u),u=h),d=c.indexOf(u)+1}for(d;d<c.length;d++){var u=c[d];u.start.row>=r.row&&u.shiftRow(-a)}o=s}else{var p=Array(a);p.unshift(s,0);var f=t?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,p);var c=this.$foldData,u=this.getFoldLine(s),d=0;if(u){var m=u.range.compareInside(i.row,i.column);0==m?(u=u.split(i.row,i.column),u&&(u.shiftRow(a),u.addRemoveChars(o,0,r.column-i.column))):m==-1&&(u.addRemoveChars(s,0,r.column-i.column),u.shiftRow(a)),d=c.indexOf(u)+1}for(d;d<c.length;d++){var u=c[d];u.start.row>=s&&u.shiftRow(a)}}else{a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a);var u=this.getFoldLine(s);u&&u.addRemoveChars(s,i.column,a)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var n,i,r=this.doc.getAllLines(),s=this.getTabSize(),o=this.$wrapData,l=this.$wrapLimit,c=e;for(t=Math.min(t,r.length-1);c<=t;)i=this.getFoldLine(c,i),i?(n=[],i.walk(function(e,t,i,s){var o;if(null!=e){o=this.$getDisplayTokens(e,n.length),o[0]=a;for(var l=1;l<o.length;l++)o[l]=u}else o=this.$getDisplayTokens(r[t].substring(s,i),n.length);n=n.concat(o)}.bind(this),i.end.row,r[i.end.row].length+1),o[i.start.row]=this.$computeWrapSplits(n,l,s),c=i.end.row+1):(n=this.$getDisplayTokens(r[c]),o[c]=this.$computeWrapSplits(n,l,s),c++)};var t=1,n=2,a=3,u=4,p=9,f=10,m=11,g=12;this.$computeWrapSplits=function(e,t,i){function r(){var t=0;if(0===y)return t;if(v)for(var n=0;n<e.length;n++){var r=e[n];if(r==f)t+=1;else{if(r!=m){if(r==g)continue;break}t+=i}}return h&&v!==!1&&(t+=i),Math.min(t,y)}function s(t){var n=e.slice(c,t),i=n.length;n.join("").replace(/12/g,function(){i-=1}).replace(/2/g,function(){i-=1}),o.length||(b=r(),o.indent=b),d+=i,o.push(d),c=t}if(0==e.length)return[];for(var o=[],l=e.length,c=0,d=0,h=this.$wrapAsCode,v=this.$indentedSoftWrap,y=t<=Math.max(2*i,8)||v===!1?0:Math.floor(t/2),b=0;l-c>t-b;){var w=c+t-b;if(e[w-1]>=f&&e[w]>=f)s(w);else if(e[w]!=a&&e[w]!=u){for(var _=Math.max(w-(t-(t>>2)),c-1);w>_&&e[w]<a;)w--;if(h){for(;w>_&&e[w]<a;)w--;for(;w>_&&e[w]==p;)w--}else for(;w>_&&e[w]<f;)w--;w>_?s(++w):(w=c+t,e[w]==n&&w--,s(w-b))}else{for(w;w!=c-1&&e[w]!=a;w--);if(w>c){s(w);continue}for(w=c+t;w<e.length&&e[w]==u;w++);if(w==e.length)break;s(w)}}return o},this.$getDisplayTokens=function(i,r){var s,o=[];r=r||0;for(var a=0;a<i.length;a++){var l=i.charCodeAt(a);if(9==l){s=this.getScreenTabSize(o.length+r),o.push(m);for(var c=1;c<s;c++)o.push(g)}else 32==l?o.push(f):l>39&&l<48||l>57&&l<64?o.push(p):l>=4352&&e(l)?o.push(t,n):o.push(t)}return o},this.$getStringScreenWidth=function(t,n,i){if(0==n)return[0,0];null==n&&(n=1/0),i=i||0;var r,s;for(s=0;s<t.length&&(r=t.charCodeAt(s),i+=9==r?this.getScreenTabSize(i):r>=4352&&e(r)?2:1,!(i>n));s++);return[i,s]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(e<0)return{row:0,column:0};var n,i,r=0,s=0,o=0,a=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var o=l[c],r=this.$docRowCache[c],d=e>l[u-1];else var d=!u;for(var h=this.getLength()-1,p=this.getNextFoldLine(r),f=p?p.start.row:1/0;o<=e&&(a=this.getRowLength(r),!(o+a>e||r>=h));)o+=a,r++,r>f&&(r=p.end.row+1,p=this.getNextFoldLine(r,p),f=p?p.start.row:1/0),d&&(this.$docRowCache.push(r),this.$screenRowCache.push(o));if(p&&p.start.row<=r)n=this.getFoldDisplayLine(p),r=p.start.row;else{if(o+a<=e||r>h)return{row:h,column:this.getLine(h).length};n=this.getLine(r),p=null}var m=0;if(this.$useWrapMode){var g=this.$wrapData[r];if(g){var v=Math.floor(e-o);i=g[v],v>0&&g.length&&(m=g.indent,s=g[v-1]||g[g.length-1],n=n.substring(s))}}return s+=this.$getStringScreenWidth(n,t-m)[1],this.$useWrapMode&&s>=i&&(s=i-1),p?p.idxToPosition(s):{row:r,column:s}},this.documentToScreenPosition=function(e,t){if("undefined"==typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i=0,r=null,s=null;s=this.getFoldAt(e,t,1),s&&(e=s.start.row,t=s.start.column);var o,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var a=l[c],i=this.$screenRowCache[c],d=e>l[u-1];else var d=!u;for(var h=this.getNextFoldLine(a),p=h?h.start.row:1/0;a<e;){if(a>=p){if(o=h.end.row+1,o>e)break;h=this.getNextFoldLine(o,h),p=h?h.start.row:1/0}else o=a+1;i+=this.getRowLength(a),a=o,d&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var f="";h&&a>=p?(f=this.getFoldDisplayLine(h,e,t),r=h.start.row):(f=this.getLine(e).substring(0,t),r=e);var m=0;if(this.$useWrapMode){var g=this.$wrapData[r];if(g){for(var v=0;f.length>=g[v];)i++,v++;f=f.substring(g[v-1]||0,f.length),m=v>0?g.indent:0}}return{row:i,column:m+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=0,t=this.$foldData[r++],s=t?t.start.row:1/0;i<n;){var o=this.$wrapData[i];e+=o?o.length+1:1,i++,i>s&&(i=t.end.row+1,t=this.$foldData[r++],s=t?t.start.row:1/0)}else{e=this.getLength();for(var a=this.$foldData,r=0;r<a.length;r++)t=a[r],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];n||(n=1/0),i=i||0;var r,s;for(s=0;s<t.length&&(r=t.charAt(s),i+="\t"===r?this.getScreenTabSize(i):e.getCharacterWidth(r),!(i>n));s++);return[i,s]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),s.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){e="auto"==e?"text"!=this.$mode.type:"text"!=e,e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=p}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var i=e("./lib/lang"),r=e("./lib/oop"),s=e("./range").Range,o=function(){this.$options={}};(function(){this.set=function(e){return r.mixin(this.$options,e),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach(function(e,n,r){if(e.start)i=e;else{var o=e.offset+(r||0);if(i=new s(n,o,n,o+e.length),!e.length&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start))return i=null,!1}return!0}),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,r=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),o=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=r.length-c;e:for(var d=a.offset||0;d<=u;d++){for(var h=0;h<c;h++)if(r[d+h].search(a[h])==-1)continue e;var p=r[d],f=r[d+c-1],m=p.length-p.match(a[0])[0].length,g=f.match(a[c-1])[0].length;l&&l.end.row===d&&l.end.column>m||(o.push(l=new s(d,m,d+c-1,g)),c>2&&(d=d+c-2))}}else for(var v=0;v<r.length;v++)for(var y=i.getMatchOffsets(r[v],a),h=0;h<y.length;h++){var b=y[h];o.push(new s(v,b.offset,v,b.offset+b.length))}if(n){for(var w=n.start.column,_=n.start.column,v=0,h=o.length-1;v<h&&o[v].start.column<w&&o[v].start.row==n.start.row;)v++;for(;v<h&&o[h].end.column>_&&o[h].end.row==n.end.row;)h--;for(o=o.slice(v,h+1),v=0,h=o.length;v<h;v++)o[v].start.row+=n.start.row,o[v].end.row+=n.start.row}return o},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var s=Math.min(e.length,e.length);s--;){var o=e[s];o&&o.toLowerCase()!=o?t[s]=t[s].toUpperCase():t[s]=t[s].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r;if(t.$isMultiLine)var o=n.length,a=function(t,i,a){var l=t.search(n[0]);if(l!=-1){for(var c=1;c<o;c++)if(t=e.getLine(i+c),t.search(n[c])==-1)return;var u=t.match(n[o-1])[0].length,d=new s(i,l,i+o-1,u);return 1==n.offset?(d.start.row--,d.start.column=Number.MAX_VALUE):a&&(d.start.column+=a),!!r(d)||void 0}};else if(t.backwards)var a=function(e,t,s){for(var o=i.getMatchOffsets(e,n),a=o.length-1;a>=0;a--)if(r(o[a],t,s))return!0};else var a=function(e,t,s){for(var o=i.getMatchOffsets(e,n),a=0;a<o.length;a++)if(r(o[a],t,s))return!0};var l=this.$lineIterator(e,t);return{forEach:function(e){r=e,l.forEach(a)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n)),e.wholeWord&&(n="\\b"+n+"\\b");var r=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,r);try{var s=new RegExp(n,r)}catch(o){s=!1}return e.re=s},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(s){return!1}return""==n[0]?(i.shift(),i.offset=1):i.offset=0,i},this.$lineIterator=function(e,t){var n=1==t.backwards,i=0!=t.skipCurrent,r=t.range,s=t.start;s||(s=r?r[n?"end":"start"]:e.selection.getRange()),s.start&&(s=s[i!=n?"end":"start"]);var o=r?r.start.row:0,a=r?r.end.row:e.getLength()-1,l=n?function(n){var i=s.row,r=e.getLine(i).substring(0,s.column);if(!n(r,i)){for(i--;i>=o;i--)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=a,o=s.row;i>=o;i--)if(n(e.getLine(i),i))return}}:function(n){var i=s.row,r=e.getLine(i).substr(s.column);if(!n(r,i,s.column)){for(i+=1;i<=a;i++)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=o,a=s.row;i<=a;i++)if(n(e.getLine(i),i))return}};return{forEach:l}}}).call(o.prototype),t.Search=o}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function i(e,t){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function r(e,t){i.call(this,e,t),this.$singleCommand=!1}var s=e("../lib/keys"),o=e("../lib/useragent"),a=s.KEY_MODS;r.prototype=i.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||0}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var s=i[r];if(s==e)delete i[r];else if(Array.isArray(s)){var o=s.indexOf(e);o!=-1&&(s.splice(o,1),1==s.length&&(i[r]=s[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(void 0==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach(function(e){var i="";if(e.indexOf(" ")!=-1){var r=e.split(/\s+/);e=r.pop(),r.forEach(function(e){var t=this.parseKeys(e),n=a[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")},this),i+=" "}var s=this.parseKeys(e),o=a[s.hashId]+s.key;this._addCommandToBinding(i+o,t,n)},this)},this._addCommandToBinding=function(t,n,i){var r,s=this.commandKeyBinding;if(n)if(!s[t]||this.$singleCommand)s[t]=n;else{Array.isArray(s[t])?(r=s[t].indexOf(n))!=-1&&s[t].splice(r,1):s[t]=[s[t]],"number"!=typeof i&&(i=i||n.isDefault?-100:e(n));var o=s[t];for(r=0;r<o.length;r++){var a=o[r],l=e(a);if(l>i)break}o.splice(r,0,n)}else delete s[t]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),i=s[n];if(s.FUNCTION_KEYS[i])n=s.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var r=0,o=t.length;o--;){var a=s.KEY_MODS[t[o]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[o]+" in "+e),!1;r|=a}return{key:n,hashId:r}},this.findKeyCommand=function(e,t){var n=a[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,i){if(!(i<0)){var r=a[t]+n,s=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,s=this.commandKeyBinding[e.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(t==-1||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:s}):(e.$keyChain=e.$keyChain||r,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(i.prototype),t.HashHandler=i,t.MultiHashHandler=r}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../keyboard/hash_handler").MultiHashHandler,s=e("../lib/event_emitter").EventEmitter,o=function(e,t){r.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};i.inherits(o,r),function(){i.implement(this,s),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),r.returnValue!==!1},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(o.prototype),t.CommandManager=o}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,n){"use strict";function i(e,t){return{win:e,mac:t}}var r=e("../lib/lang"),s=e("../config"),o=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:i("Ctrl-,","Command-,"),exec:function(e){s.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:i("Alt-E","Ctrl-E"),exec:function(e){s.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:i("Alt-Shift-E","Ctrl-Shift-E"),exec:function(e){s.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:i("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:i(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:i("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:i("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:i("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:i("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:i("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:i("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:i("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:i("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:i("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:i("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:i("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:i("Ctrl-F","Command-F"),exec:function(e){s.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:i("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:i("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:i("Shift-Up","Shift-Up"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:i("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:i("Ctrl-Shift-End","Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:i("Ctrl-End","Command-End|Command-Down"),
exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:i("Shift-Down","Shift-Down"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:i("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:i("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:i("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:i("Alt-Shift-Left","Command-Shift-Left"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:i("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:i("Shift-Left","Shift-Left"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:i("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:i("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:i("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:i("Alt-Shift-Right","Command-Shift-Right"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:i("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:i("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:i("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:i(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:i("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:i(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:i("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:i("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:i("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:i("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:i("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:i("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:i("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:i(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:i("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:i("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:i("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:i("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:i("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:i("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:i("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:i("Ctrl-H","Command-Option-F"),exec:function(e){s.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:i("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:i("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:i("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:i("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:i("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:i("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:i("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:i("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:i("Shift-Delete",null),exec:function(e){return!!e.selection.isEmpty()&&void e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:i("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:i("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:i("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:i("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:i("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:i("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:i("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:i("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:i(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:i("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:i("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:i("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:i("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:i(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()),l=a.replace(/\n\s*/," ").length,c=e.session.doc.getLine(n.row),u=n.row+1;u<=i.row+1;u++){var d=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(u)));0!==d.length&&(d=" "+d),c+=d}i.row+1<e.session.doc.getLength()-1&&(c+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,i.row+2,0),c),l>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+l)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:i(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row!==t||i[s].end.column!==n)&&r.push(new o(i[s].end.row,i[s].end.column,t,n)),0===s?(0!==i[s].start.row||0!==i[s].start.column)&&r.push(new o(0,0,i[s].start.row,i[s].start.column)):r.push(new o(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var s=0;s<r.length;s++)e.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var i=e("./lib/oop"),r=e("./lib/dom"),s=e("./lib/lang"),o=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,d=e("./edit_session").EditSession,h=e("./search").Search,p=e("./range").Range,f=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,g=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new m(o.isMac?"mac":"win",g),this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new u(this),this.$mouseHandler=new l(this),new c(this),this.$blockScrolling=0,this.$search=(new h).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new d("")),v.resetOptions(this),v._signal("editor",this)};(function(){i.implement(this,f),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&e.returnValue===!1)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;t.name&&this.$blockScrolling>0&&this.$blockScrolling--;var n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&n.indexOf(e.command.name)!==-1;"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:n.indexOf(e.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=t.findMatchingBracket(e.getCursorPosition());if(n)var i=new p(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)var i=t.$mode.getMatching(e.session);i&&(t.$bracketHighlight=t.addMarker(i,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),i=new y(e.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(r.type.indexOf("tag-open")==-1||(r=i.stepForward())){var s=r.value,o=0,a=i.stepBackward();if("<"==a.value){do a=r,r=i.stepForward(),r&&r.value===s&&r.type.indexOf("tag-name")!==-1&&("<"===a.value?o++:"</"===a.value&&o--);while(r&&o>=0)}else{do r=a,a=i.stepBackward(),r&&r.value===s&&r.type.indexOf("tag-name")!==-1&&("<"===a.value?o++:"</"===a.value&&o--);while(a&&o<=0);i.stepForward()}if(!r)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var l=i.getCurrentTokenRow(),c=i.getCurrentTokenColumn(),u=new p(l,c,l,c+r.value.length);t.$tagHighlight&&0!==u.compareRange(t.$backMarkers[t.$tagHighlight].range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),u&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(u,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new p(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,i=t.end.column+1,r=e.getLine(t.start.row),s=r.length,o=r.substring(Math.max(n,0),Math.min(i,s));if(!(n>=0&&/^[\w\d]/.test(o)||i<=s&&/[\w\d]$/.test(o))&&(o=r.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(o))){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o});return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(t);else{var n=t.split(/\r\n|\r|\n/),i=this.selection.rangeList.ranges;if(n.length>i.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,t);for(var r=i.length;r--;){var s=i[r];s.isEmpty()||this.session.remove(s),this.session.insert(s.start,n[r])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var s=i.transformAction(n.getState(r.row),"insertion",this,n,e);s&&(e!==s.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=s.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var o=new p.fromPoints(r,r);o.end.column+=e.length,this.session.remove(o)}}else{var o=this.getSelectionRange();r=this.session.remove(o),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,u=n.getState(r.row),a=n.getLine(r.row),d=i.checkOutdent(u,a,e);n.insert(r,e);if(s&&s.selection&&(2==s.selection.length?this.selection.setSelectionRange(new p(r.row,c+s.selection[0],r.row,c+s.selection[1])):this.selection.setSelectionRange(new p(r.row+s.selection[0],s.selection[1],r.row+s.selection[2],s.selection[3]))),n.getDocument().isNewLine(e)){var h=i.getNextLineIndent(u,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},h)}d&&i.autoOutdent(u,n,r.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var s=n.getTextRange(t);if("\n"==s[s.length-1]){var o=n.getLine(t.end.row);/^\s+$/.test(o)&&(t.end.column=o.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);t<r.length?(n=r.charAt(t)+r.charAt(t-1),i=new p(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new p(e.row,t-2,e.row,t)),this.session.replace(i,n)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),
this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"\t")}if(t.start.column<t.end.column){var i=e.getTextRange(t);if(!/^\s+$/.test(i)){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"\t")}}var r=e.getLine(t.start.row),o=t.start,a=e.getTabSize(),l=e.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var c=a-l%a,u=s.stringRepeat(" ",c);else{for(var c=l%a;" "==r[t.start.column]&&c;)t.start.column--,c--;this.selection.setSelectionRange(t),u="\t"}return this.insert(u)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var i=new p(0,0,0,0),r=e.first;r<=e.last;r++){var s=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=s.length,t.replace(i,n[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t){var s={value:r[0],start:r.index,end:r.index+r[0].length};return s}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new p(t,n-1,t,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var s=this.getNumberAt(t,n);if(s){var o=s.value.indexOf(".")>=0?s.start+s.value.indexOf(".")+1:s.end,a=s.start+s.value.length-o,l=parseFloat(s.value);l*=Math.pow(10,a),e*=o!==s.end&&n<o?Math.pow(10,s.end-n-1):Math.pow(10,s.end-n),l+=e,l/=Math.pow(10,a);var c=l.toFixed(a),u=new p(t,s.start,t,s.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(s.start+1,n+c.length-s.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var s=i?n.start:n.end,o=t.insert(s,t.getTextRange(n),!1);n.start=s,n.end=o,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var s=r.toOrientedRange();n=this.$getSelectedRows(s),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&e==-1&&(i=0),s.moveBy(i,0),r.fromOrientedRange(s)}else{var o=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=o.length,u=0;u<c;u++){var d=u;o[u].moveBy(a,0),n=this.$getSelectedRows(o[u]);for(var h=n.first,p=n.last;++u<c;){l&&o[u].moveBy(l,0);var f=this.$getSelectedRows(o[u]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(u--,a=this.session.$moveLines(h,p,t?0:e),t&&e==-1&&(d=u+1);d<=u;)o[d].moveBy(a,0),d++;t||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);this.$blockScrolling++,t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):t===!1&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var s=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new y(this.session,n.row,n.column),r=i.getCurrentToken(),s=r||i.stepForward();if(s){var o,a,l=!1,c={},u=n.column-s.start,d={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(s.value.match(/[{}()\[\]]/g)){for(;u<s.value.length&&!l;u++)if(d[s.value[u]])switch(a=d[s.value[u]]+"."+s.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),s.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,c[a]===-1&&(o="bracket",l=!0)}}else s&&s.type.indexOf("tag-name")!==-1&&(isNaN(c[s.value])&&(c[s.value]=0),"<"===r.value?c[s.value]++:"</"===r.value&&c[s.value]--,c[s.value]===-1&&(o="tag",l=!0));l||(r=s,s=i.stepForward(),u=0)}while(s&&!l);if(o){var h,f;if("bracket"===o)h=this.session.getBracketRange(n),h||(h=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1),f=h.start,(t||f.row===n.row&&Math.abs(f.column-n.column)<2)&&(h=this.session.getBracketRange(f)));else if("tag"===o){if(!s||s.type.indexOf("tag-name")===-1)return;var m=s.value;if(h=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2),0===h.compare(n.row,n.column)){l=!1;do s=r,r=i.stepBackward(),r&&(r.type.indexOf("tag-close")!==-1&&h.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),s.value===m&&s.type.indexOf("tag-name")!==-1&&("<"===r.value?c[m]++:"</"===r.value&&c[m]--,0===c[m]&&(l=!0)));while(r&&!l)}s&&s.type.indexOf("tag-name")&&(f=h.start,f.row==n.row&&Math.abs(f.column-n.column)<2&&(f=h.end))}f=h&&h.cursor||f,f&&(e?h&&t?this.selection.setRange(h):h&&h.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;this.$blockScrolling+=1;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=n.length-1;s>=0;--s)this.$tryReplace(n[s],e)&&i++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&i.mixin(t,e);var r=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(r)||this.$search.$options.needle,e||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var s=this.$search.find(this.session);return t.preventScroll?s:s?(this.revealRange(s,n),s):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var s=this.on("changeSelection",function(){i=!0}),o=this.renderer.on("beforeRender",function(){i&&(t=n.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,s=e.$cursorLayer.$pixelPos,o=e.layerConfig,a=s.top-o.offset;i=s.top>=0&&a+t.top<0||!(s.top<o.height&&s.top+t.top+o.lineHeight>window.innerHeight)&&null,null!=i&&(r.style.top=a+"px",r.style.left=s.left+"px",r.style.height=o.lineHeight+"px",r.scrollIntoView(i)),i=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",s),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",o))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,r.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}).call(b.prototype),v.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),t.Editor=b}),ace.define("ace/undomanager",["require","exports","module"],function(e,t,n){"use strict";var i=function(){this.reset()};(function(){function e(e){return{action:e.action,start:e.start,end:e.end,lines:1==e.lines.length?null:e.lines,text:1==e.lines.length?e.lines[0]:null}}function t(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines||[e.text]}}function n(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++){for(var r=e[i],s={group:r.group,deltas:new Array(r.length)},o=0;o<r.deltas.length;o++){var a=r.deltas[o];s.deltas[o]=t(a)}n[i]=s}return n}this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(this.$deserializeDeltas(t),e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(t){return n(t,e)},this.$deserializeDeltas=function(e){return n(e,t)}}).call(i.prototype),t.UndoManager=i}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),s=e("../lib/lang"),o=e("../lib/event_emitter").EventEmitter,a=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){r.implement(this,o),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var o=n.text;o=o?s.escapeHTML(o):n.html||"",r.text.indexOf(o)===-1&&r.text.push(o);var a=n.type;"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"==a&&!r.className&&(r.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0!==n)if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){for(var t=this.session,n=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),s=t.getNextFoldLine(n),o=s?s.start.row:1/0,a=this.$showFoldWidgets&&t.foldWidgets,l=t.$breakpoints,c=t.$decorations,u=t.$firstLineNumber,d=0,h=t.gutterRenderer||this.$renderer,p=null,f=-1,m=n;;){if(m>o&&(m=s.end.row+1,s=t.getNextFoldLine(m,s),o=s?s.start.row:1/0),m>r){for(;this.$cells.length>f+1;)p=this.$cells.pop(),this.element.removeChild(p.element);break}p=this.$cells[++f],p||(p={element:null,textNode:null,foldWidget:null},p.element=i.createElement("div"),p.textNode=document.createTextNode(""),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[f]=p);var g="ace_gutter-cell ";l[m]&&(g+=l[m]),c[m]&&(g+=c[m]),this.$annotations[m]&&(g+=this.$annotations[m].className),p.element.className!=g&&(p.element.className=g);var v=t.getRowLength(m)*e.lineHeight+"px";if(v!=p.element.style.height&&(p.element.style.height=v),a){var y=a[m];null==y&&(y=a[m]=t.getFoldWidget(m))}if(y){p.foldWidget||(p.foldWidget=i.createElement("span"),p.element.appendChild(p.foldWidget));var g="ace_fold-widget ace_"+y;g+="start"==y&&m==o&&m<s.end.row?" ace_closed":" ace_open",p.foldWidget.className!=g&&(p.foldWidget.className=g);var v=e.lineHeight+"px";p.foldWidget.style.height!=v&&(p.foldWidget.style.height=v)}else p.foldWidget&&(p.element.removeChild(p.foldWidget),p.foldWidget=null);var b=d=h?h.getText(t,m):m+u;b!=p.textNode.data&&(p.textNode.data=b),m++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(d=t.getLength()+u);var w=h?h.getWidth(t,d,e):d.toString().length*e.characterWidth,_=this.$padding||this.$computePadding();w+=_.left+_.right,w!==this.gutterWidth&&!isNaN(w)&&(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(a.prototype),t.Gutter=a}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,n){"use strict";var i=e("../range").Range,r=e("../lib/dom"),s=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,n,i){return(e?1:0)|(t?2:0)|(n?4:0)|(i?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(e){this.config=e;var t=[];for(var n in this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var s=this.$getTop(r.start.row,e),o=this.$padding+r.start.column*e.characterWidth;i.renderer(t,r,o,s,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,n,r,s,o){for(var a=this.session,l=n.start.row,c=n.end.row,u=l,d=0,h=0,p=a.getScreenLastRowColumn(u),f=new i(u,n.start.column,u,h);u<=c;u++)f.start.row=f.end.row=u,f.start.column=u==l?n.start.column:a.getRowWrapIndent(u),f.end.column=p,d=h,h=p,p=u+1<c?a.getScreenLastRowColumn(u+1):u==c?0:n.end.column,this.drawSingleLineMarker(t,f,r+(u==l?" ace_start":"")+" ace_br"+e(u==l||u==l+1&&n.start.column,d<h,h>p,u==c),s,u==c?0:1,o)},this.drawMultiLineMarker=function(e,t,n,i,r){var s=this.$padding,o=i.lineHeight,a=this.$getTop(t.start.row,i),l=s+t.start.column*i.characterWidth;r=r||"",e.push("<div class='",n," ace_br1 ace_start' style='","height:",o,"px;","right:0;","top:",a,"px;","left:",l,"px;",r,"'></div>"),a=this.$getTop(t.end.row,i);var c=t.end.column*i.characterWidth;if(e.push("<div class='",n," ace_br12' style='","height:",o,"px;","width:",c,"px;","top:",a,"px;","left:",s,"px;",r,"'></div>"),o=(t.end.row-t.start.row-1)*i.lineHeight,!(o<=0)){a=this.$getTop(t.start.row+1,i);var u=(t.start.column?1:0)|(t.end.column?0:8);e.push("<div class='",n,u?" ace_br"+u:"","' style='","height:",o,"px;","right:0;","top:",a,"px;","left:",s,"px;",r,"'></div>")}},this.drawSingleLineMarker=function(e,t,n,i,r,s){var o=i.lineHeight,a=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),c=this.$padding+t.start.column*i.characterWidth;e.push("<div class='",n,"' style='","height:",o,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",s||"","'></div>")},this.drawFullLineMarker=function(e,t,n,i,r){var s=this.$getTop(t.start.row,i),o=i.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,i)-s),e.push("<div class='",n,"' style='","height:",o,"px;","top:",s,"px;","left:0;right:0;",r||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,i,r){var s=this.$getTop(t.start.row,i),o=i.lineHeight;e.push("<div class='",n,"' style='","height:",o,"px;","top:",s,"px;","left:0;right:0;",r||"","'></div>")}}).call(s.prototype),t.Marker=s}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/dom"),s=e("../lib/lang"),o=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),a=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){i.implement(this,o),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+s.stringRepeat(this.TAB_CHAR,n)+"</span>"):t.push(s.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide",r="",o="";if(this.showInvisibles){i+=" ace_invisible",r=" ace_invisible_space",o=" ace_invisible_tab";var a=s.stringRepeat(this.SPACE_CHAR,this.tabSize),l=s.stringRepeat(this.TAB_CHAR,this.tabSize)}else var a=s.stringRepeat(" ",this.tabSize),l=a;this.$tabStrings[" "]="<span class='"+i+r+"'>"+a+"</span>",this.$tabStrings["\t"]="<span class='"+i+o+"'>"+l+"</span>"}},this.updateLines=function(e,t,n){(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)&&this.scrollLines(e),this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),s=this.element.childNodes,o=0,a=e.firstRow;a<i;a++){var l=this.session.getFoldLine(a);if(l){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}o++}for(var a=i,l=this.session.getNextFoldLine(a),c=l?l.start.row:1/0;a>c&&(a=l.end.row+1,l=this.session.getNextFoldLine(a,l),c=l?l.start.row:1/0),!(a>r);){var u=s[o++];if(u){var d=[];this.$renderLine(d,a,!this.$useLineGroups(),a==c&&l),u.style.height=e.lineHeight*this.session.getRowLength(a)+"px",u.innerHTML=d.join("")}a++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var r=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}if(e.lastRow>t.lastRow){var r=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(r)}},this.$renderLinesFragment=function(e,t,n){for(var i=this.element.ownerDocument.createDocumentFragment(),s=t,o=this.session.getNextFoldLine(s),a=o?o.start.row:1/0;s>a&&(s=o.end.row+1,o=this.session.getNextFoldLine(s,o),a=o?o.start.row:1/0),!(s>n);){var l=r.createElement("div"),c=[];if(this.$renderLine(c,s,!1,s==a&&o),l.innerHTML=c.join(""),this.$useLineGroups())l.className="ace_line_group",i.appendChild(l),l.style.height=e.lineHeight*this.session.getRowLength(s)+"px";else for(;l.firstChild;)i.appendChild(l.firstChild);s++}return i},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,i=e.lastRow,r=n,s=this.session.getNextFoldLine(r),o=s?s.start.row:1/0;r>o&&(r=s.end.row+1,s=this.session.getNextFoldLine(r,s),o=s?s.start.row:1/0),!(r>i);)this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(r),"px'>"),this.$renderLine(t,r,!1,r==o&&s),this.$useLineGroups()&&t.push("</div>"),r++;this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,i){var r=this,o=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,a=function(e,n,i,o,a){if(n)return r.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+s.stringRepeat(r.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if(">"==e)return"&#62;";if("\t"==e){var l=r.session.getScreenTabSize(t+o);return t+=l-1,r.$tabStrings[l]}if(""==e){var c=r.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",u=r.showInvisibles?r.SPACE_CHAR:"";return t+=1,"<span class='"+c+"' style='width:"+2*r.config.characterWidth+"px'>"+u+"</span>"}return i?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+r.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*r.config.characterWidth+"px'>"+e+"</span>")},l=i.replace(o,a);if(this.$textToken[n.type])e.push(l);else{var c="ace_"+n.type.replace(/\./g," ace_"),u="";"fold"==n.type&&(u=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",c,"'",u,">",l,"</span>")}return t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);return i<=0||i>=n?t:" "==t[0]?(i-=i%this.tabSize,e.push(s.stringRepeat(this.$tabStrings[" "],i/this.tabSize)),t.substr(i)):"\t"==t[0]?(e.push(s.stringRepeat(this.$tabStrings["\t"],i)),t.substr(i)):t},this.$renderWrappedLine=function(e,t,n,i){for(var r=0,o=0,a=n[0],l=0,c=0;c<t.length;c++){var u=t[c],d=u.value;if(0==c&&this.displayIndentGuides){if(r=d.length,d=this.renderIndentGuide(e,d,a),!d)continue;r-=d.length}if(r+d.length<a)l=this.$renderToken(e,l,u,d),r+=d.length;else{for(;r+d.length>=a;)l=this.$renderToken(e,l,u,d.substring(0,a-r)),d=d.substring(a-r),r=a,i||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),e.push(s.stringRepeat("",n.indent)),
o++,l=0,a=n[o]||Number.MAX_VALUE;0!=d.length&&(r+=d.length,l=this.$renderToken(e,l,u,d))}}},this.$renderSimpleLine=function(e,t){var n=0,i=t[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(e,r)),r&&(n=this.$renderToken(e,n,i,r));for(var s=1;s<t.length;s++)i=t[s],r=i.value,n=this.$renderToken(e,n,i,r)},this.$renderLine=function(e,t,n,i){if(!i&&0!=i&&(i=this.session.getFoldLine(t)),i)var r=this.$getFoldLineTokens(t,i);else var r=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),r.length){var s=this.session.getRowSplitData(t);s&&s.length?this.$renderWrappedLine(e,r,s,n):this.$renderSimpleLine(e,r)}this.showInvisibles&&(i&&(t=i.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function n(e,t,n){for(var i=0,s=0;s+e[i].value.length<t;)if(s+=e[i].value.length,i++,i==e.length)return;if(s!=t){var o=e[i].value.substring(t-s);o.length>n-t&&(o=o.substring(0,n-t)),r.push({type:e[i].type,value:o}),s=t+o.length,i+=1}for(;s<n&&i<e.length;){var o=e[i].value;o.length+s>n?r.push({type:e[i].type,value:o.substring(0,n-s)}):r.push(e[i]),s+=o.length,i+=1}}var i=this.session,r=[],s=i.getTokens(e);return t.walk(function(e,t,o,a,l){null!=e?r.push({type:"fold",value:e}):(l&&(s=i.getTokens(t)),s.length&&n(s,a,o))},t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),t.Text=a}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var i,r=e("../lib/dom"),s=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===i&&(i=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(i?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&!i&&(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),i=this.$padding+n.column*this.config.characterWidth,r=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:r}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);for(var n=0,r=t.length;n<r;n++){var s=this.getPixelPosition(t[n].cursor,!0);if(!((s.top>e.height+e.offset||s.top<0)&&n>1)){var o=(this.cursors[i++]||this.addCursor()).style;this.drawCursor?this.drawCursor(o,s,e,t[n],this.session):(o.left=s.left+"px",o.top=s.top+"px",o.width=e.characterWidth+"px",o.height=e.lineHeight+"px")}}for(;this.cursors.length>i;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(s.prototype),t.Cursor=s}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),s=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter,a=function(e){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)};(function(){i.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,t.$scrollbarWidth=this.width=r.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};i.inherits(l,a),function(){this.classSuffix="-v",this.onScroll=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=function(e){this.inner.style.height=e+"px"},this.setScrollHeight=function(e){this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=e)}}.call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(c,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,n){"use strict";var i=e("./lib/event"),r=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;i.nextFrame(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(r.prototype),t.RenderLoop=r}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){var i=e("../lib/oop"),r=e("../lib/dom"),s=e("../lib/lang"),o=e("../lib/useragent"),a=e("../lib/event_emitter").EventEmitter,l=0,c=t.FontMetrics=function(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=s.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){i.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=r.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;l=t>0&&t<1?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",o.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===l){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var n={height:e.height,width:e.width/l}}else var n={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===n.width||0===n.height?null:n},this.$measureCharWidth=function(e){this.$main.innerHTML=s.stringRepeat(e,l);var t=this.$main.getBoundingClientRect();return t.width/l},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(c.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),s=e("./config"),o=e("./lib/useragent"),a=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,c=e("./layer/text").Text,u=e("./layer/cursor").Cursor,d=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,p=e("./renderloop").RenderLoop,f=e("./layer/font_metrics").FontMetrics,m=e("./lib/event_emitter").EventEmitter,g='.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}';r.importCssString(g,"ace_editor.css");var v=function(e,t){var n=this;this.container=e||r.createElement("div"),this.$keepTextAreaAtCursor=!o.isOldIE,r.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var i=this.$textLayer=new c(this.content);this.canvas=i.element,this.$markerFront=new l(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),s.resetOptions(this),s._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var s=this.$updateCachedSize(e,t,n,i);return this.$size.scrollerHeight&&(n||i)?(e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,void 0):this.resizing=0}},this.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var r=0,s=this.$size,o={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};return i&&(e||s.height!=i)&&(s.height=i,r|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),n&&(e||s.width!=n)&&(r|=this.CHANGE_SIZE,s.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",s.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(r|=this.CHANGE_FULL)),s.$dirty=!n||!i,r&&this._signal("resize",o),r},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){
if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var i=this.textarea.style,r=this.lineHeight;if(t<0||t>e.height-r)return void(i.top=i.left="0");var s=this.characterWidth;if(this.$composition){var o=this.textarea.value.replace(/^\x01+/,"");s*=this.session.$getStringScreenWidth(o)[0]+2,r+=2}n-=this.scrollLeft,n>this.$size.scrollerWidth-s&&(n=this.$size.scrollerWidth-s),n+=this.gutterWidth,i.height=r+"px",i.width=s+"px",i.left=Math.min(n,this.$size.scrollerWidth-s)+"px",i.top=Math.min(t,this.$size.height-r)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow,n=this.session.documentToScreenRow(t,0)*e.lineHeight;return n-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t)return void(this.$changes|=e);if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}return e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this._signal("afterRender"),void 0):e&this.CHANGE_SCROLL?(e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),this._signal("afterRender"),void 0):(e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender"),void 0)},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.max((this.$minLines||1)*this.lineHeight,Math.min(t,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight());var i=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength(),r=i*this.lineHeight,s=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-s-2*this.$padding<0),a=this.$horizScroll!==o;a&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var l=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var c=this.scrollTop%this.lineHeight,u=t.scrollerHeight+this.lineHeight,d=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=d;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,r-t.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,s+2*this.$padding-t.scrollerWidth+h.right)));var p=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-r+d<0||this.scrollTop>h.top),f=l!==p;f&&(this.$vScroll=p,this.scrollBarV.setVisible(p));var m,g,v=Math.ceil(u/this.lineHeight)-1,y=Math.max(0,Math.round((this.scrollTop-c)/this.lineHeight)),b=y+v,w=this.lineHeight;y=e.screenToDocumentRow(y,0);var _=e.getFoldLine(y);_&&(y=_.start.row),m=e.documentToScreenRow(y,0),g=e.getRowLength(y)*w,b=Math.min(e.screenToDocumentRow(b,0),e.getLength()-1),u=t.scrollerHeight+e.getRowLength(b)*w+g,c=this.scrollTop-m*w;var C=0;return this.layerConfig.width!=s&&(C=this.CHANGE_H_SCROLL),(a||f)&&(C=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),f&&(s=this.$getLongestLine())),this.layerConfig={width:s,padding:this.$padding,firstRow:y,firstRowScreen:m,lastRow:b,lineHeight:w,characterWidth:this.characterWidth,minHeight:u,maxHeight:r,offset:c,gutterOffset:Math.max(0,Math.ceil((c+t.height-t.scrollerHeight)/w)),height:this.$size.scrollerHeight},C},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,s=i.top,o=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+o>s?(t&&l+o>s+this.lineHeight&&(s-=t*this.$size.scrollerHeight),0===s&&(s=-this.scrollMargin.top),this.session.setScrollTop(s)):l+this.$size.scrollerHeight-a<s+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<s-this.lineHeight&&(s+=t*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;c>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(t||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,i=this.STEPS,r=[],s=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<i;++n)r.push(s(n/this.STEPS,e,t-e));return r},this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}),s=r.top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),n!==!1&&this.animateScrolling(o,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0],e==n))return}var s=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:s},clearInterval(this.$timer),i.session.setScrollTop(s.shift()),i.session.$scrollTop=n,this.$timer=setInterval(function(){s.length?(i.session.setScrollTop(s.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,r=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),s=Math.round(i);return{row:r,column:s,side:i-s>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),r=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(r,Math.max(i,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+Math.round(i.column*this.characterWidth),s=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+s-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(r.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){function n(n){if(i.$themeId!=e)return t&&t();if(n.cssClass){r.importCssString(n.cssText,n.cssClass,i.container.ownerDocument),i.theme&&r.removeCssClass(i.container,i.theme.cssClass);var s="padding"in n?n.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&s!=i.$padding&&i.setPadding(s),i.$theme=n.cssClass,i.theme=n,r.addCssClass(i.container,n.cssClass),r.setCssClass(i.container,"ace_dark",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:n}),t&&t()}}var i=this;if(this.$themeId=e,i._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var o=e||this.$options.theme.initialValue;s.loadModule(["theme",o],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){r.setCssClass(this.container,e,t!==!1)},this.unsetStyle=function(e){r.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(v.prototype),s.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=e?"":"none",void(this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight())):(this.$gutterLineHighlight=r.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",this.$gutter.appendChild(this.$gutterLineHighlight),void 0)},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=v}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/net"),s=e("../lib/event_emitter").EventEmitter,o=e("../config"),a=function(t,n,i,r){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),o.get("packaged")||!e.toUrl)r=r||o.moduleUrl(n,"worker");else{var s=this.$normalizePath;r=r||s(e.toUrl("ace/worker/worker.js",null,"_"));var a={};t.forEach(function(t){a[t]=s(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{this.$worker=new Worker(r)}catch(l){if(!(l instanceof window.DOMException))throw l;var c=this.$workerBlob(r),u=window.URL||window.webkitURL,d=u.createObjectURL(c);this.$worker=new Worker(d),u.revokeObjectURL(d)}this.$worker.postMessage({init:!0,tlns:a,module:n,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,s),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return r.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+r.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(n){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,s=new i;return s.append(t),s.getBlob("application/javascript")}}}).call(a.prototype);var l=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var i=null,r=!1,a=Object.create(s),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){l.messageBuffer.push(e),i&&(r?setTimeout(c):c())},this.setEmitSync=function(e){r=e};var c=function(){var e=l.messageBuffer.shift();e.command?i[e.command].apply(i,e.args):e.event&&a._signal(e.event,e.data)};a.postMessage=function(e){l.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},o.loadModule(["worker",t],function(e){for(i=new e[n](a);l.messageBuffer.length;)c()})};l.prototype=a.prototype,t.UIWorkerClient=l,t.WorkerClient=a}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,n){"use strict";var i=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,s=e("./lib/oop"),o=function(e,t,n,i,r,s){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){s.implement(this,r),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,r=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;if(this.updateAnchors(e),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===e.action)for(var o=this.others.length-1;o>=0;o--){var a=this.others[o],l={row:a.row,column:a.column+s};this.doc.insertMergedLines(l,e.lines)}else if("remove"===e.action)for(var o=this.others.length-1;o>=0;o--){var a=this.others[o],l={row:a.row,column:a.column+s};this.doc.remove(new i(l.row,l.column,l.row,l.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,r){t.removeMarker(n.markerId),n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),t.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){function i(e,t){return e.row==t.row&&e.column==t.column}function r(e){var t=e.domEvent,n=t.altKey,r=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&o.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)return void e.editor.textInput.onContextMenu(e.domEvent);if(!a&&!n&&!l)return void(0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode());if(0===c){var u,d=e.editor,h=d.selection,p=d.inMultiSelectMode,f=e.getDocumentPosition(),m=h.getCursor(),g=e.inSelection()||h.isEmpty()&&i(f,m),v=e.x,y=e.y,b=function(e){v=e.clientX,y=e.clientY},w=d.session,_=d.renderer.pixelToScreenCoordinates(v,y),C=_;if(d.$mouseHandler.$enableJumpToDef)a&&n||l&&n?u=r?"block":"add":n&&d.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!p&&r)return}else n&&d.$blockSelectEnabled&&(u="block");if(u&&o.isMac&&t.ctrlKey&&d.$mouseHandler.cancelContextMenu(),"add"==u){if(!p&&g)return;if(!p){var k=h.toOrientedRange();d.addSelectionMarker(k)}var A=h.rangeList.rangeAtPoint(f);d.$blockScrolling++,d.inVirtualSelectionMode=!0,r&&(A=null,k=h.ranges[0]||k,d.removeSelectionMarker(k)),d.once("mouseup",function(){var e=h.toOrientedRange();A&&e.isEmpty()&&i(A.cursor,e.cursor)?h.substractPoint(e.cursor):(r?h.substractPoint(k.cursor):k&&(d.removeSelectionMarker(k),h.addRange(k)),h.addRange(e)),d.$blockScrolling--,d.inVirtualSelectionMode=!1})}else if("block"==u){e.stop(),d.inVirtualSelectionMode=!0;var E,S=[],x=function(){var e=d.renderer.pixelToScreenCoordinates(v,y),t=w.screenToDocumentPosition(e.row,e.column);i(C,e)&&i(t,h.lead)||(C=e,d.$blockScrolling++,d.selection.moveToPosition(t),d.renderer.scrollCursorIntoView(),d.removeSelectionMarkers(S),S=h.rectangularRangeBlock(C,_),d.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=d.$mouseHandler.$clickSelection.clone()),S.forEach(d.addSelectionMarker,d),d.updateSelectionMarkers(),d.$blockScrolling--)};d.$blockScrolling++,p&&!l?h.toSingleRange():!p&&l&&(E=h.toOrientedRange(),d.addSelectionMarker(E)),r?_=w.documentToScreenPosition(h.lead):h.moveToPosition(f),d.$blockScrolling--,C={row:-1,column:-1};var T=function(e){clearInterval($),d.removeSelectionMarkers(S),S.length||(S=[h.toOrientedRange()]),d.$blockScrolling++,E&&(d.removeSelectionMarker(E),h.toSingleRange(E));for(var t=0;t<S.length;t++)h.addRange(S[t]);d.inVirtualSelectionMode=!1,d.$mouseHandler.$clickSelection=null,d.$blockScrolling--},F=x;s.capture(d.container,b,T);var $=setInterval(function(){F()},20);return e.preventDefault()}}}var s=e("../lib/event"),o=e("../lib/useragent");t.onMouseDown=r}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,n){function i(e,t,n){return m.$options.wrap=!0,m.$options.needle=t,m.$options.backwards=n==-1,m.find(e)}function r(e,t){return e.row==t.row&&e.column==t.column}function s(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",u),e.commands.addCommands(p.defaultCommands),o(e))}function o(e){function t(t){i&&(e.renderer.setMouseCursor(""),i=!1)}var n=e.textInput.getElement(),i=!1;d.addListener(n,"keydown",function(n){var r=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);e.$blockSelectEnabled&&r?i||(e.renderer.setMouseCursor("crosshair"),i=!0):i&&t()}),d.addListener(n,"keyup",t),d.addListener(n,"blur",t)}var a=e("./range_list").RangeList,l=e("./range").Range,c=e("./selection").Selection,u=e("./mouse/multi_select_handler").onMouseDown,d=e("./lib/event"),h=e("./lib/lang"),p=e("./commands/multi_select_commands");
t.commands=p.defaultCommands.concat(p.multiSelectCommands);var f=e("./search").Search,m=new f,g=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(g.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new a,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),i=this.isBackwards(),r=n.start.row,s=n.end.row;if(r==s){if(i)var o=n.end,a=n.start;else var o=n.start,a=n.end;return this.addRange(l.fromPoints(a,a)),void this.addRange(l.fromPoints(o,o))}var c=[],u=this.getLineRange(r,!0);u.start.column=n.start.column,c.push(u);for(var d=r+1;d<s;d++)c.push(this.getLineRange(d,!0));u=this.getLineRange(s,!0),u.end.column=n.end.column,c.push(u),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead),r=this.session.documentToScreenPosition(this.selectionAnchor),s=this.rectangularRangeBlock(i,r);s.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var i=[],s=e.column<t.column;if(s)var o=e.column,a=t.column;else var o=t.column,a=e.column;var c=e.row<t.row;if(c)var u=e.row,d=t.row;else var u=t.row,d=e.row;o<0&&(o=0),u<0&&(u=0),u==d&&(n=!0);for(var h=u;h<=d;h++){var p=l.fromPoints(this.session.screenToDocumentPosition(h,o),this.session.screenToDocumentPosition(h,a));if(p.isEmpty()){if(f&&r(p.end,f))break;var f=p.end}p.cursor=s?p.start:p.end,i.push(p)}if(c&&i.reverse(),!n){for(var m=i.length-1;i[m].isEmpty()&&m>0;)m--;if(m>0)for(var g=0;i[g].isEmpty();)g++;for(var v=m;v>=g;v--)i[v].isEmpty()&&i.splice(v,1)}return i}}.call(c.prototype);var v=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);t!=-1&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);r!=-1&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(p.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(p.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,s=1==n||n&&n.$byLines,o=this.session,a=this.selection,l=a.rangeList,u=(r?a:l).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var d=a._eventRegistry;a._eventRegistry={};var h=new c(o);this.inVirtualSelectionMode=!0;for(var p=u.length;p--;){if(s)for(;p>0&&u[p].start.row==u[p-1].end.row;)p--;h.fromOrientedRange(u[p]),h.index=p,this.selection=o.selection=h;var f=e.exec?e.exec(this,t||{}):e(this,t||{});!i&&void 0!==f&&(i=f),h.toOrientedRange(u[p])}h.detach(),this.selection=o.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=d,a.mergeOverlappingRanges();var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();e=n.join(r),e.length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;(i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,n){if(t=t||{},t.needle=e||t.needle,void 0==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var s=this.multiSelect;n||s.toSingleRange(r[0]);for(var o=r.length;o--;)s.addRange(r[o],!0);return i&&s.rangeList.rangeAtPoint(i.start)&&s.addRange(i,!0),this.$blockScrolling-=1,r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,r=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var s=this.session.screenToDocumentPosition(r.row+e,r.column);if(n.isEmpty())var o=s;else var a=this.session.documentToScreenPosition(i?n.end:n.start),o=this.session.screenToDocumentPosition(a.row+e,a.column);if(i){var c=l.fromPoints(s,o);c.cursor=c.start}else{var c=l.fromPoints(o,s);c.cursor=c.end}if(c.desiredColumn=r.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(c),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;){var s=i[r];if(s.isEmpty()){var o=t.getWordRange(s.start.row,s.start.column);s.start.row=o.start.row,s.start.column=o.start.column,s.end.row=o.end.row,s.end.column=o.end.column}}n.mergeOverlappingRanges();for(var a=[],r=i.length;r--;){var s=i[r];a.unshift(t.getTextRange(s))}e<0?a.unshift(a.pop()):a.push(a.shift());for(var r=i.length;r--;){var s=i[r],o=s.clone();t.replace(s,a[r]),s.start.row=o.start.row,s.start.column=o.start.column}},this.selectMore=function(e,t,n){var r=this.session,s=r.multiSelect,o=s.toOrientedRange();if(!o.isEmpty()||(o=r.getWordRange(o.start.row,o.start.column),o.cursor=e==-1?o.start:o.end,this.multiSelect.addRange(o),!n)){var a=r.getTextRange(o),l=i(r,a,e);l&&(l.cursor=e==-1?l.start:l.end,this.$blockScrolling+=1,this.session.unfold(l),this.multiSelect.addRange(l),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(o.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,r=n.filter(function(e){return e.cursor.row==i||void(i=e.cursor.row)});if(n.length&&r.length!=n.length-1){r.forEach(function(e){t.substractPoint(e.cursor)});var s=0,o=1/0,a=n.map(function(t){var n=t.cursor,i=e.getLine(n.row),r=i.substr(n.column).search(/\S/g);return r==-1&&(r=0),n.column>s&&(s=n.column),r<o&&(o=r),r});n.forEach(function(t,n){var i=t.cursor,r=s-i.column,c=a[n]-o;r>c?e.insert(i,h.stringRepeat(" ",r-c)):e.remove(new l(i.row,i.column,i.row,i.column-r+c)),t.start.column=t.end.column=s,t.start.row=t.end.row=i.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,d=c.end.row,p=u==d;if(p){var f,m=this.session.getLength();do f=this.session.getLine(d);while(/[=:]/.test(f)&&++d<m);do f=this.session.getLine(u);while(/[=:]/.test(f)&&--u>0);u<0&&(u=0),d>=m&&(d=m-1)}var g=this.session.removeFullLines(u,d);g=this.$reAlignText(g,p),this.session.insert({row:u,column:0},g.join("\n")+"\n"),p||(c.start.column=0,c.end.column=g[g.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){function n(e){return h.stringRepeat(" ",e)}function i(e){return e[2]?n(o)+e[2]+n(a-e[2].length+l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function r(e){return e[2]?n(o+a-e[2].length)+e[2]+n(l," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function s(e){return e[2]?n(o)+e[2]+n(l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var o,a,l,c=!0,u=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==o?(o=t[1].length,a=t[2].length,l=t[3].length,t):(o+a+l!=t[1].length+t[2].length+t[3].length&&(u=!1),o!=t[1].length&&(c=!1),o>t[1].length&&(o=t[1].length),a<t[2].length&&(a=t[2].length),l>t[3].length&&(l=t[3].length),t):[e]}).map(t?i:c?u?r:i:s)}}).call(v.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=s,e("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(e){s(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",u)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",u))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,n){"use strict";var i=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var r=/\S/,s=e.getLine(t),o=s.search(r);if(o!=-1){for(var a=n||s.length,l=e.getLength(),c=t,u=t;++t<l;){var d=e.getLine(t).search(r);if(d!=-1){if(d<=o)break;u=t}}if(u>c){var h=e.getLine(u).length;return new i(c,a,u,h)}}},this.openingBracketBlock=function(e,t,n,r,s){var o={row:n,column:r+1},a=e.$findClosingBracket(t,o,s);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>o.row&&(a.row--,a.column=e.getLine(a.row).length),i.fromPoints(o,a)}},this.closingBracketBlock=function(e,t,n,r,s){var o={row:n,column:r},a=e.$findOpeningBracket(t,o);if(a)return a.column++,o.column--,i.fromPoints(a,o)}}).call(r.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var i=e("../lib/dom");i.importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t,n){"use strict";function i(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var r=(e("./lib/oop"),e("./lib/dom"));e("./range").Range;(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets?this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,r=i.start.row,s=i.end.row,o="add"==e.action,a=r+1;a<s;a++)n[a]&&(n[a].hidden=o);n[s]&&(o?n[r]?n[s].hidden=o:n[r]=n[s]:(n[r]==n[s]&&(n[r]=void 0),n[s].hidden=o))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,i=e.end.row-n;if(0!==i)if("remove"==e.action){var r=t.splice(n+1,i);r.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var s=new Array(i);s.unshift(n,0),t.splice.apply(t,s),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget}),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e.session=this.session;var n=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,n.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),e.pixelHeight||(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/n.layerConfig.lineHeight);var i=this.session.getFoldAt(e.row,0);if(e.$fold=i,i){var s=this.session.lineWidgets;e.row!=i.end.row||s[i.start.row]?e.hidden=!0:s[i.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(t){}if(this.session.lineWidgets){var n=this.session.lineWidgets[e.row];if(n==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;n;){if(n.$oldWidget==e){n.$oldWidget=e.$oldWidget;break}n=n.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=1/0,s=0;s<n.length;s++){var o=n[s];if(o&&o.el&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,t.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/i.characterWidth));var a=o.h/i.lineHeight;o.coverLine&&(a-=this.session.getRowLineCount(o.row),a<0&&(a=0)),o.rowCount!=a&&(o.rowCount=a,o.row<r&&(r=o.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),s=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var o=r;o<=s;o++){var a=i[o];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(i.prototype),t.LineWidgets=i}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,n){"use strict";function i(e,t,n){for(var i=0,r=e.length-1;i<=r;){var s=i+r>>1,o=n(t,e[s]);if(o>0)i=s+1;else{if(!(o<0))return s;r=s-1}}return-(i+1)}function r(e,t,n){var r=e.getAnnotations().sort(a.comparePoints);if(r.length){var s=i(r,{row:t,column:-1},a.comparePoints);s<0&&(s=-s-1),s>=r.length?s=n>0?0:r.length-1:0===s&&n<0&&(s=r.length-1);var o=r[s];if(o&&n){if(o.row===t){do o=r[s+=n];while(o&&o.row===t);if(!o)return r.slice()}var l=[];t=o.row;do l[n<0?"unshift":"push"](o),o=r[s+=n];while(o&&o.row==t);return l.length&&l}}}var s=e("../line_widgets").LineWidgets,o=e("../lib/dom"),a=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new s(n),n.widgetManager.attach(e));var i=e.getCursorPosition(),a=i.row,l=n.widgetManager.getWidgetsAtRow(a).filter(function(e){return"errorMarker"==e.type})[0];l?l.destroy():a-=t;var c,u=r(n,a,t);if(u){var d=u[0];i.column=(d.pos&&"number"!=typeof d.column?d.pos.sc:d.column)||0,i.row=d.row,c=e.renderer.$gutterLayer.$annotations[i.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(i.row),e.selection.moveToPosition(i);var h={row:i.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div"),type:"errorMarker"},p=h.el.appendChild(o.createElement("div")),f=h.el.appendChild(o.createElement("div"));f.className="error_widget_arrow "+c.className;var m=e.renderer.$cursorLayer.getPixelPosition(i).left;f.style.left=m+e.renderer.gutterWidth-5+"px",h.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(o.createElement("div"));var g=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return h.destroy(),{command:"null"}};h.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(g),n.widgetManager.removeLineWidget(h),e.off("changeSelection",h.destroy),e.off("changeSession",h.destroy),e.off("mouseup",h.destroy),e.off("change",h.destroy))},e.keyBinding.addKeyboardHandler(g),e.on("changeSelection",h.destroy),e.on("changeSession",h.destroy),e.on("mouseup",h.destroy),e.on("change",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})},o.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var i=e("./lib/dom"),r=e("./lib/event"),s=e("./editor").Editor,o=e("./edit_session").EditSession,a=e("./undomanager").UndoManager,l=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.edit=function(e){if("string"==typeof e){var n=e;if(e=document.getElementById(n),!e)throw new Error("ace.edit can't find div #"+n)}if(e&&e.env&&e.env.editor instanceof s)return e.env.editor;var o="";if(e&&/input|textarea/i.test(e.tagName)){var a=e;o=a.value,e=i.createElement("pre"),a.parentNode.replaceChild(e,a)}else e&&(o=i.getInnerText(e),e.innerHTML="");var c=t.createEditSession(o),u=new s(new l(e));u.setSession(c);var d={document:c,editor:u,onResize:u.resize.bind(u,null)};return a&&(d.textarea=a),r.addListener(window,"resize",d.onResize),u.on("destroy",function(){r.removeListener(window,"resize",d.onResize),d.editor.container.env=null}),u.container.env=u.env=d,u},t.createEditSession=function(e,t){var n=new o(e,t);return n.setUndoManager(new a),n},t.EditSession=o,t.UndoManager=a,t.version="1.2.3"}),function(){ace.require(["ace/ace"],function(e){e&&e.config.init(!0),window.ace||(window.ace=e);for(var t in e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})}(),e.exports=window.ace},537:function(e,t){var n="/ng/directives/common/ud-wysiwyg.ng-template.html",i='<textarea data-autoresize=true data-theme={{redactorTheme}} ng-focus="requestEditorInit = true"></textarea>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},538:function(e,t,n){(function(e){!function(e){e.fn.validateCPF=function(e){var t=this,n=t.val().replace(".","").replace(".","").replace("-","");if(11!=n.length)return!1;var i=/1{11}|2{11}|3{11}|4{11}|5{11}|6{11}|7{11}|8{11}|9{11}|0{11}/;if(i.test(n))return!1;var r=0,s=0,o=0,a=0,l=0,c="",u="",d=n.length;r=d-1;for(var h=0;h<=d-3;h++)s=n.substring(h,h+1),o+=s*r,r-=1,c+=s;a=11-o%11,10!=a&&11!=a||(a=0),u=n.substring(0,d-2)+a,r=11,o=0;for(var p=0;p<=d-2;p++)o+=u.substring(p,p+1)*r,r-=1;return l=11-o%11,10==l&&(l=0),11==l&&(l=0),a+""+l==n.substring(d,d-2)}}(e)}).call(t,n(3))},540:function(e,t,n){var i,r;i=[n(2),n(576),n(577)],r=function(e,t,n){return e.module("apps.common.forms",[t["default"].name,n.name])}.apply(t,i),!(void 0!==r&&(e.exports=r))},543:function(e,t,n){var i,r;i=[n(2),n(14),n(523),n(514)],r=function(e,t,n,i){function r(n,i,r,s){function o(){return this.questions.params.search?this.loadQuestionsHelper(i.get,this.questions.params):this.loadQuestionsHelper(n.get,this.questions.params)}function a(e){this.questions.activeQuestion=e,this.questions.isDetailsOpen=!0}var l={courseId:r.id,ordering:"-created,-last_activity",page:1,page_size:15,"fields[course_discussion]":"@default,user,course,lecture,quiz,is_following,is_instructor,num_replies,created,num_follows","fields[user]":"@min,image_50x50,url","fields[course]":"id,published_title","fields[lecture]":"@min,title,object_index","fields[quiz]":"@min,title,object_index"},c=t.brand.is_discussions_enabled&&r.features&&r.features.discussions_view;this.init=function(){return this.questions={featureEnabled:c,initialized:!1,loading:!1,isDetailsOpen:!1,showNew:!1,data:[],listData:[],count:0,searchCount:0,activeQuestion:null,params:e.copy(l),loadQuestions:o.bind(this),onSelect:a.bind(this)},this.questions},this.loadQuestionsHelper=function(t,n){return 1===this.questions.params.page&&(this.questions.data=[]),this.questions.loading=!0,t(n).$promise.then(function(t){this.questions.data=1===this.questions.params.page?t.results:this.questions.data.concat(t.results),this.questions.hasMore=!!t.next,this.questions.params.search?this.questions.searchCount=t.count:(this.questions.count=t.count,this.questions.listData=e.copy(this.questions.data))}.bind(this))["finally"](function(){this.questions.initialized=!0,this.questions.loading=!1}.bind(this))},this.unfollowQuestion=function(e,t){return s["delete"]({courseId:e.course.id,discussionId:e.id,userId:t},null).$promise.then(function(){e.is_following=!1,e.num_follows--})},this.followQuestion=function(e){return s.save({courseId:e.course.id,discussionId:e.id},null).$promise.then(function(){e.is_following=!0,e.num_follows++})},this.loadQuestion=function(t){return this.questions.loading=!0,n.get(e.extend({id:t},this.questions.params)).$promise.then(function(e){this.questions.activeQuestion=e,this.questions.isDetailsOpen=!0}.bind(this))["finally"](function(){this.questions.loading=!1}.bind(this))},this.deleteQuestion=function(e){var t={courseId:e.course.id,id:e.id};return n["delete"](t).$promise.then(function(){this.questions&&(this.questions.listData=this.questions.listData.filter(function(t){return t.id!==e.id}),this.questions.data=this.questions.listData,this.questions.count--)}.bind(this))}}var s=e.module("apps.courseTakingV4.questionAnswers.questionAnswerService",[n.name,i.name]).service("QuestionAnswer",r);return r.$inject=["CourseQuestion","CourseSearchableQuestion","CurrentCourse","QuestionFollow"],s}.apply(t,i),!(void 0!==r&&(e.exports=r))},544:function(e,t,n){var i,r;i=[n(2)],r=function(e){var t=[{id:"AD",title:"Andorra"},{id:"AE",title:"United Arab Emirates"},{id:"AF",title:"Afghanistan"},{id:"AG",title:"Antigua and Barbuda"
},{id:"AI",title:"Anguilla"},{id:"AL",title:"Albania"},{id:"AM",title:"Armenia"},{id:"AN",title:"Netherlands Antilles"},{id:"AO",title:"Angola"},{id:"AQ",title:"Antarctica"},{id:"AR",title:"Argentina"},{id:"AS",title:"American Samoa"},{id:"AT",title:"Austria"},{id:"AU",title:"Australia"},{id:"AW",title:"Aruba"},{id:"AX",title:"land Islands"},{id:"AZ",title:"Azerbaijan"},{id:"BA",title:"Bosnia and Herzegovina"},{id:"BB",title:"Barbados"},{id:"BD",title:"Bangladesh"},{id:"BE",title:"Belgium"},{id:"BF",title:"Burkina Faso"},{id:"BG",title:"Bulgaria"},{id:"BH",title:"Bahrain"},{id:"BI",title:"Burundi"},{id:"BJ",title:"Benin"},{id:"BL",title:"Saint Barthlemy"},{id:"BM",title:"Bermuda"},{id:"BN",title:"Brunei"},{id:"BO",title:"Bolivia"},{id:"BR",title:"Brazil"},{id:"BS",title:"Bahamas"},{id:"BT",title:"Bhutan"},{id:"BV",title:"Bouvet Island"},{id:"BW",title:"Botswana"},{id:"BY",title:"Belarus"},{id:"BZ",title:"Belize"},{id:"CA",title:"Canada"},{id:"CC",title:"Cocos [Keeling] Islands"},{id:"CD",title:"Democratic Republic of the Congo"},{id:"CF",title:"Central African Republic"},{id:"CG",title:"Congo"},{id:"CH",title:"Switzerland"},{id:"CI",title:"Ivory Coast"},{id:"CK",title:"Cook Islands"},{id:"CL",title:"Chile"},{id:"CM",title:"Cameroon"},{id:"CN",title:"China"},{id:"CO",title:"Colombia"},{id:"CR",title:"Costa Rica"},{id:"CS",title:"Serbia and Montenegro (formerly Yugoslavia)"},{id:"CU",title:"Cuba"},{id:"CV",title:"Cape Verde"},{id:"CW",title:"Curaao"},{id:"CX",title:"Christmas Island"},{id:"CY",title:"Cyprus"},{id:"CZ",title:"Czech Republic"},{id:"DE",title:"Germany"},{id:"DJ",title:"Djibouti"},{id:"DK",title:"Denmark"},{id:"DM",title:"Dominica"},{id:"DO",title:"Dominican Republic"},{id:"DZ",title:"Algeria"},{id:"EC",title:"Ecuador"},{id:"EE",title:"Estonia"},{id:"EG",title:"Egypt"},{id:"EH",title:"Western Sahara"},{id:"ER",title:"Eritrea"},{id:"ES",title:"Spain"},{id:"ET",title:"Ethiopia"},{id:"FI",title:"Finland"},{id:"FJ",title:"Fiji"},{id:"FK",title:"Falkland Islands [Islas Malvinas]"},{id:"FM",title:"Micronesia"},{id:"FO",title:"Faroe Islands"},{id:"FR",title:"France"},{id:"GA",title:"Gabon"},{id:"GB",title:"United Kingdom"},{id:"GD",title:"Grenada"},{id:"GE",title:"Georgia"},{id:"GF",title:"French Guiana"},{id:"GG",title:"Guernsey"},{id:"GH",title:"Ghana"},{id:"GI",title:"Gibraltar"},{id:"GL",title:"Greenland"},{id:"GM",title:"Gambia"},{id:"GN",title:"Guinea"},{id:"GP",title:"Guadeloupe"},{id:"GQ",title:"Equatorial Guinea"},{id:"GR",title:"Greece"},{id:"GS",title:"South Georgia and the South Sandwich Islands"},{id:"GT",title:"Guatemala"},{id:"GU",title:"Guam"},{id:"GW",title:"Guinea-Bissau"},{id:"GY",title:"Guyana"},{id:"HK",title:"Hong Kong"},{id:"HM",title:"Heard Island and McDonald Islands"},{id:"HN",title:"Honduras"},{id:"HR",title:"Croatia"},{id:"HT",title:"Haiti"},{id:"HU",title:"Hungary"},{id:"ID",title:"Indonesia"},{id:"IE",title:"Ireland"},{id:"IL",title:"Israel"},{id:"IM",title:"Isle of Man"},{id:"IN",title:"India"},{id:"IO",title:"British Indian Ocean Terrritory"},{id:"IQ",title:"Iraq"},{id:"IR",title:"Iran (Islamic Republic of Iran)"},{id:"IS",title:"Iceland"},{id:"IT",title:"Italy"},{id:"JE",title:"Jersey"},{id:"JM",title:"Jamaica"},{id:"JO",title:"Jordan"},{id:"JP",title:"Japan"},{id:"KE",title:"Kenya"},{id:"KG",title:"Kyrgyzstan"},{id:"KH",title:"Cambodia"},{id:"KI",title:"Kiribati"},{id:"KM",title:"Comoros"},{id:"KN",title:"Saint Kitts and Nevis"},{id:"KP",title:"Korea (Democratic Peoples Republic of [North] Korea)"},{id:"KR",title:"South Korea"},{id:"KW",title:"Kuwait"},{id:"KY",title:"Cayman Islands"},{id:"KZ",title:"Kazakhstan"},{id:"LA",title:"Laos"},{id:"LB",title:"Lebanon"},{id:"LC",title:"Saint Lucia"},{id:"LI",title:"Liechenstein"},{id:"LK",title:"Sri Lanka"},{id:"LR",title:"Liberia"},{id:"LS",title:"Lesotho"},{id:"LT",title:"Lithuania"},{id:"LU",title:"Luxembourg"},{id:"LV",title:"Latvia"},{id:"LY",title:"Libya"},{id:"MA",title:"Morocco"},{id:"MC",title:"Monaco"},{id:"MD",title:"Moldova"},{id:"ME",title:"Montenegro"},{id:"MF",title:"Saint Martin"},{id:"MG",title:"Madagascar"},{id:"MH",title:"Marshall Islands"},{id:"MK",title:"Macedonia"},{id:"ML",title:"Mali"},{id:"MM",title:"Myanmar [Burma]"},{id:"MN",title:"Mongolia"},{id:"MO",title:"Macau"},{id:"MP",title:"North Mariana Island"},{id:"MQ",title:"Martinique"},{id:"MR",title:"Mauritania"},{id:"MS",title:"Montserrat"},{id:"MT",title:"Malta"},{id:"MU",title:"Mauritius"},{id:"MV",title:"Maldives"},{id:"MW",title:"Malawi"},{id:"MX",title:"Mexico"},{id:"MY",title:"Malaysia"},{id:"MZ",title:"Mozambique"},{id:"NA",title:"Namibia"},{id:"NC",title:"New Caledonia"},{id:"NE",title:"Niger"},{id:"NF",title:"Norfolk Island"},{id:"NG",title:"Nigeria"},{id:"NI",title:"Nicaragua"},{id:"NL",title:"Netherlands"},{id:"NO",title:"Norway"},{id:"NP",title:"Nepal"},{id:"NR",title:"Nauru"},{id:"NU",title:"Niue"},{id:"NZ",title:"New Zealand"},{id:"OM",title:"Oman"},{id:"PA",title:"Panama"},{id:"PE",title:"Peru"},{id:"PF",title:"French Polynesia"},{id:"PG",title:"Papua New Guinea"},{id:"PH",title:"Philippines"},{id:"PK",title:"Pakistan"},{id:"PL",title:"Poland"},{id:"PM",title:"Saint Pierre and Miquelon"},{id:"PN",title:"Pitcairn Islands"},{id:"PR",title:"Puerto Rico"},{id:"PS",title:"Palestinian Territory"},{id:"PT",title:"Portugal"},{id:"PW",title:"Palau"},{id:"PY",title:"Paraguay"},{id:"QA",title:"Qatar"},{id:"RE",title:"Runion"},{id:"RO",title:"Romania"},{id:"RS",title:"Serbia"},{id:"RU",title:"Russia"},{id:"RW",title:"Rwanda"},{id:"SA",title:"Saudi Arabia"},{id:"SB",title:"Solomon Islands"},{id:"SC",title:"Seychelles"},{id:"SD",title:"Sudan"},{id:"SE",title:"Sweden"},{id:"SG",title:"Singapore"},{id:"SH",title:"Saint Helena"},{id:"SI",title:"Slovenia"},{id:"SJ",title:"Svalbard and Jan Mayen"},{id:"SK",title:"Slovakia"},{id:"SL",title:"Sierra Leone"},{id:"SM",title:"San Marino"},{id:"SN",title:"Senegal"},{id:"SO",title:"Somalia"},{id:"SR",title:"Suriname"},{id:"SS",title:"South Sudan"},{id:"ST",title:"So Tom and Prncipe"},{id:"SV",title:"El Salvador"},{id:"SX",title:"Sint Maarten"},{id:"SY",title:"Syrian Arab Republic"},{id:"SZ",title:"Swaziland"},{id:"TC",title:"Turks and Caicos Islands"},{id:"TD",title:"Chad"},{id:"TF",title:"French Southern Territories"},{id:"TG",title:"Togo"},{id:"TH",title:"Thailand"},{id:"TJ",title:"Tajikistan"},{id:"TK",title:"Tokelau"},{id:"TL",title:"East Timor"},{id:"TM",title:"Turkmenistan"},{id:"TN",title:"Tunisia"},{id:"TO",title:"Tonga"},{id:"TR",title:"Turkey"},{id:"TT",title:"Trinidad and Tobago"},{id:"TV",title:"Tuvalu"},{id:"TW",title:"Taiwan"},{id:"TZ",title:"Tanzania"},{id:"UA",title:"Ukraine"},{id:"UG",title:"Uganda"},{id:"UM",title:"U.S. Outlying Islands"},{id:"US",title:"United States"},{id:"UY",title:"Uruguay"},{id:"UZ",title:"Uzbekistan"},{id:"VA",title:"Vatican City"},{id:"VC",title:"Saint Vincent and the Grenadines"},{id:"VE",title:"Venezuela"},{id:"VG",title:"U.S. Virgin Islands"},{id:"VN",title:"Vietnam"},{id:"VU",title:"Vanuatu"},{id:"WF",title:"Wallis and Futuna"},{id:"WS",title:"Samoa"},{id:"YE",title:"Yemen"},{id:"YT",title:"Mayotte"},{id:"ZA",title:"South Africa"},{id:"ZM",title:"Zambia"},{id:"ZW",title:"Zimbabwe"}],n=e.module("constants.countryInfoList",[]).constant("CountryInfoList",t);return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},547:function(e,t,n){var i,r;i=[n(2)],r=function(e){return e.module("filters.ceil",[]).filter("ceil",[function(){return function(e){return Math.ceil(e)}}])}.apply(t,i),!(void 0!==r&&(e.exports=r))},552:function(e,t,n){var i,r;i=[n(535),n(564)],r=function(e){return e.config.set("basePath","/staticx/udemy/js/bower_components/ace-builds/src-min-noconflict"),e}.apply(t,i),!(void 0!==r&&(e.exports=r))},554:function(e,t,n){var i,r;i=[n(499)],r=function(e){var t=e.getComponent("Component"),n=e.getComponent("Player"),i=e.getComponent("Button"),r=e.getComponent("PlaybackRateMenuButton");n.prototype.seekBackward=function(e){this.currentTime(Math.max(0,this.currentTime()-e)),this.trigger({type:"seekrewind",interval:e})},n.prototype.seekForward=function(e){this.currentTime(this.currentTime()+e),this.trigger({type:"seekforward",interval:e})},n.prototype.speedDown=function(){var e=new r(this.player(),{playerOptions:this.player().options_});if(e.playbackRateSupported()){var t=this.options_.playbackRates,n=t.lastIndexOf(this.playbackRate());n-1>=0&&this.playbackRate(t[n-1])}},n.prototype.speedUp=function(){var e=new r(this.player(),{playerOptions:this.player().options_});if(e.playbackRateSupported()){var t=this.options_.playbackRates,n=t.lastIndexOf(this.playbackRate());n+1<t.length&&this.playbackRate(t[n+1])}};var s=e.extend(i,{});s.prototype.createEl=function(){var n=this.player(),i=t.prototype.createEl("a",{className:"icon-vjs-rewind btn vjs-menu-button vjs-menu-button-popup"}),r=t.prototype.createEl("div",{innerHTML:this.options_.interval,className:"icon-vjs-rewind__label"});i.appendChild(r);var s=e.getComponent("Menu"),o=new s(n);return o.contentEl().appendChild(t.prototype.createEl("li",{className:"vjs-menu-title",innerHTML:n.localize("Rewind {{seconds}}s").replace("{{seconds}}",this.options_.interval),tabindex:-1})),i.appendChild(o.el()),i},s.prototype.handleClick=function(){this.player().seekBackward(this.options_.interval)},e.registerComponent("RewindButton",s);var o=e.extend(i,{});o.prototype.createEl=function(){var n=this.player(),i=t.prototype.createEl("a",{className:"icon-vjs-forward btn vjs-menu-button vjs-menu-button-popup"}),r=t.prototype.createEl("div",{innerHTML:this.options_.interval,className:"icon-vjs-forward__label"});i.appendChild(r);var s=e.getComponent("Menu"),o=new s(n);return o.contentEl().appendChild(t.prototype.createEl("li",{className:"vjs-menu-title",innerHTML:n.localize("Forward {{seconds}}s").replace("{{seconds}}",this.options_.interval),tabindex:-1})),i.appendChild(o.el()),i},o.prototype.handleClick=function(){this.player().seekForward(this.options_.interval)},e.registerComponent("ForwardButton",o);var a=e.extend(t,{});a.prototype.options_={children:{rewindButton:{interval:15},forwardButton:{interval:15}}},a.prototype.createEl=function(){return t.prototype.createEl("div",{className:"playback-controls"})},a.prototype.buildCSSClass=function(){return"vjs-speed-container-overlay "+t.buildCSSClass.call(this)},e.registerComponent("MiddleButtonGroup",a);var l=e.extend(r,{options_:{title:""},createEl:function u(){var u=r.prototype.createEl.bind(this),e=u(),n=t.prototype.createEl("div",{className:"vjs-button-disabled-text",innerHTML:this.localize("Playback rate change is not supported for flash.")});return e.appendChild(n),e},createMenu:function(){var e=r.prototype.createMenu.call(this);if(this.options_.title){var n=e.contentEl(),i=t.prototype.createEl("li",{className:"vjs-menu-title",innerHTML:this.options_.title,tabindex:-1});n.insertBefore(i,n.childNodes[0])}return e},updateVisibility:function(){this.playbackRateSupported()?(this.removeClass("vjs-button-disabled"),this.off("click",this.handleClick).on("click",this.handleClick)):(this.addClass("vjs-button-disabled"),this.off("click",this.handleClick))}});e.registerComponent("DisableablePlaybackRateMenuButton",l);var c=function(e){var t=this;t.ready(function(){var n=new a(t,e),i=new l(t,{playerOptions:t.options_,title:t.localize("Speed")});n.addChild(i),t.controlBar.addChild(n)})};e.plugin("speedcontroller",c)}.apply(t,i),!(void 0!==r&&(e.exports=r))},555:function(e,t,n){var i,r;i=[n(2),n(509),n(678),n(168),n(832),n(952),n(501),n(514),n(522),n(128)],r=function(e,t,n,i,r,s,o,a,l,c){function u(t,n,i,r,s,a,l,u,d,h){this._loadCurriculumPromise=null,this.currentSection=null,this.currentSectionItem=null,this.sections={},this.totalVideoLength=0;var p={};this.init=function(e,t){this.courseId=e,this.totalVideoLength=t},this.ensureCurriculumLoaded=function(){if(this._loadCurriculumPromise)return this._loadCurriculumPromise;throw new Error("call loadCurriculum before call any other method")},this.loadCurriculum=function(){if(!this._loadCurriculumPromise){var e=this._getCurriculumApiCalls();this._loadCurriculumPromise=n.all(e).then(function(e){c.mark("CourseDashboard.curriculum-loaded");var t=e[0],n=e[1]||{started_lecture_ids:[],completed_lecture_ids:[],started_quiz_ids:[],completed_quiz_ids:[],last_watched_seconds:{}};return this._createCurriculum(t,n)}.bind(this))}return this._loadCurriculumPromise},this._getCurriculumApiCalls=function(){var e={page_size:9999,courseId:this.courseId,"fields[lecture]":"@min,object_index,asset,supplementary_assets,sort_order,is_published,is_free","fields[quiz]":"@min,object_index,title,sort_order,is_published","fields[chapter]":"@min,description,object_index,title,sort_order","fields[asset]":"@min,title,filename,asset_type,external_url,length"},t=[];return h.canEditCourse?t.push(u.instructorCurriculumItems(e).$promise):t.push(u.subscriberCurriculumItems(e).$promise),t.push(d.get({courseId:this.courseId,"fields[course]":"started_lecture_ids,completed_lecture_ids,started_quiz_ids,completed_quiz_ids,num_completed_items,last_watched_seconds"}).$promise),t},this._createCurriculum=function(t,n){var i=0,r=0,s=t.results;return s=this._attachProgressData(s,n),e.forEach(s,function(e){if("chapter"===e._class)i=0,e.is_published=e.object_index>0,this.sections[++r]=new l(e,this.courseId);else{var t=null;this.sections[r]?(t=new a(e),t.isLocked=this.isItemLocked(t),this.sections[r].items.push(t)):(r=1,i=0,t=new a(e),t.isLocked=this.isItemLocked(t),this.sections[r]=new l({_class:"chapter",object_index:0,sort_order:1/0,is_published:!0},this.courseId),this.sections[r].items.push(t)),p[t.type+t.id.toString()]={sectionIndex:r,itemIndex:i},i++}}.bind(this)),e.forEach(this.sections,function(e){e.calculateStats()}),this},this._setProgressStatus=function(e,t,n){n.indexOf(e.id)!==-1?e.progress_status="completed":t.indexOf(e.id)!==-1?e.progress_status="started":e.progress_status="not_started"},this._attachProgressData=function(e,t){return e.map(function(e){return"lecture"===e._class?(e.last_watched_second=t.last_watched_seconds[e.id]||0,this._setProgressStatus(e,t.started_lecture_ids,t.completed_lecture_ids)):"quiz"===e._class&&this._setProgressStatus(e,t.started_quiz_ids,t.completed_quiz_ids),e}.bind(this))},this.setCurrentItem=function(e){this.currentSection&&(this.currentSection.current=!1,this.currentSection=null),this.currentSectionItem&&(this.currentSectionItem.current=!1,this.currentSectionItem=null);var t=p[e.type+e.id];this.currentSection=this.sections[t.sectionIndex],this.currentSection.current=!0,this.currentSectionItem=this.sections[t.sectionIndex].items[t.itemIndex],this.currentSectionItem.current=!0},this.getCurriculumItem=function(e,t){var n=p[e+t];if(!n)return null;var i=this.sections[n.sectionIndex].items[n.itemIndex];return i.isLocked=this.isItemLocked(i),this.sections[n.sectionIndex].items[n.itemIndex]},this.getSectionOfCurriculumItem=function(e,t){var n=p[e+t];return n?this.sections[n.sectionIndex]:null},this.getCurrentCurriculumItem=function(){return this.getCurriculumItem(t.current.data.objectType,t.params.id)},this.getFirstCurriculumItem=function(){var e=this.sections[0]||this.sections[1];return e&&e.items[0]},this.getNextCurriculumItem=function(e){var t=p[e.type+e.id];if(t){var n=this.sections[t.sectionIndex].items[t.itemIndex+1];return n?n:this.sections[t.sectionIndex+1]?this.sections[t.sectionIndex+1].items[0]:void 0}},this.getNextCurriculumItemFiltered=function(e,t){var n=e;do{if(e=this.getNextCurriculumItem(e),!e&&(e=this.getFirstCurriculumItem(),!e))return null;if(t(e))return e}while(n!=e);return null},this.getPrevCurriculumItem=function(e){var t=p[e.type+e.id],n=this.sections[t.sectionIndex].items[t.itemIndex-1];return n?n:this.sections[t.sectionIndex-1]?this.sections[t.sectionIndex-1].items[this.sections[t.sectionIndex-1].items.length-1]:void 0},this.getNumCompletedItems=function(){var t=0;return e.forEach(this.sections,function(e){t+=e.numCompletedItems}),t},this.getNumCompletedItemsByType=function(t){var n=0;return e.forEach(this.sections,function(e){n+=e.numCompletedItemsByType[t]||0}),n},this.getCompletedVideoLength=function(){var t=0;return e.forEach(this.sections,function(e){t+=e.completedVideoLength||0}),t},this.markLectureAsViewed=function(e){i.save({courseId:this.courseId,id:e.id},{}).$promise.then(function(){this.markCurriculumItemAsStarted(e)}.bind(this))},this.markCurriculumItemAsStarted=function(e){"not_started"===e.progressStatus&&(e.progressStatus="started")},this.markCurriculumItemAsCompleted=function(e){e.progressStatus="completed";var t=p[e.type+e.id];this.sections[t.sectionIndex].calculateStats()},this.markLectureAsCompleted=function(e,t){t||o.track("coursetaking","Lecture","mark-complete");var n={courseId:this.courseId},i={lecture_id:e.id,downloaded:!!t};return s.save(n,i).$promise.then(function(){var t=this.getCurriculumItem("lecture",e.id);this.markCurriculumItemAsCompleted(t)}.bind(this))},this.markCurriculumItemAsUncompleted=function(e){e.progressStatus="uncompleted";var t=p[e.type+e.id];this.sections[t.sectionIndex].calculateStats()},this.markLectureAsUncompleted=function(e){return o.track("coursetaking","Lecture","mark-uncomplete"),s["delete"]({courseId:this.courseId,lectureId:e.id}).$promise.then(function(){var t=this.getCurriculumItem("lecture",e.id);this.markCurriculumItemAsUncompleted(t)}.bind(this))},this.updateLectureProgress=function(e,t){r.save({courseId:this.courseId,id:e.id},t).$promise.then(function(t){if(t.just_completed){var n=this.getCurriculumItem("lecture",e.id);this.markCurriculumItemAsCompleted(n)}}.bind(this))},this.isItemLocked=function(e){return!(!(h.isFreePreviewer&&e&&e.data)||"lecture"==e.data._class&&e.data.is_free)},this.isFreeFilter=function(e){return e&&e.data&&e.data.is_free}}var d=e.module("apps.courseTakingV4.curriculum.curriculumService",["ui.router",n.name,i.name,r.name,s.name,a.name,l.name]).service("Curriculum",u);return u.$inject=["$state","$q","SubscribedLectureViewLog","SubscribedLectureProgressLog","CompletedLecture","CurriculumItem","CurriculumSection","CourseCurriculum","CourseProgress","ViewMode"],d}.apply(t,i),!(void 0!==r&&(e.exports=r))},556:function(e,t,n){var i,r;i=[n(2),n(950),n(949),n(709),n(948),n(555)],r=function(e,t,n,i,r,s){return e.module("apps.courseTakingV4.curriculumNavigation",[t["default"].name,n["default"].name,i["default"].name,r["default"].name,s.name])}.apply(t,i),!(void 0!==r&&(e.exports=r))},557:function(e,t,n){var i,r;i=[n(2),n(12)],r=function(e,t){function n(e){function t(t){return e.experiments[t]}this.getValue=t}var i=e.module("apps.courseTakingV4.experimentService",[t.name]).service("ExperimentService",n);return n.$inject=["$rootScope"],i}.apply(t,i),!(void 0!==r&&(e.exports=r))},558:function(e,t,n){var i,r;i=[n(2),n(652)],r=function(e,t){return e.module("apps.shoppingCart.components.creditCardInput",[t["default"].name])}.apply(t,i),!(void 0!==r&&(e.exports=r))},559:function(e,t,n){var i,r;i=[n(2),n(558),n(534),n(663),n(183),n(187),n(188),n(189),n(190),n(654),n(191),n(192),n(126),n(653)],r=function(e,t,n,i,r,s,o,a,l,c,u,d,h,p){return e.module("apps.shoppingCart.components",[t.name,n.name,i.name,r["default"].name,s["default"].name,o["default"].name,a["default"].name,l["default"].name,c["default"].name,u["default"].name,d["default"].name,h["default"].name,p["default"].name])}.apply(t,i),!(void 0!==r&&(e.exports=r))},560:function(e,t,n){var i,r;i=[n(2),n(11),n(122),n(528),n(524),n(505),n(534)],r=function(e,t,n,i,r,s,o){function a(e,n,i,r,s,o,a,l){function c(){var e=u.get().$promise.then(function(e){function t(e){return{card:{last4_text:e.last4_text,cardType:e.type},scid:e.customer_id}}d.allCards=e.results;var n=e.results.map(t);n.push({card:{}}),i.methods=n,n.length>1&&(n[0].card.autoselect=!0)});h.push(e)}var u,d=this,h=[];this.enableLoader=function(){i.loaded=!1},this.disableLoader=function(){i.loaded=!0};var p=l.get().then(function(n){n.gateway_transaction_id?s.completeCheckout({gatewayTransactionId:n.gateway_transaction_id}):e.search().pa_id&&!n.gateway_transaction_id&&(s.cancelCheckout(n.detail),s.disableCheckout());var r={mc:"mastercard"};i.paypal_status=n.paypal_service_status,i.adyen_enabled=n.adyen_enabled,i.enabled_credit_cards=t.chain(n.adyen_methods?n.adyen_methods:[]).select({type:"credit_card"}).pluck("local_methods").flatten(!0).pluck("brand_code").unique().map(function(e){return r[e]||e}).value(),i.adyen_methods=t.chain(n.adyen_methods?n.adyen_methods:[]).reject({type:"credit_card"}).map(function(e){return e.local_methods.map(t.partial(t.extend,{name:e.name,type:e.type}))}).flatten().value(),i.adyen_link=n.adyen_link,i.generationTime=n.adyen_generation_time,d.disableLoader()})["catch"](function(e){s.cancelCheckout(e.detail),d.disableLoader()});h.push(p),i.methods=[],i.activeMethodContainer={activeMethod:{}},i.$watch("activeMethodContainer.activeMethod",function(e,t){return t&&t.activate&&t.activate(!1),e&&e.activate&&e.activate(!0),!0}),s.getCheckoutData().then(function(e){e.isPaymentRequired?l.get().then(function(e){u=e.adyen_enabled?a:o,c()}):(i.free_checkout=!0,i.activeMethodContainer.activeMethod={vendor:"free",prepare:function(e){return n.when({name:"Free"})}},s.enableCheckout({vendor:"free"})),n.all(h).then(d.disableLoader,d.disableLoader)}),i.loaded=!1,i.removeCard=function(e){var n=t.indexOf(t.pluck(d.allCards,"customer_id"),e);n<0||u["delete"]({id:d.allCards[n].customer_id},function(){i.activeMethodContainer.activeMethod&&e==i.activeMethodContainer.activeMethod.scid&&(i.activeMethodContainer.activeMethod={}),d.allCards.splice(n,1),i.methods.splice(n,1)})};var f=r.onMessage("cartCheckoutAttempted",function(e){l.state.shopping_cart=e,i.loaded=!1,i.activeMethodContainer.activeMethod&&i.activeMethodContainer.activeMethod.prepare(e).then(function(e){l.checkout(e).then(function(e){return s.completeCheckout({gatewayTransactionId:e.data.gateway_transaction_id})},function(e){return s.cancelCheckout(e.data.detail)}).then(d.disableLoader)},function(e){s.cancelCheckout(e),d.disableLoader()})});i.$on("$destroy",function(){f()})}return a.$inject=["$location","$q","$scope","messageBroker","shoppingClient","UserStripeCustomer","UserAdyenCustomer","Checkout"],e.module("apps.shoppingCart.PaymentViewController",[n.name,o.name,i.name,r.name,s.name]).controller("PaymentViewController",a)}.apply(t,i),!(void 0!==r&&(e.exports=r))},562:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{replace:!0,restrict:"E",scope:{showPopup:"=",objectType:"@",objectId:"=",btnClass:"@",showTooltip:"=?"},link:function(t){t.$on("reportabuseshowmodal",function(){t.openPopup()}),t.showTooltip=!!o["default"].isUndefined(t.showTooltip)||t.showTooltip,t.openPopup=function(){t.showPopup=!0,e.$broadcast("modalopened"),e.$broadcast("reportabusemodalopened",{objectType:t.objectType})},t.closePopup=function(){e.$broadcast("modalclosed")}},templateUrl:u["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(508),l=i(a),c=n(691),u=i(c);t["default"]=o["default"].module("common.reportAbuseDirective",[l["default"].name]).directive("reportAbuse",["$rootScope",r])},564:function(e,t,n){var i,r;i=[n(535)],r=function(e){e.define("ace/theme/IDLE",["require","exports","ace/lib/dom"],function(e,t){t.isDark=!1,t.cssClass="ace--i-d-l-e",t.cssText="\n            .ace--i-d-l-e .ace_gutter {\n                background: #FFFFFF;\n                color: rgb(128, 128, 128)\n            }\n            .ace--i-d-l-e .ace_print-margin {\n                width: 1px;\n                background: #e8e8e8\n            }\n            .ace--i-d-l-e {\n                background-color: #FFFFFF;\n                color: #000000\n            }\n            .ace--i-d-l-e .ace_cursor {\n                color: #000000\n            }\n            .ace--i-d-l-e .ace_marker-layer .ace_selection {\n                background: #BAD6FD\n            }\n            .ace--i-d-l-e.ace_multiselect .ace_selection.ace_start {\n                box-shadow: 0 0 3px 0px #FFFFFF;\n                border-radius: 2px\n            }\n            .ace--i-d-l-e .ace_marker-layer .ace_step {\n                background: rgb(198, 219, 174)\n            }\n            .ace--i-d-l-e .ace_marker-layer .ace_bracket {\n                margin: -1px 0 0 -1px;\n                border: 1px solid #BFBFBF\n            }\n            .ace--i-d-l-e .ace_marker-layer .ace_active-line {\n                background: rgba(0, 0, 0, 0.071)\n            }\n            .ace--i-d-l-e .ace_gutter-active-line {\n                background-color: rgba(0, 0, 0, 0.071)\n            }\n            .ace--i-d-l-e .ace_marker-layer .ace_selected-word {\n                border: 1px solid #BAD6FD\n            }\n            .ace--i-d-l-e .ace_fold {\n                background-color: #21439C;\n                border-color: #000000\n            }\n            .ace--i-d-l-e .ace_keyword {\n                color: #FF5600\n            }\n            .ace--i-d-l-e .ace_constant.ace_language {\n                color: #A535AE\n            }\n            .ace--i-d-l-e .ace_support.ace_function {\n                color: #A535AE\n            }\n            .ace--i-d-l-e .ace_support.ace_constant {\n                color: #A535AE\n            }\n            .ace--i-d-l-e .ace_support.ace_class {\n                color: #A535AE\n            }\n            .ace--i-d-l-e .ace_support.ace_type {\n                color: #A535AE\n            }\n            .ace--i-d-l-e .ace_storage {\n                color: #FF5600\n            }\n            .ace--i-d-l-e .ace_invalid {\n                color: #FFFFFF;\n                background-color: #990000\n            }\n            .ace--i-d-l-e .ace_string {\n                color: #00A33F\n            }\n            .ace--i-d-l-e .ace_comment {\n                color: #919191\n            }\n            .ace--i-d-l-e .ace_variable {\n                color: #21439C\n            }\n            .ace--i-d-l-e .ace_entity.ace_name.ace_function {\n                color: #21439C\n            }    \n        ";var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)})}.apply(t,i),!(void 0!==r&&(e.exports=r))},570:function(e,t,n){var i,r;i=[n(2),n(708)],r=function(e,t){var n=e.module("apps.courseTakingV4.animatedStateChange",["ui.router",t.name]);return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},576:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"EA",templateUrl:l["default"],replace:!0,scope:{error:"="}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(594),l=i(a),c=o["default"].module("ud.common.formAlert",[]).directive("formAlert",r);t["default"]=c},577:function(e,t,n){var i,r;i=[n(2),n(500)],r=function(e,t){function n(t,n){function i(){this.state={},this.reset(),this.ErrorType=t}return i.prototype.setErrorMessage=function(e){this.state.message=e},i.prototype.getMessage=function(){return this.state.message},i.prototype.getType=function(){return this.state.type},i.prototype.getCurrent=function(){return this.state},i.prototype.reset=function(){this.state.type=t.info,this.state.message=null,this.state.ignoreWarnings=!1},i.prototype.ignoreWarnings=function(e,t){return this.hasWarnings()&&e==t},i.prototype.hasWarnings=function(){return this.state.ignoreWarnings},i.prototype.processResponseError=function(i){var r,s=i.data,o={},a={},l="";s?s.detail&&(l=s.detail):l="No response";for(var c in s)if("string"==typeof s[c])o[c]=s[c];else if(s[c]&&s[c][0]){var u=s[c][0].messages||[s[c][0]];"warning"==s[c][0].type?(a[c]=u,this.state.ignoreWarnings=!0):o[c]=u}l||o&&Object.keys(o).length?(this.state.message=(l+" "+n.joinObjWithEnclosedTag(o,"p")).trim(),this.state.type=t.danger):(this.state.message=n.joinObjWithEnclosedTag(a,"p").trim(),this.state.type=t.warning),e.isFunction(i.headers)&&(r=i.headers(),this.state.feedback={message:r["x-ui-message"],type:r["x-ui-message-type"]})},i.prototype.getFeedback=function(){return this.state.feedback},i}var i=e.module("ud.common.forms.formError",[t.name]).constant("FORM_ERROR_TYPE",{info:"info",warning:"warning",danger:"danger"}).factory("FormError",n);return n.$inject=["FORM_ERROR_TYPE","Utils"],i}.apply(t,i),!(void 0!==r&&(e.exports=r))},580:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return{restrict:"E",transclude:!0,scope:{text:"=",style:"=",filterHtml:"=",notIsolate:"="},link:function(i,r){i.showToggle=!1,i.isCollapsed=!0;var s="view-more--"+i.style,a=function c(){var e=r.find(".view-more")[0],n=e.offsetHeight,s=e.scrollHeight;n+2<s?i.showToggle=!0:i.showToggle=!1,0==n&&t(c,200)};t(a),e.$on("applyViewMore",function(){t(a)}),i.showMore=function(e){i.notIsolate||e.stopPropagation();var t=o["default"].element(r.find(".view-more")[0]);n.removeClass(t,s),i.isCollapsed=!1},i.showLess=function(e){i.notIsolate||e.stopPropagation();var t=o["default"].element(r.find(".view-more")[0]);n.addClass(t,s),i.isCollapsed=!0};var l=i.$watch("text",function(e,n){e&&e!==n&&t(a)});i.$on("$destroy",l)},templateUrl:l["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s);n(121);var a=n(813),l=i(a);t["default"]=o["default"].module("directives.common.viewMore",["ngAnimate"]).directive("viewMore",["$rootScope","$timeout","$animate",r])},582:function(e,t,n){var i,r;i=[n(2)],r=function(e){return e.module("filters.stripTags",[]).filter("stripTags",function(){return function(e){return e?e.replace(/<\S[^><]*>/g,""):e}})}.apply(t,i),!(void 0!==r&&(e.exports=r))},583:function(e,t,n){var i,r;i=[n(2),n(584),n(63),n(14)],r=function(e,t,n,i){function r(n,r){var s=void 0;s="DEV"===i.env?i.brand.is_udemy?"key_test_odgEKD7HeY8pCwFbkosrribgArahL8zN":"key_test_ebnrXmCOBlD9UQdlGuImyhilsymwj142":i.brand.is_udemy?"key_live_dkmkLOFE7jz8nKqIcFl0hliaamb5MyJ6":"key_live_ociw5pCRCis8ILedNrHjEbkfxCgwEgdh",t.init(s,function(e,t){}),this.createLink=function(e){return n(function(n){t.link(e,function(e,t){n(t)})})},this.createiOSLinkWithDesktop=function(t){var n=e.copy(t);return n.data=n.data||{},n.data.$desktop_url=i.third_party.branch_metrics.ios_download_url,this.createLink(n)},this.createAndroidLinkWithDesktop=function(t){var n=e.copy(t);return n.data=n.data||{},n.data.$desktop_url=i.third_party.branch_metrics.android_download_url,this.createLink(n)},this.createUFBLink=function(t){var n=e.copy(t);return n.data=e.extend({},n.data,{organizationName:i.brand.title,organizationIdentifier:i.brand.identifier,ufbDomain:i.brand.url,$ios_url:i.third_party.branch_metrics.ios_ufb_download_url,$android_url:i.third_party.branch_metrics.android_ufb_download_url}),"ios"===r.getMobileOSType()&&(n.data.$desktop_url=i.third_party.branch_metrics.ios_ufb_download_url),"android"===r.getMobileOSType()&&(n.data.$desktop_url=i.third_party.branch_metrics.android_ufb_download_url),this.createLink(n)}}var s=e.module("service.branchMetrics.branchMetricsService",[n.name]).service("branchMetricsService",r);return r.$inject=["$q","Mobile"],s}.apply(t,i),!(void 0!==r&&(e.exports=r))},584:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){function aa(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function ba(){function e(){t.length&&t[0](function(){t.shift(),e()})}var t=[];return function(n){t.push(n),1==t.length&&e()}}function m(b){if(b=String(b),/^\s*$/.test(b)?0:/^[\],:{}\s\u2028\u2029]*$/.test(b.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{
return eval("("+b+")")}catch(a){}throw Error("Invalid JSON string: "+b)}function n(e){var t=[];return p(new ca,e,t),t.join("")}function ca(){}function p(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if("array"==aa(t)){var i=t;t=i.length,n.push("[");for(var r="",s=0;s<t;s++)n.push(r),p(e,i[s],n),r=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){n.push("{"),r="";for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s=t[i],"function"!=typeof s&&(n.push(r),q(i,n),n.push(":"),p(e,s,n),r=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":q(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?t:"null");break;case"boolean":n.push(t);break;case"function":break;default:throw Error("Unknown type: "+typeof t)}}}function q(e,t){t.push('"',e.replace(da,function(e){var t=r[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),r[e]=t),t}),'"')}function t(e){try{return m(e.get("branch_session"))||null}catch(t){return null}}function u(e,t){return e.replace(/\$(\d)/g,function(e,n){return t[parseInt(n,10)-1]})}function w(e){return{data:e.data||null,referring_identity:e.referring_identity||null,identity:e.identity||null,has_app:e.has_app||null,referring_link:e.referring_link||null}}function x(e){return e.source="web-sdk",e.data&&void 0!==e.data.$desktop_url&&(e.data.$desktop_url=e.data.$desktop_url.replace(/#r:[a-z0-9-_]+$/i,"").replace(/([\?\&]_branch_match_id=\d+)/,"")),e.data=n(e.data||{}),e}function y(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function B(){return!!navigator.userAgent.match(/android|i(os|p(hone|od|ad))/i)&&(navigator.userAgent.match(/android/i)?"android":navigator.userAgent.match(/ipad/i)?"ipad":"ios")}function ea(e){return e.replace(/(\-\w)/g,function(e){return e[1].toUpperCase()})}function fa(e){var t,n,i,r,s,o,a="",l=0;for(e=e.replace(/\r\n/g,"\n"),n="",i=0;i<e.length;i++)r=e.charCodeAt(i),128>r?n+=String.fromCharCode(r):(127<r&&2048>r?n+=String.fromCharCode(r>>6|192):(n+=String.fromCharCode(r>>12|224),n+=String.fromCharCode(r>>6&63|128)),n+=String.fromCharCode(63&r|128));for(e=n;l<e.length;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),i=e.charCodeAt(l++),r=t>>2,t=(3&t)<<4|n>>4,s=(15&n)<<2|i>>6,o=63&i,isNaN(n)?s=o=64:isNaN(i)&&(o=64),a=a+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(s)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(o);return a}function C(e){for(var t=0;t<e.length;t++){var n=this[e[t]],n="function"==typeof n?n():n;if(n.isEnabled())return n.i={},n}}function D(e){return"branch_session"==e?e:"BRANCH_WEBSDK_KEY"+e}function E(e){return"true"==e||"false"!=e&&e}function F(e){var t=e?localStorage:sessionStorage;return{s:function(){var e,n=null;for(e in t)0==e.indexOf("BRANCH_WEBSDK_KEY")&&(null===n&&(n={}),n[e.replace("BRANCH_WEBSDK_KEY","")]=E(t.getItem(e)));return n},get:function(e){return E(t.getItem(D(e)))},set:function(e,n){t.setItem(D(e),n)},remove:function(e){t.removeItem(D(e))},clear:function(){Object.keys(t).forEach(function(e){0==e.indexOf("BRANCH_WEBSDK_KEY")&&t.removeItem(e)})},isEnabled:function(){try{return t.setItem("test",""),t.removeItem("test"),!0}catch(e){return!1}}}}function G(e){return{s:function(){for(var e=document.cookie.split(";"),t={},n=0;n<e.length;n++){var i=e[n].replace(" ",""),i=i.substring(0,i.length);-1!=i.indexOf("BRANCH_WEBSDK_KEY")&&(i=i.split("="),t[i[0].replace("BRANCH_WEBSDK_KEY","")]=E(i[1]))}return t},get:function(e){e=D(e)+"=";for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var i=t[n],i=i.substring(1,i.length);if(0==i.indexOf(e))return E(i.substring(e.length,i.length))}return null},set:function(t,n){var i=D(t),r="";e&&(r=new Date,console.log(r),r.setTime(r.getTime()+31536e6),r="; branch_expiration_date="+r.toGMTString()+"; expires="+r.toGMTString()),document.cookie=i+"="+n+r+"; path=/"},remove:function(e){document.cookie=D(e)+"=; expires=; path=/"},clear:function(){function t(e){document.cookie=e.substring(0,e.indexOf("="))+"=;expires=-1;path=/"}for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var r=n[i],r=r.substring(1,r.length);-1!=r.indexOf("BRANCH_WEBSDK_KEY")&&(e||-1!=r.indexOf("branch_expiration_date=")?e&&0<r.indexOf("branch_expiration_date=")&&t(r):t(r))}},isEnabled:function(){return navigator.cookieEnabled}}}function H(e){return!!e.className.match(/(\s|^)branch-banner-is-active(\s|$)/)}function ga(){var e=document.body;H(e)||(e.className+=" branch-banner-is-active")}function ha(e){var t=new Date;return t.setDate(t.getDate()+e)}function I(e){return document.body.currentStyle?document.body.currentStyle[ea(e)]:window.getComputedStyle(document.body).getPropertyValue(e)}function J(e){function t(e){function n(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100}function i(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)/100}if(!e)return 0;var r=e.replace(/[0-9,\.]/g,"");e=e.match(/\d+/g);var s=parseInt(0<e.length?e[0]:"0",10);return parseInt({px:function(e){return e},em:function(e){return document.body.currentStyle?e*t(document.body.currentStyle.fontSize):e*parseFloat(window.getComputedStyle(document.body).fontSize)},rem:function(e){return document.documentElement.currentStyle?e*t(document.documentElement.currentStyle.fontSize):e*parseFloat(window.getComputedStyle(document.documentElement).fontSize)},vw:function(e){return e*i()},vh:function(e){return e*n()},vmin:function(e){return e*Math.min(n(),i())},vmax:function(e){return e*Math.max(n(),i())},"%":function(){return document.body.clientWidth/100*s}}[r](s),10)}return(t("76px")+t(e)).toString()+"px"}function ia(e,t){var n=e.get("hideBanner"),n="number"==typeof n?new Date>=new Date(n):!n,i=t.o;return"number"==typeof i&&(i=!1),!document.getElementById("branch-banner")&&!document.getElementById("branch-banner-iframe")&&(n||i)&&(t.W&&!B()||t.v&&"android"==B()||t.X&&"ipad"==B()||"ipad"!=B()&&t.w&&"ios"==B())}function K(){}function L(e,t,n){var i=[];if(t instanceof Array)for(e=0;e<t.length;e++)i.push(encodeURIComponent(n)+"="+encodeURIComponent(t[e]));else for(var r in t)t.hasOwnProperty(r)&&(t[r]instanceof Array||"object"==typeof t[r]?i.push(L(e,t[r],n?n+"."+r:r)):i.push(encodeURIComponent(n?n+"."+r:r)+"="+encodeURIComponent(t[r])));return i.join("&")}function ja(e,t,n){var i,r,s=t.destination+t.b;if(t.c)for(i in t.c)if(t.c.hasOwnProperty(i)){if(r=t.c[i](t.b,i,n[i]))return{error:r};s+="/"+n[i]}var o={};for(i in t.a)if(t.a.hasOwnProperty(i)){if(r=t.a[i](t.b,i,n[i]))return{error:r};r=n[i],"undefined"!=typeof r&&""!==r&&null!==r&&(o[i]=r)}if(i=/^[0-9]{15,20}$/,r=/key_(live|test)_[A-Za-z0-9]{32}/,"POST"===t.method||"/v1/credithistory"===t.b)if(n.branch_key&&r.test(n.branch_key))o.branch_key=n.branch_key;else{if(!n.app_id||!i.test(n.app_id))return{error:u("API request $1 missing parameter $2",[t.b,"branch_key or app_id"])};o.app_id=n.app_id}return{data:L(e,o,""),url:s}}function ka(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}function M(e,t,i,r,s){var o="branch_callback__"+e.j++;e=0<=t.indexOf("api.branch.io")?"&data=":"&post_data=",i="POST"==r?encodeURIComponent(fa(n(i))):"";var a=window.setTimeout(function(){window[o]=function(){},s(Error("Request timed out"),null,504)},5e3);window[o]=function(e){window.clearTimeout(a),s(null,e)},ka(t+(0>t.indexOf("?")?"?":"")+(i?e+i:"")+(0<=t.indexOf("/c/")?"&click=1":"")+"&callback="+o)}function la(e,t,n,i,r,s){var o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.ontimeout=function(){s(Error("Request timed out"),null,504)},o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)try{s(null,m(o.responseText),o.status)}catch(e){s(null,{},o.status)}else 402===o.status?s(Error("Not enough credits to redeem."),null,o.status):"4"!==o.status.toString().substring(0,1)&&"5"!==o.status.toString().substring(0,1)||s(Error("Error in API: "+o.status),null,o.status)};try{o.open(i,t,!0),o.timeout=5e3,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(n)}catch(a){r.set("use_jsonp",!0),M(e,t,n,i,s)}}function ma(e,t,n,i,r){var s=ja(e,t,n);if(s.error)r(Error(s.error));else{var o,a="";"GET"==t.method?o=s.url+"?"+s.data:(o=s.url,a=s.data);var l=2,c=function(e,t,n){e&&0<l&&"5"===n.toString().substring(0,1)?(l--,window.setTimeout(function(){u()},200)):r(e,t)},u=function(){i.get("use_jsonp")||t.N?M(e,o,n,t.method,c):la(e,o,a,t.method,i,c)};u()}}function N(e,t){return function(n,i,r){if("number"==typeof r||r)if(0==t){if("object"!=typeof r)return u("API request $1, parameter $2 is not $3",[n,i,"an object"])}else if(3==t){if(!(r instanceof Array))return u("API request $1, parameter $2 is not $3",[n,i,"an array"])}else if(2==t){if("number"!=typeof r)return u("API request $1, parameter $2 is not $3",[n,i,"a number"])}else if(4==t){if("boolean"!=typeof r)return u("API request $1, parameter $2 is not $3",[n,i,"a boolean"])}else{if("string"!=typeof r)return u("API request $1, parameter $2 is not $3",[n,i,"a string"]);if(1!=t&&!t.test(r))return u("API request $1, parameter $2 is not $3",[n,i,"in the proper format"])}else if(e)return u("API request $1 missing parameter $2",[n,i]);return!1}}function P(e){var t={},t={session_id:N(!0,O),identity_id:N(!0,O),sdk:N(!0,1)};return y(e,t)}function Ba(e,t){return"#branch-banner-iframe { position: "+("top"==t?e?"fixed":"absolute":"fixed")+"; }\n"}function Ca(e,t){var n=".branch-banner-is-active { -webkit-transition: all 0.375s ease; transition: all 00.375s ease; }\n#branch-banner { width:100%; z-index: 99999; font-family: Helvetica Neue, Sans-serif; -webkit-font-smoothing: antialiased; -webkit-user-select: none; -moz-user-select: none; user-select: none; -webkit-transition: all 0.25s ease; transition: all 00.25s ease; }\n#branch-banner * { margin-right: 4px; position: relative; line-height: 1.2em; }\n#branch-banner-close { font-weight: 400; cursor: pointer; float: left; z-index: 2; }\n#branch-banner .content { width:100%; overflow: hidden; height: 76px; background: rgba(255, 255, 255, 0.95); color: #333; "+("top"==e.position?"border-bottom":"border-top")+': 1px solid #ddd; padding: 6px; }\n#branch-banner .icon { float: left; }\n#branch-banner .icon img { width: 63px; height: 63px; }\n#branch-banner .details { top: 50%; transform: translateY(-50%); float: left; position: absolute; left: 92px; }\n#branch-banner .details > * { display: block; }\n#branch-banner .right > div { float: right; }\n#branch-banner-action { top: 17px; }\n#branch-banner .content:after { content: ""; position: absolute; left: 0; right: 0; top: 100%; height: 1px; background: rgba(0, 0, 0, 0.2); }\n',i=B();"ios"!=i&&"ipad"!=i||!e.w?"android"==i&&e.v?n+="#branch-banner { position: absolute; }\n#branch-banner-close { margin-top: 22px; }\n#branch-banner .content .left { position: absolute; right: 100px; left: 4px; height: 63px; float: left; }\n#branch-banner .content .right { width: 100px; margin-top: -22px; right: 4px; top: 50%; position: absolute; height: 24px; float: right; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-banner .content .left .details { padding-right: 6px; left: 88px; position: absolute; }\n#branch-banner a { text-decoration: none; }\n#branch-mobile-action { top: 7px; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n#branch-banner-close { height:17px; width: 17px; text-align: center; font-size: 15px; border-radius:14px; border:0; line-height:14px; color:#b1b1b3; background:#efefef; }\n#branch-mobile-action { top: 2px; text-decoration:none; border-bottom: 3px solid #A4C639; padding: 0 10px; height: 24px; line-height: 24px; text-align: center; color: #fff; font-weight: bold; background-color: #A4C639; border-radius: 5px; }\n#branch-mobile-action:hover { border-bottom:3px solid #8c9c29; background-color: #c1d739; }\n":(n+="#branch-banner { position: fixed; min-width: 600px; }\n#branch-banner-close { color: #aaa; font-size: 24px; top: 14px; }\n#branch-banner-close:hover { color: #000; }\n#branch-banner .left, .right { width: 47%;  top: 0; float: left; }\n#branch-banner .title { font-size: 14px; }\n#branch-banner .description { font-size: 12px; font-weight: normal; }\n#branch-sms-block * { vertical-align: bottom; font-size: 15px; }\n#branch-sms-block { display: inline-block; }\n#branch-sms-phone { font-weight: 400; border-radius: 4px; height: 30px; border: 1px solid #ccc; padding: 5px 7px 4px; width: 145px; font-size: 14px; }\n#branch-sms-send { cursor: pointer; margin-top: 0px; font-size: 14px; display: inline-block; height: 30px; margin-left: 5px; font-weight: 400; border-radius: 4px; border: 1px solid #ccc; background: #fff; color: #000; padding: 0px 12px; }\n#branch-sms-send:hover { border: 1px solid #BABABA; background: #E0E0E0; }\n#branch-sms-phone:focus, button:focus { outline: none; }\n#branch-sms-phone.error { color: rgb(194, 0, 0); border-color: rgb(194, 0, 0); }\n#branch-banner .branch-icon-wrapper { width:25px; height: 25px; vertical-align: middle; display: inline-block; margin-top: -18px; }\n@keyframes branch-spinner { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\n@-webkit-keyframes branch-spinner { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\n#branch-spinner { -webkit-animation: branch-spinner 1s ease-in-out infinite; animation: branch-spinner 1s ease-in-out infinite; transition: all 0.7s ease-in-out; border:2px solid #ddd; border-bottom-color:#428bca; width:80%; height:80%; border-radius:50%; -webkit-font-smoothing: antialiased !important; }\n",n=window.ActiveXObject?n+"#branch-banner .checkmark { color: #428bca; font-size: 22px; }\n":n+"#branch-banner .checkmark { stroke: #428bca; stroke-dashoffset: 745.74853515625; stroke-dasharray: 745.74853515625; -webkit-animation: dash 2s ease-out forwards; animation: dash 2s ease-out forwards; }\n@-webkit-keyframes dash { 0% { stroke-dashoffset: 745.748535 15625; } 100% { stroke-dashoffset: 0; } }\n@keyframes dash { 0% { stroke-dashoffset: 745.74853515625; } 100% { stroke-dashoffset: 0; } }\n"):n+="#branch-banner { position: absolute; }\n#branch-banner-close { margin-top: 22px; }\n#branch-banner .content .left { position: absolute; right: 100px; left: 4px; height: 63px; float: left; }\n#branch-banner .content .right { width: 100px; margin-top: -22px; right: 4px; top: 50%; position: absolute; height: 24px; float: right; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-banner .content .left .details { padding-right: 6px; left: 88px; position: absolute; }\n#branch-banner a { text-decoration: none; }\n#branch-mobile-action { top: 7px; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n#branch-banner-close { margin-left: 4px; }\n#branch-mobile-action { top: 7px; }\n#branch-banner a { color: #428bca; }\n",n+=e.I,e.l&&(n+="body { margin: 0; }\n",i=document.createElement("style"),i.type="text/css",i.id="branch-iframe-css",i.innerHTML="body { -webkit-transition: all 0.375s ease; transition: all 00.375s ease; }\n#branch-banner-iframe { box-shadow: 0 0 1px rgba(0,0,0,0.2); width: 1px; min-width:100%; left: 0; right: 0; border: 0; height: 76px; z-index: 99999; -webkit-transition: all 0.25s ease; transition: all 00.25s ease; }\n"+(B()?Ba(e.R,e.position):Ba(e.J,e.position)),document.head.appendChild(i)),i=document.createElement("style"),i.type="text/css",i.id="branch-css",i.innerHTML=n,(e.l?t.contentWindow.document:document).head.appendChild(i),"top"==e.position?t.style.top="-76px":"bottom"==e.position&&(t.style.bottom="-76px")}function Da(e,t){return'<div class="content"><div class="left">'+(e.K?"":'<div id="branch-banner-close" class="branch-animation">&times;</div>')+'<div class="icon"><img src="'+e.icon+'"></div><div class="details"><div class="title">'+e.title+'</div><div class="description">'+e.description+'</div></div></div><div class="right" id="branch-banner-action">'+t+"</div></div>"}function Ea(e,t){var n='<div id="branch-sms-form-container">'+(B()?'<a id="branch-mobile-action" href="#" target="_parent">'+(t.get("has_app")?e.S:e.L)+"</a>":'<div class="branch-icon-wrapper" id="branch-loader-wrapper" style="opacity: 0;"><div id="branch-spinner"></div></div><div id="branch-sms-block"><form id="sms-form"><input type="phone" class="branch-animation" name="branch-sms-phone" id="branch-sms-phone" placeholder="'+e.T+'"><button type="submit" id="branch-sms-send" class="branch-animation">'+e.U+"</button></form></div>")+"</div>";if(e.l){var i=document.createElement("iframe");i.src="about:blank",i.style.overflow="hidden",i.scrolling="no",i.id="branch-banner-iframe",i.className="branch-animation",document.body.appendChild(i);var r=B(),n='<html><head></head><body class="'+("ios"==r||"ipad"==r?"branch-banner-ios":"android"==r?"branch-banner-android":"branch-banner-desktop")+'"><div id="branch-banner" class="branch-animation">'+Da(e,n)+"</body></html>";i.contentWindow.document.open(),i.contentWindow.document.write(n),i.contentWindow.document.close()}else i=document.createElement("div"),i.id="branch-banner",i.className="branch-animation",i.innerHTML=Da(e,n),document.body.appendChild(i);return n=i}function Fa(e,t,n,i){function r(){o(),c.style.background="#FFD4D4",l.className="error",setTimeout(function(){c.style.background="#FFFFFF",l.className=""},2e3)}function s(){a=e.createElement("div"),a.className="branch-icon-wrapper",a.id="branch-checkmark",a.style="opacity: 0;",a.innerHTML=window.ActiveXObject?'<span class="checkmark">&#x2713;</span>':'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 98.5 98.5" enable-background="new 0 0 98.5 98.5" xml:space="preserve"><path class="checkmark" fill="none" stroke-width="8" stroke-miterlimit="10" d="M81.7,17.8C73.5,9.3,62,4,49.2,4C24.3,4,4,24.3,4,49.2s20.3,45.2,45.2,45.2s45.2-20.3,45.2-45.2c0-8.6-2.4-16.6-6.5-23.4l0,0L45.6,68.2L24.7,47.3"/></svg>',d.appendChild(a),c.style.opacity="0",l.style.opacity="0",u.style.opacity="0",setTimeout(function(){a.style.opacity="1"},20),l.value=""}function o(){c.removeAttribute("disabled"),l.removeAttribute("disabled"),c.style.opacity="1",l.style.opacity="1",u.style.opacity="0"}var a,l=e.getElementById("branch-sms-phone"),c=e.getElementById("branch-sms-send"),u=e.getElementById("branch-loader-wrapper"),d=e.getElementById("branch-sms-form-container");if(l){var h=l.value;/^\d{7,}$/.test(h.replace(/[\s()+\-\.]|ext/gi,""))?(R(t,"willSendBannerSMS"),c.setAttribute("disabled",""),l.setAttribute("disabled",""),c.style.opacity=".4",l.style.opacity=".4",u.style.opacity="1",l.className="",t.sendSMS(h,i,n,function(e){e?(R(t,"sendBannerSMSError"),r()):(R(t,"didSendBannerSMS"),s(),setTimeout(function(){d.removeChild(a),o()},3e3))})):r()}}function Ga(e,t,n,i){if(ia(i,t)){R(e,"willShowBanner");var r=Ea(t,i);Ca(t,r),n.channel=n.channel||"app banner";var s=t.l?r.contentWindow.document:document;if(B()){var o=S(e);o&&!t.make_new_link?s.getElementById("branch-mobile-action").href=o:e.link(n,function(e,t){e||(s.getElementById("branch-mobile-action").href=t)})}else s.getElementById("sms-form").addEventListener("submit",function(i){i.preventDefault(),Fa(s,e,t,n)});var o=I("margin-top"),a=document.body.style.marginTop,l=I("margin-bottom"),c=document.body.style.marginBottom,u=s.getElementById("branch-banner-close"),d=function(e){setTimeout(function(){r&&r.parentNode.removeChild(r);var t=document.getElementById("branch-css");t&&t.parentNode.removeChild(t),e()},270),setTimeout(function(){"top"==t.position?document.body.style.marginTop=a:"bottom"==t.position&&(document.body.style.marginBottom=c);var e=document.body;H(e)&&(e.className=e.className.replace(/(\s|^)branch-banner-is-active(\s|$)/," "))},20),"top"==t.position?r.style.top="-76px":"bottom"==t.position&&(r.style.bottom="-76px"),"number"==typeof t.o?i.set("hideBanner",ha(t.o)):i.set("hideBanner",!0)};return u&&(u.onclick=function(t){t.preventDefault(),R(e,"willCloseBanner"),d(function(){R(e,"didCloseBanner")})}),ga(),"top"==t.position?document.body.style.marginTop=J(o):"bottom"==t.position&&(document.body.style.marginBottom=J(l)),setTimeout(function(){"top"==t.position?r.style.top="0":"bottom"==t.position&&(r.style.bottom="0"),R(e,"didShowBanner")},20),d}R(e,"willNotShowBanner")}function U(e,t,n){return function(){var i,r,s=this,o=arguments[arguments.length-1];0===e||"function"!=typeof o?(r=function(e){if(e)throw e},i=Array.prototype.slice.call(arguments)):(i=Array.prototype.slice.call(arguments,0,arguments.length-1)||[],r=o),s.G(function(o){function a(t,n){if(t&&0===e)throw t;1===e?r(t):2===e&&r(t,n),o()}if(!n){if(1==s.h)return a(Error(u("Branch SDK initialization pending and a Branch method was called outside of the queue order")),null);if(2==s.h)return a(Error(u("Branch SDK initialization failed, so further methods cannot be called")),null);if(0==s.h||!s.h)return a(Error(u("Branch SDK not initialized")),null)}i.unshift(a),t.apply(s,i)})}}function V(){if(!(this instanceof V))return T||(T=new V),T;this.G=ba();var e=[],e=B()?["local","permcookie"]:["session","cookie"];e.push("pojo"),this.g=new C(e),this.H=new K,this.j=[],this.B="web"+h.version,this.h=0}function W(e,t,n,i){e.A&&(n.app_id=e.A),e.C&&(n.branch_key=e.C),(t.a&&t.a.session_id||t.c&&t.c.session_id)&&e.F&&(n.session_id=e.F),(t.a&&t.a.identity_id||t.c&&t.c.identity_id)&&e.u&&(n.identity_id=e.u),(t.a&&t.a.link_click_id||t.c&&t.c.link_click_id)&&e.M&&(n.link_click_id=e.M),(t.a&&t.a.sdk||t.c&&t.c.sdk)&&e.B&&(n.sdk=e.B),ma(e.H,t,n,e.g,function(e,t){i(e,t)})}function S(e){var t=e.g.get("referring_link");return e=e.g.get("click_id"),t?t:e?h.m+"/c/"+e:null}function R(e,t){e.j.forEach(function(e){(e.event&&e.event==t||!e.event)&&e.listener(t)})}var h={m:"https://bnc.lt",f:"https://api.branch.io",version:"1.6.1"},r={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},da=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;C.prototype.local=function(){return F(!0)},C.prototype.session=function(){return F(!1)},C.prototype.cookie=function(){return G(!1)},C.prototype.permcookie=function(){return G(!0)},C.prototype.pojo={s:function(){return this.i},get:function(e){return"undefined"!=typeof this.i[e]?this.i[e]:null},set:function(e,t){this.i[e]=t},remove:function(e){delete this.i[e]},clear:function(){this.i={}},isEnabled:function(){return!0}},C.prototype.titanium={s:function(){for(var e={},t=Ti.App.Properties.P(),n=0;n<t.length;n++)-1!=t[n].indexOf("BRANCH_WEBSDK_KEY")&&(e[t[n]]=E(Ti.App.Properties.getString(t[n])));return e},get:function(e){Ti.App.Properties.getString(D(e))},set:function(e,t){Ti.App.Properties.setString(D(e),t)},remove:function(e){Ti.App.Properties.setString(D(e),"")},clear:function(){for(var e=Ti.App.Properties.P(),t=0;t<e.length;t++)-1!=e[t].indexOf("BRANCH_WEBSDK_KEY")&&Ti.App.Properties.setString(e[t],"")},isEnabled:function(){try{return Ti.App.Properties.setString("test",""),Ti.App.Properties.getString("test"),!0}catch(e){return!1}}},K.prototype.j=0;var O=/^[0-9]{15,20}$/,na={destination:h.f,b:"/v1/open",method:"POST",a:{identity_id:N(!1,O),link_identifier:N(!1,1),is_referrable:N(!0,2),sdk:N(!1,1),browser_fingerprint_id:N(!0,O)}},oa={destination:h.m,b:"/_r",method:"GET",N:!0,a:{sdk:N(!0,1)}},pa={destination:h.m,b:"",method:"GET",c:{link_url:N(!0,1)},a:{click:N(!0,1)}},qa={destination:h.m,b:"/c",method:"POST",c:{link_url:N(!0,1)},a:{sdk:N(!1,1),phone:N(!0,1)}},ra={destination:h.f,b:"/v1/referralcode",method:"POST",a:P({prefix:N(!1,1),amount:N(!0,2),expiration:N(!1,1),calculation_type:N(!0,2),location:N(!0,2),creation_type:N(!0,2),type:N(!0,1),bucket:N(!1,1)})},sa={destination:h.f,b:"/v1/referralcode",method:"POST",c:{code:N(!0,1)},a:P({})},ta={destination:h.f,b:"/v1/applycode",method:"POST",c:{code:N(!0,1)},a:P({})},ua={destination:h.f,b:"/v1/logout",method:"POST",a:P({session_id:N(!0,O)})},va={destination:h.f,b:"/v1/profile",method:"POST",a:P({identity_id:N(!0,O),identity:N(!0,1)})},wa={destination:h.f,b:"/v1/referrals",method:"GET",c:{identity_id:N(!0,O)},a:P({})},xa={destination:h.f,b:"/v1/credithistory",method:"GET",a:P({link_click_id:N(!1,O),length:N(!1,2),direction:N(!1,2),begin_after_id:N(!1,O),bucket:N(!1,1)})},ya={destination:h.f,b:"/v1/credits",method:"GET",c:{identity_id:N(!0,O)},a:P({})},za={destination:h.f,b:"/v1/redeem",method:"POST",a:P({identity_id:N(!0,O),amount:N(!0,2),bucket:N(!0,1)})},Q={destination:h.f,b:"/v1/url",method:"POST",aa:"obj",a:P({identity_id:N(!0,O),data:N(!1,1),tags:N(!1,3),feature:N(!1,1),campaign:N(!1,1),channel:N(!1,1),stage:N(!1,1),type:N(!1,2),alias:N(!1,1)})},Aa={destination:h.f,b:"/v1/event",method:"POST",a:P({event:N(!0,1),metadata:N(!0,0)})},T;V.prototype.init=U(2,function(e,i){function r(t,i){i&&(i=s(i),a.g.set("branch_session",n(i)),a.h=3,i.data_parsed=i.data?m(i.data):null),t&&(a.h=2),a.O&&setTimeout(function(){a.O=!1},2e3),e(t,i&&w(i))}function s(e){return e.session_id&&(a.F=e.session_id.toString()),e.identity_id&&(a.u=e.identity_id.toString()),e.link&&(a.V=e.link),e.referring_link&&(e.referring_link="http"!=e.referring_link.substring(0,4)?"https://bnc.lt"+e.referring_link:e.referring_link),!e.click_id&&e.referring_link&&(e.click_id=e.referring_link.substring(e.referring_link.lastIndexOf("/")+1,e.referring_link.length)),e}var o,a=this;a.h=1,-1<i.indexOf("key_")?a.C=i:a.A=i;var l=t(a.g);if(l&&l.session_id)r(null,l);else{var c;e:{try{c=window.location.search.substring(1).match(/_branch_match_id=([^&]*)/)[1];break e}catch(u){}c=void 0}if(!(l=c))e:{try{l=window.location.hash.match(/r:([^&]*)/)[1];break e}catch(d){}l=void 0}o=l,W(a,oa,{sdk:h.version},function(e,t){return e?r(e,null):void W(a,na,{link_identifier:o,is_referrable:1,browser_fingerprint_id:t},function(e,t){t&&o&&(t.click_id=o),r(e,t)})})}},!0),V.prototype.data=U(2,function(e){var n=w(t(this.g));n.referring_link=S(this),e(null,n)}),V.prototype.setIdentity=U(2,function(e,t){var n=this;W(this,va,{identity:t},function(t,i){i=i||{},n.u=i.identity_id.toString(),n.V=i.link,n.Z=i.identity,i.referring_data_parsed=i.referring_data?m(i.referring_data):null,e(null,i)})}),V.prototype.logout=U(1,function(e){W(this,ua,{},e)}),V.prototype.track=U(1,function(e,t,n){n||(n={}),W(this,Aa,{event:t,metadata:y({url:document.URL,user_agent:navigator.userAgent,language:navigator.language},n||{})},e)}),V.prototype.link=U(2,function(e,t){W(this,Q,x(t),function(t,n){e(t,n&&n.url)})}),V.prototype.sendSMS=U(1,function(e,t,n,i){function r(n){W(s,qa,{link_url:n,phone:t},e)}var s=this;"function"==typeof i?i={}:"undefined"!=typeof i&&null!==i||(i={}),i.make_new_link=i.make_new_link||!1,n.channel&&"app banner"!=n.channel||(n.channel="sms");var o=S(s);o&&!i.make_new_link?r(o.substring(o.lastIndexOf("/")+1,o.length)):W(s,Q,x(n),function(t,n){return t?e(t):void W(s,pa,{link_url:"l/"+n.url.split("/").pop(),click:"click"},function(t,n){return t?e(t):(s.g.set("click_id",n.click_id),void r(n.click_id))})})}),V.prototype.referrals=U(2,function(e){W(this,wa,{},e)}),V.prototype.getCode=U(2,function(e,t){t.type="credit",t.Y=2,W(this,ra,t,e)}),V.prototype.validateCode=U(1,function(e,t){W(this,sa,{code:t},e)}),V.prototype.applyCode=U(1,function(e,t){W(this,ta,{code:t},e)}),V.prototype.credits=U(2,function(e){W(this,ya,{},e)}),V.prototype.creditHistory=U(2,function(e,t){W(this,xa,t||{},e)}),V.prototype.redeem=U(1,function(e,t,n){W(this,za,{amount:t,bucket:n},e)}),V.prototype.addListener=function(e,t){"function"==typeof e&&void 0==t&&(t=e),t&&this.j.push({listener:t,event:e||null})},V.prototype.removeListener=function(e){e&&(this.j=this.j.filter(function(t){if(t.listener!==e)return t}))},V.prototype.banner=U(0,function(e,t,n){"undefined"==typeof t.forgetHide&&"undefined"!=typeof t.forgetHide&&(t.forgetHide=t.forgetHide);var i={icon:t.icon||"",title:t.title||"",description:t.description||"",S:t.openAppButtonText||"View in app",L:t.downloadAppButtonText||"Download App",U:t.sendLinkText||"Send Link",T:t.phonePreviewText||"(999) 999-9999",l:"undefined"==typeof t.iframe||t.iframe,w:"undefined"==typeof t.showiOS||t.showiOS,X:"undefined"==typeof t.showiPad||t.showiPad,v:"undefined"==typeof t.showAndroid||t.showAndroid,W:"undefined"==typeof t.showDesktop||t.showDesktop,K:!!t.disableHide,o:"number"==typeof t.forgetHide?t.forgetHide:!!t.forgetHide,position:t.position||"top",I:t.customCSS||"",R:"undefined"!=typeof t.mobileSticky&&t.mobileSticky,J:"undefined"==typeof t.desktopSticky||t.desktopSticky,$:!!t.make_new_link};"undefined"!=typeof t.showMobile&&(i.w=i.v=t.showMobile),this.D=Ga(this,i,n,this.g),e()}),V.prototype.closeBanner=U(0,function(e){if(this.D){var t=this;R(this,"willCloseBanner"),this.D(function(){R(t,"didCloseBanner")})}e()});var X=new V;if(window.branch&&window.branch._q)for(var Ha=window.branch._q,Z=0;Z<Ha.length;Z++){var Ia=Ha[Z];X[Ia[0]].apply(X,Ia[1])}__WEBPACK_AMD_DEFINE_RESULT__=function(){return X}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),window&&(window.branch=X)}(),module.exports=window.branch},594:function(e,t){var n="/ng/directives/common/forms/form-alert.ng-template.html",i="<p ng-bind-html=error.message ng-class=\"'alert-' + (error.type || 'warning')\" class=alert></p>";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},599:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},604:function(e,t,n){var i,r;i=[n(2),n(168),n(676)],r=function(e,t){function n(){this.create=function(){return new i}}function i(){var t={};this.set=function(n){e.replaceProperties(this,n),t=n},this.clear=function(){this.set({})},this.reset=function(){e.replaceProperties(this,t)}}function r(t,n){this.loadForCourseIdAndUserId=function(e,i,r){var s={courseId:e,"fields[course_review]":"@min,location",user:i};return r&&(s["fields[course_review]"]+=",response"),n.get(s).$promise.then(function(e){return e.results.length>0?t.when(e.results[0]):t.reject()})},this.save=function(t,i){var r={courseId:i,"fields[course_review]":"@min"},s="save";return t.id&&(e.extend(r,{reviewId:t.id}),s="update"),n[s](r,{rating:parseFloat(t.rating),title:t.title,content:t.content,location:t.location}).$promise},this["delete"]=function(e,t){return n["delete"]({reviewId:e.id,courseId:t}).$promise}}var s=e.module("directives.common.review.reviewService",[t.name]).service("courseReviewStateFactory",n).service("courseReviewState",i).service("courseReviewService",r);return r.$inject=["$q","CourseReview"],s}.apply(t,i),!(void 0!==r&&(e.exports=r))},605:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"E",replace:!0,templateUrl:I["default"],scope:{course:"=",isInstructor:"=",showStarLabel:"=",showSmallStarLabel:"=",isEnabled:"=?",eventSourcePage:"@",autoLoad:"=?",autoOpenPopup:"=?",isInCourseReview:"=?",courseReviewStateShared:"=?",starWithLabels:"=?"},controller:"ReviewDirectiveController"}}function s(e,t,n,i,r,s,o,l,u,h){function p(){return e.eventSourcePage&&e.eventSourcePage.split(" ").join("_").toLowerCase()}function f(t,n){a["default"].equals({},t)&&t===n||e.course.id&&(m(),k())}function m(){e.reviewLink=e.course.id?"/home/teaching/reviews/?course="+e.course.id:"",l.loadForCourseIdAndUserId(e.course.id,D["default"].id,!e.isInCourseReview).then(function(t){b(t),n(function(){e.isEditMode=!!e.isInCourseReview})},function(){if(e.showReview){var t=Number(P[1]);t>0&&t<6&&(e.courseReview.rating=t)}})}function g(t,n){a["default"].equals({},t)&&t===n||e.course.review&&b(e.course.review)}function v(){y()}function y(){n(function(){e.courseReview.reset()})}function b(t){e.eventSourcePage?t.location=p():t.location=e.courseReview.location,
e.courseReview.set(t)}function w(){e.isInCourseReview?(e.setStage("completed"),n(function(){e.$emit("reviewCompleted")},2e3)):C(E)}function _(e){d["default"].Feedback.fromText(e,"error")}function C(e){d["default"].Feedback.fromText(e)}var k;e.autoLoad=!a["default"].isDefined(e.autoLoad)||e.autoLoad,e.isUfbUser=x["default"].brand.has_organization,e.surveyDirectiveActions={},e.popUpOpen=!1;var A=null;e.isUfbUser||void 0===u.getValue("stars_have_labels")?e.starsWithLabels=!0:(e.starsWithLabels=u.getValue("stars_have_labels"),A=e.starsWithLabels?h.labels:h.no_labels),e.courseReviewStateShared?(e.courseReview=s,e.courseReview.set(e.courseReview)):e.courseReview=o.create(),e.eventSourcePage&&(e.courseReview.location=p()),e.isEditMode=!0,e.courseReview.rating?e.reviewStage="feedback":e.reviewStage="rating",e.$watch("isEnabled",function(t){e.showReviewsContainer=x["default"].brand.is_add_reviews_enabled&&(e.isInstructor||void 0==e.course.features||e.course.features.reviews_view)&&t}),e.$watch("courseReview.rating",function(t,n){!t||n&&parseInt(n,10)==parseInt(t,10)||(e.isEditMode=!0),t&&"rating"==e.reviewStage&&e.setStage("feedback")});var E=i.getString("Your review has been submitted."),S=i.getString("Error happened while saving your review. Please submit your review again."),T=i.getString("It looks like you forgot to choose a star rating. Please click on a star and submit your review again."),$=i.getString("Error happened while deleting your review. Please try again."),B=i.getString("Are you sure you want to delete your review?"),M=t.absUrl(),P=new RegExp(/rating=([1-5]\.?(0|5)?)/).exec(M);e.showReview=null!==P,e.autoLoad?e.courseReview.id||(e.course.id?m():k=e.$watch("course",f)):e.$watch("course.review",g),e.getMode=function(t){return t=!!t,e.isInstructor?"disabled":e.courseReview.id?t?e.isEditMode?"edit":"standby":"edit":"add"};var L=function(){l.save(e.courseReview,e.course.id).then(function(t){b(t),"survey"!==e.reviewStage?e.isInCourseReview?(e.setStage("survey"),e.enableEditMode()):e.surveyDirectiveActions.save().then(w.bind(this))["catch"](_.bind(this,S)):w()},_.bind(this,S))};e.saveReview=function(){e.disableEditMode();var t=e.getMode();"edit"==t?e.updateReview():"add"==t&&e.submitNewReview()},e.submitNewReview=function(){return"undefined"==typeof e.courseReview.rating?(_(T),void e.enableEditMode()):(e.sendGoogleAnalyticsEvent("create"),void L())},e.updateReview=function(){e.sendGoogleAnalyticsEvent("update"),L()},e.deleteReview=function(){r(B).then(function(){e.disableEditMode(),e.sendGoogleAnalyticsEvent("delete"),l["delete"](e.courseReview,e.course.id).then(function(){e.courseReview.clear()},_.bind(this,$))})},e.showSaveError=function(){_.bind(this,S)()},e.saveSurvey=function(){e.disableEditMode();var t=e.surveyDirectiveActions.save()["catch"](_.bind(this,S));t.then(e.saveReview)},e.sendGoogleAnalyticsEvent=function(t){var n={location:e.courseReview.location};A&&(n.experiment_variant_id=A),F["default"].track("coursetaking","Review",t,null,null,n,{objectType:"review",objectId:e.courseReview.id})},e.openReviewPopup=function(t,i){t&&t.preventDefault(),e.popUpOpen=!0,i?e.isEditMode=!e.courseReview.id:e.courseReview.rating&&!e.courseReview.content&&e.enableEditMode(),e.sendGoogleAnalyticsEvent("visit"),c["default"].ud.ud_popup.prototype.open({href:"#dashboard-reviews-popup-"+e.course.id,type:"inline",afterClose:n.bind(this,v)})},e.skipFeedback=function(){"survey"===e.reviewStage?e.cancelReview():(y(),e.setStage("survey"))},e.cancelReview=function(){e.sendGoogleAnalyticsEvent("cancel"),e.isInCourseReview?(y(),e.enableEditMode(),e.$emit("reviewCompleted")):(c["default"].ud.ud_popup.prototype.close(),e.disableEditMode())},e.enableEditMode=function(){e.isEditMode=!0},e.disableEditMode=function(){e.isEditMode=!1},e.setStage=function(t){e.reviewStage=t},e.autoOpenPopup&&n(function(){e.openReviewPopup(null,!1)})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),l=n(3),c=i(l);n(24);var u=n(498),d=i(u),h=n(557),p=i(h),f=n(670),m=i(f),g=n(174),v=i(g),y=n(511),b=i(y),w=n(168),_=i(w),C=n(12),k=i(C),A=n(46),E=i(A),S=n(14),x=i(S),T=n(501),F=i(T),$=n(16),D=i($),B=n(508),M=i(B),P=n(604),L=i(P),j=n(669),O=i(j),R=n(693),I=i(R);t["default"]=a["default"].module("directives.common.review.review",[k["default"].name,E["default"].name,b["default"].name,_["default"].name,O["default"].name,L["default"].name,v["default"].name,M["default"].name,m["default"].name,p["default"].name]).constant("EXPERIMENT_VARIANT_IDS",function(){var e=null;return e="PROD"==x["default"].env?{labels:562,no_labels:564}:{labels:718,no_labels:720}}()).controller("ReviewDirectiveController",["$scope","$location","$timeout","gettextCatalog","udConfirm","courseReviewState","courseReviewStateFactory","courseReviewService","ExperimentService","EXPERIMENT_VARIANT_IDS",s]).directive("review",["courseReviewService",r])},607:function(e,t,n){var i,r;i=[n(2),n(172),n(547),n(530),n(674),n(503),n(675),n(174),n(582),n(521)],r=function(e,t,n,i,r,s,o,a,l,c){return e.module("filters",[t.name,n.name,i.name,r.name,s.name,o.name,a.name,l.name,c.name])}.apply(t,i),!(void 0!==r&&(e.exports=r))},636:function(e,t,n){var i,r;(function(s){"use strict";i=[n(499)],r=function(e){var t=e.getComponent("Component"),n=e.getComponent("Button"),i=e.extend(n,{constructor:function(e,i){n.call(this,e,i),this.el().className="btn btn-sm btn-control vjs-add-bookmark-button",this.el().appendChild(t.prototype.createEl("i",{className:"ud_icon-bookmark-add"})),this.el().appendChild(t.prototype.createEl("span",{className:"btn-control__label",innerHTML:e.localize("Add Bookmark")})),this.off("click").on("click",function(){e.addBookmark(e.currentTime())})}});e.registerComponent("AddBookmarkButton",i);var r=e.extend(t,{constructor:function(e,n){this.savedContent=n.content,this._charLimit=140,this._placeholderOnBlur=e.localize("Click to add a comment."),this._placeholderOnFocus=e.localize("Add a comment or hit 'Enter'."),this._addedContent=!1,n.time=parseFloat(n.time),n.el=this._createEl(e,n),t.call(this,e,n);var i=this;this.el().addEventListener("click",function(){i.focusInput(),i.player().trigger({type:"bookmarkclick",bookmark:i})}),this.el().addEventListener("mouseenter",this.resetClosedInput.bind(this))},_createEl:function(e,n){this._createInputEl(n),this._createDeleteEl(),this._checkEl=t.prototype.createEl("span",{className:"ud_icon-check"}),this._contentEl=t.prototype.createEl("div",{className:"vjs-bookmark__content"}),this._contentEl.appendChild(t.prototype.createEl("span",{className:"ud_icon-bookmark"})),this._contentEl.appendChild(this._inputEl),this._contentEl.appendChild(this._inputPlaceholderEl),this._contentEl.appendChild(this._counterEl),this._contentEl.appendChild(this._deleteEl),this._contentEl.appendChild(this._checkEl),this._contentEl.addEventListener("mousedown",function(e){e.stopPropagation()});var i=t.prototype.createEl("div",{className:"vjs-bookmark"}),r=e.duration()||e.options_.duration||0,s=(n.time/r*100).toFixed(2);s>50&&(this._contentEl.style.left="-100%"),i.style.left=s+"%";var o=t.prototype.createEl("div");return o.appendChild(this._contentEl),i.appendChild(o),i},_createInputEl:function(e){this._inputEl=t.prototype.createEl("textarea",{value:e.content||"",maxLength:this._charLimit}),this._inputPlaceholderEl=t.prototype.createEl("span",{className:"vjs-bookmark__content__placeholder",innerHTML:this._placeholderOnBlur}),this._counterEl=t.prototype.createEl("span",{className:"vjs-bookmark__content__counter"}),this._inputEl.addEventListener("focus",function(){this.selectionStart=this.selectionEnd=this.value.length}),this._inputEl.addEventListener("blur",this.blurInput.bind(this)),this._inputEl.addEventListener("keydown",function(e){var t=e.keyCode?e.keyCode:e.which?e.which:e.charCode;13===t?this.closeInput():27===t?void 0===this.savedContent?this.deleteEl():(s(this._inputEl).val(this.savedContent),this.updateInputValue(),this.canceled=!0,this.closeInput()):this._addedContent===!1&&(this.player().trigger({type:"bookmarkcontent",bookmark:this}),this._addedContent=!0)}.bind(this)),this._inputEl.addEventListener("input",this.updateInputValue.bind(this))},_createDeleteEl:function(){this._deleteEl=t.prototype.createEl("span",{className:"ud_icon-delete"}),this._deleteEl.addEventListener("click",function(){this.player().trigger({type:"bookmarkdelete",bookmark:this}),this.deleteEl()}.bind(this))},deleteEl:function(){setTimeout(this.el().parentNode.removeChild.bind(this.el().parentNode,this.el()),2e3),this.deleted=!0,delete this.player().bookmarks[Math.floor(this.options_.time)],this.closeInput()},getData:function(){return{id:this.options_.id,content:this._inputEl.value,time:this.options_.time}},setId:function(e){this.options_.id=e},focusInput:function(){this.deleted||(this.el().classList.remove("vjs-bookmark--closed","vjs-bookmark--save","vjs-bookmark--saving","vjs-bookmark--delete"),clearTimeout(this.timer),this.animating=!1,this.timer=void 0,this.el().classList.add("vjs-bookmark--focus"),this._inputPlaceholderEl.innerHTML=this._placeholderOnFocus,this.adjustInputHeight(),document.activeElement!==this._inputEl&&(this._inputEl.focus(),setTimeout(this._inputEl.focus.bind(this._inputEl),100)),this._playerWasPaused=this.player().paused(),this.player().pause(),this.player().trigger("bookmarkfocus"))},blurInput:function(){this.timer=setTimeout(this.closeInput.bind(this),100)},closeInput:function(){if(!this.animating)return clearTimeout(this.timer),this._inputPlaceholderEl.innerHTML=this._placeholderOnBlur,this.adjustInputHeight(),document.activeElement===this._inputEl&&this._inputEl.blur(),this._playerWasPaused?this.player().pause():this.player().play(),this.player().trigger("bookmarkblur"),this.deleted?void this.el().classList.add("vjs-bookmark--delete"):void this.doAnimate()},doAnimate:function(){function e(){t.el().classList.add("vjs-bookmark--closed"),t.el().classList.remove("vjs-bookmark--focus","vjs-bookmark--save","vjs-bookmark--saving"),t.timer=void 0,t.animating=!1}var t=this;this.animating=!0,this.canceled||this.savedContent&&this.savedContent===this.getData().content?(this.el().classList.add("vjs-bookmark--saving"),this.timer=setTimeout(e,1e3)):(this.el().classList.add("vjs-bookmark--save"),this.timer=setTimeout(function(){t.el().classList.add("vjs-bookmark--saving"),t.timer=setTimeout(e,1e3)},500),this.savedContent=this.getData().content,this.player().trigger({type:"bookmarksubmit",bookmark:this})),this.canceled=!1},resetClosedInput:function(){this.adjustInputHeight(),this.el().classList.remove("vjs-bookmark--closed")},updateInputValue:function(){this._inputEl.value.length&&"none"!==this._inputPlaceholderEl.style.display?this._inputPlaceholderEl.style.display="none":this._inputEl.value.length||"none"!==this._inputPlaceholderEl.style.display||(this._inputPlaceholderEl.style.display="inline");var e=this._charLimit-this._inputEl.value.length;this._counterEl.innerHTML=Math.max(e,0),this.adjustInputHeight()},adjustInputHeight:function(){this._inputEl.style.height="",0===this._inputEl.value.length?this._inputEl.style.height=this._inputPlaceholderEl.scrollHeight+"px":this._inputEl.style.height=this._inputEl.scrollHeight+"px"}});e.registerComponent("Bookmark",r),e.plugin("bookmark",function(e){var t=this;t.bookmarks={},t.addBookmark=function(e,n,i){var s=Math.floor(e);if(!t.bookmarks[s]){var o=t.controlBar.progressControl.seekBar.el(),a=new r(t,{id:i,time:e,content:n});t.bookmarks[s]=a,o.appendChild(a.el()),a.updateInputValue(),this.player().trigger({type:"bookmarkopen",bookmark:this})}return i||t.bookmarks[s].focusInput(),t.bookmarks[s]},t.ready(function(){t.controlBar.customControlSpacer.addChild(new i(t,e))})})}.apply(t,i),!(void 0!==r&&(e.exports=r))}).call(t,n(3))},637:function(e,t,n){var i,r;i=[n(499),n(554)],r=function(e){function t(e,t){return e.preventDefault(),t.paused()?(t.play(),"play"):(t.pause(),"pause")}function n(e,t,n){return e.preventDefault(),e.shiftKey&&t.speedDown?(t.speedDown(),"speeddown"):t.seekBackward?(t.seekBackward(n.seekStep),"rewind"):void 0}function i(e,t,n){return e.preventDefault(),e.shiftKey&&t.speedUp?(t.speedUp(),"speedup"):t.seekForward?(t.seekForward(n.seekStep),"forward"):void 0}function r(e,t,n){return e.preventDefault(),t.volume(t.volume()-n.volumeStep),"volume"}function s(e,t,n){return e.preventDefault(),t.volume(t.volume()+n.volumeStep),"volume"}function o(e,t,n){if(n.enableMute)return t.muted()?(t.muted(!1),"unmute"):(t.muted(!0),"mute")}function a(e,t,n){if(n.enableFullscreen)return t.isFullscreen()?(t.exitFullscreen(),"exitfullscreen"):(t.requestFullscreen(),"enterfullscreen")}function l(e,t,n){if((e.which>47&&e.which<59||e.which>95&&e.which<106)&&n.enableNumbers){e.preventDefault();var i=e.which>95?96:48;t.currentTime(t.duration()*(e.which-i)*.1)}}var c={volumeStep:.1,seekStep:15,enableMute:!0,enableFullscreen:!0,enableNumbers:!0},u={13:t,32:t,37:n,39:i,40:r,38:s,77:o,70:a},d=function(t){var n=this,i=n.el(),r=!1;t=e.mergeOptions(c,t),i.hasAttribute("tabIndex")||i.setAttribute("tabIndex","-1"),n.on("play",function(){var e=i.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")});var s=function(e){if(n.controls()){var s=e.relatedTarget||e.toElement||document.activeElement;if(s===i||s===i.querySelector(".vjs-tech")||s===i.querySelector(".vjs-control-bar")||s===i.querySelector(".iframeblocker")){r=!0;var o=(u[e.which]||l)(e,n,t);o&&n.trigger({type:"keyuphotkey",keyCode:e.which,keyAction:o})}}},o=function(e){if(n.controls()){var r=e.relatedTarget||e.toElement||document.activeElement;r!==i&&r!==i.querySelector(".vjs-tech")&&r!==i.querySelector(".iframeblocker")||t.enableFullscreen&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen())}};return n.on("keyup",s),n.on("dblclick",o),n.isHotkeyPressed=function(){return r},n.resetHotkeyPressed=function(){r=!1},n};e.plugin("hotkeys",d)}.apply(t,i),!(void 0!==r&&(e.exports=r))},638:function(e,t,n){var i,r;i=[n(499)],r=function(e){function t(e,t){for(var n,r,s,o=e.controlBar.progressControl.seekBar.el(),a=i.prototype.createEl("div",{className:"vjs-intervals"}),l=100,c=0;c<t.slides.length;c++)n=c===t.slides.length-1?l:Math.floor((t.slides[c+1].time-t.slides[c].time)/t.length*100),l-=n,r=i.prototype.createEl("div",{className:"vjs-interval"}),r.style.width=n+"%",s=i.prototype.createEl("div"),s.appendChild(i.prototype.createEl("img",{src:t.slides[c].url})),r.appendChild(s),a.appendChild(r);o.insertBefore(a,o.lastChild)}function n(e){var t=i.prototype.createEl("div",{className:"mashup-window-overlay"});return t.addEventListener("mouseenter",function(){this.classList.add("active-on-hover");for(var t=e.el().getElementsByClassName("mashup-window-content"),n=0;n<t.length;n++)t[n].style.opacity=1}),t.addEventListener("mouseleave",function(){this.classList.remove("active-on-hover");for(var t=e.el().getElementsByClassName("mashup-window-content"),n=0;n<t.length;n++)t[n].style.opacity=.5}),t.addEventListener("click",function(){e.slideWindow.el().classList.contains("mashup-window-content")?e.slideWindow.minimizeVideo():e.slideWindow.minimizeSlide()}),t}var i=e.getComponent("Component"),r={slides:[],length:0},s=e.extend(i,{constructor:function(t,n){var r=i.prototype.createEl("div",{className:"vjs-slide-window"});this.imageEl=i.prototype.createEl("img",{src:n.slides[0].url}),r.appendChild(this.imageEl),r.addEventListener("click",function(){t.paused()?t.play():t.pause()}),n=e.mergeOptions({el:r},n),i.call(this,t,n),this.slideNumber_=0,this.on(t,"timeupdate",this.updateSlide),this.slides=this.options_.slides}});s.prototype.minimizeVideo=function(){var e=this.el(),t=this.player().el().getElementsByClassName("vjs-tech")[0],n=this.player().el().getElementsByClassName("vjs-poster")[0];e.classList.remove("mashup-window-content"),e.style.opacity=1,t.classList.add("mashup-window-content"),n.classList.add("mashup-window-content")},s.prototype.minimizeSlide=function(){var e=this.el(),t=this.player().el().getElementsByClassName("vjs-tech")[0],n=this.player().el().getElementsByClassName("vjs-poster")[0];e.classList.add("mashup-window-content"),e.style.opacity=.5,t.classList.remove("mashup-window-content"),n.classList.remove("mashup-window-content")},s.prototype.updateSlide=function(){var e,t,n=Math.round(this.player().scrubbing?this.player().getCache().currentTime:this.player().currentTime());for(e=0;e<this.slides.length&&!(n<this.slides[e].time);e++);t=Math.max(0,e-1),t!==this.slideNumber_&&(this.slideNumber_=t,this.imageEl.setAttribute("src",this.slides[this.slideNumber_].url),this.minimizeVideo())},e.registerComponent("SlideWindow",s),e.plugin("mashup",function(i){var o=this;i=e.mergeOptions(r,i),o.ready(function(){t(o,i),o.el().appendChild(n(o)),o.slideWindow=new s(o,i),o.slideWindow.minimizeVideo(),o.addChild(o.slideWindow)})})}.apply(t,i),!(void 0!==r&&(e.exports=r))},639:function(e,t,n){var i,r;(function(s){"use strict";i=[n(499)],r=function(e){var t=e.getComponent("Component"),n=e.getComponent("MenuItem"),i=e.getComponent("MenuButton"),r={resLabel:function(e){return/^\d+$/.test(e)?e+"p":e},setEvent:function(e,t){e.on("click",function(){this.player().trigger(t)})}},o=e.extend(n,{callCount:0,constructor:function(t,i){i.label=r.resLabel(i.res),i.selected=i.res.toString()===t.getCurrentRes().toString(),n.call(this,t,i),this.resolution=i.res,this.on(["click","tap"],this.onClick),t.on("changeRes",e.bind(this,function(){this.resolution.toString()===t.getCurrentRes().toString()?this.selected(!0):this.selected(!1),this.callCount=0}))}});o.prototype.onClick=function(){this.callCount>0||(this.player().changeRes(this.resolution),this.callCount++)},e.registerComponent("ResolutionMenuItem",o);var a=e.extend(n,{constructor:function(e,t){n.call(this,e,t),this.off("click")}});e.registerComponent("ResolutionTitleMenuItem",a);var l=e.extend(i,{constructor:function(e,t){e.availableRes=t.availableRes,i.call(this,e,t),this.el().firstChild.innerHTML=t.buttonText}});l.prototype.buildCSSClass=function(){return i.prototype.buildCSSClass.call(this)+" vjs-res-button"},l.prototype.createItems=function(){var e,i,l=this.player(),c=[],u=this.options_.extraLinks;for(i in l.availableRes)"length"!==i&&c.push(new o(l,{res:i}));c.sort(function(e,t){return l.availableRes[e.resolution].sortOrder-l.availableRes[t.resolution].sortOrder}),c.unshift(new a(l,{el:t.prototype.createEl("li",{className:"vjs-menu-title vjs-res-menu-title",innerHTML:l.localize("Quality")})}));for(var d=0;d<u.length;d++)e=new n(l,{label:u[d].name}),u[d].template&&(e.el().innerHTML=u[d].template),e.el().className+=" vjs-res-menu-extra-item",e.off("click"),u[d].disabled?s(e.el()).addClass("disabled"):r.setEvent(e,u[d].event),c.push(e);return c},e.registerComponent("ResolutionSelector",l),e.plugin("resolutionSelector",function(t){function n(){var e=d.options_.sources;if(o=e.length,u={length:0},d.tech_&&d.tech_.el().canPlayType)for(;o>0;)o--,e[o]["data-res"]&&(c=e[o]["data-res"],"object"!=typeof u[c]&&(u[c]=[],u.length++),u[c].push(e[o]),u[c].sortOrder=isNaN(c)?o:-parseInt(c,10))}function i(e){var t;if(e)for(c in u)if("length"!==c){for(o=e.length,t=0;o>0;)for(o--,a=u[c].length;a>0;)if(a--,e[o]===u[c][a].type){t++;break}t<e.length&&(delete u[c],u.length--)}}function s(){for(o=0;o<p.length;o++)if(u[p[o]]){d.src(u[p[o]]),d.currentRes=p[o];break}}var o,a,c,u,d=this,h=e.mergeOptions({defaultRes:"",forceTypes:!1,extraLinks:[]},t||{}),p=h.defaultRes&&"string"==typeof h.defaultRes?h.defaultRes.split(","):[];"function"!=typeof d.localize&&(d.localize=function(e){return e}),d.getCurrentRes=function(){if("undefined"!=typeof d.currentRes)return d.currentRes;try{return d.options_.sources[0]["data-res"]}catch(e){return""}},d.changeRes=function(e){var t,n,i=d.el().firstChild,s=d.paused(),o=d.currentTime();if(d.getCurrentRes().toString()!==e.toString()&&d.availableRes&&d.availableRes[e]){if("none"===i.preload&&(i.preload="metadata"),d.currentRes=e,d.src(d.availableRes[e]).one("loadedmetadata",function(){d.currentTime(o),d.addClass("vjs-has-started"),s||d.play()}),d.controlBar.resolutionSelector)for(t=d.controlBar.resolutionSelector.el().firstChild.children,n=t.length;n>0;)if(n--,"vjs-control-text"===t[n].className){t[n].innerHTML=r.resLabel(e);break}d.trigger("changeRes")}},d.ready(function(){n(),i(h.forceTypes),(u.length||h.extraLinks.length)&&(s(),d.controlBar.resolutionSelector=d.controlBar.addChild(new l(d,{buttonText:d.localize(r.resLabel(d.getCurrentRes()||"Quality")),availableRes:u,extraLinks:h.extraLinks})))})})}.apply(t,i),!(void 0!==r&&(e.exports=r))}).call(t,n(3))},640:function(e,t,n){var i,r;i=[n(3),n(499)],r=function(e,t){var n=function(t){function n(n){var s=this.currentTime(),o=this.duration();e.event.trigger(t.positionEventName,{total:Math.floor(o),position:s}),i=Math.floor(s/t.interval);var a=Math.floor(s)%t.interval;if(a&&(i+=1),!(r===i||i<=0)){r=i;var l=i*t.interval;l>o&&(l=o),"ended"===n.type&&(l=o),e.event.trigger(t.progressEventName,{total:Math.floor(o),position:l})}}this.on("timeupdate",n),this.on("ended",n);var i=-1,r=-1};t.plugin("timer",n)}.apply(t,i),!(void 0!==r&&(e.exports=r))},641:function(e,t,n){var i,r;i=[n(499)],r=function(e){function t(e){e.userActive(!e.userActive()),e.controls()&&(e.paused()?e.play():e.pause())}function n(t){var n=t.controlBar.fullscreenToggle,i=e.getComponent("Menu"),r=new i(t);r.contentEl().appendChild(h.prototype.createEl("li",{className:"vjs-menu-title",innerHTML:t.localize("Fullscreen"),tabindex:-1})),n.addChild(r),n.el().className+=" vjs-menu-button vjs-menu-button-popup"}function i(e,t){function n(n){n.addEventListener("mouseleave",function(){e.clearTimeout(r),this.className=this.className.replace(" active-on-hover","")}),n.addEventListener("mousemove",function(){e.clearTimeout(r);var n=this.className.split(" ");n.indexOf("active-on-hover")===-1&&(this.className+=" active-on-hover"),r=e.setTimeout(function(){this.className=this.className.replace(" active-on-hover","")}.bind(this),t)})}var i=250,r=null;"undefined"==typeof t&&(t=2500),n(e.controlBar.el()),e.middleButtonGroupComponent&&n(e.middleButtonGroupComponent.el()),e.setInterval(function(){e.el().getElementsByClassName("active-on-hover").length>0&&e.reportUserActivity()},i)}function r(e){var t,n=[320,480,768,1200,1/0],i={Infinity:"large-screen",1200:"medium-screen",768:"tablet",480:"mobile-landscape",320:"mobile-portrait"},r=function(){for(var r=e.el().offsetWidth,s="max",o=0;o<n.length;o++)if(r<=n[o]){s=n[o];break}s!==t&&(i[s]&&e.el().classList.add(i[s]),i[t]&&e.el().classList.remove(i[t]),t=s)};e.ready(r),window.addEventListener("resize",r),e.on("dispose",function(){window.removeEventListener("resize",r)})}function s(e,t,n){var i,r,s,o,a,l=function c(){var l=Date.now()-o;l<t&&l>=0?i=setTimeout(c,t-l):(i=null,n||(a=e.apply(s,r),i||(s=r=null)))};return function(){s=this;for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];r=u,o=Date.now();var h=n&&!i;return i||(i=setTimeout(l,t)),h&&(a=e.apply(s,u),s=r=null),a}}function o(e){e.on("seeking",function(){"Flash"===this.techName_&&this.ended()&&this.tech_.trigger("seeked")})}function a(e){e.one("loadedmetadata",function(){if("Flash"===e.techName_&&e.tech_&&e.tech_.hls){var t=e.tech_.el().id;e.tech_.hls.mediaSource.trigger({type:"sourceopen",swfId:t})}})}function l(t){t._originalPlaybackRateMethod=t.playbackRate,t._playbackRate=t.playbackRate();var n=e.getComponent("PlaybackRateMenuButton"),i=new n(t,{playerOptions:t.options_});t.playbackRate=function(e){return"undefined"!=typeof e&&(this._playbackRate=e),i.playbackRateSupported()?this._originalPlaybackRateMethod(e):this._playbackRate},t.on("play",function(){this.playbackRate(this._playbackRate)})}function c(e){e.controlBar.el().classList.add("player-controls")}function u(e){e.tech_&&(e.tech_.el().addEventListener("touchstart",t.bind(this,e)),e.tech_.el().addEventListener("mousedown",function(){e._playbackElementClicked=!0}),e.controlBar.el().addEventListener("mousedown",function(){e._playbackElementClicked=!1}))}function d(e,t){n(e),i(e,t.inactiveTimeoutTime),r(e),c(e),u(e)}var h=e.getComponent("Component"),p=e.TextTrack;p.prototype._originalAddCue=p.prototype.addCue,p.prototype.addCue=function(e){e.text&&this._originalAddCue(e)};var f=e.getComponent("SeekBar");f.prototype._originalHandleMouseMove=f.prototype.handleMouseMove,f.prototype._debouncedHandleMouseMove=s(f.prototype._originalHandleMouseMove,20),f.prototype.handleMouseMove=function(e){this._debouncedHandleMouseMove(e)};var m=function(e){var t=this;document.addEventListener("mouseleave",function(){var e=new MouseEvent("mouseup");document.dispatchEvent(e)}),l(t),o(t),a(t),t.ready(function(){d(t,e)})};e.plugin("udemypatches",m)}.apply(t,i),!(void 0!==r&&(e.exports=r))},642:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=o["default"].locale.replace("_","-").toLowerCase();switch(t){case"de-de":n.e(98,function(t){e(n(610))});break;case"es-es":n.e(97,function(t){e(n(611))});break;case"fr-fr":n.e(96,function(t){e(n(612))});break;case"it-it":n.e(95,function(t){e(n(613))});break;case"ja-jp":n.e(94,function(t){e(n(614))});break;case"ko-kr":n.e(93,function(t){e(n(615))});break;case"pt-br":n.e(92,function(t){e(n(616))});break;case"ru-ru":n.e(91,function(t){e(n(617))});break;case"tr-tr":n.e(90,function(t){e(n(618))});break;case"zh-cn":n.e(89,function(t){e(n(619))});break;case"zh-tw":n.e(88,function(t){e(n(620))});break;case"en-us":e();break;default:console.warn("Unsupported locale: "+t),e()}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadVideojsLocale=r;var s=n(29),o=i(s)},647:function(e,t,n){var i,r;i=[n(2),n(3),n(14),n(562),n(716),n(831),n(649),n(741),n(556),n(177),n(39),n(169),n(501),n(514)],r=function(e,t,n,i,r,s,o,a,l,c,u,d,h,p){function f(i,r,s,o,a,l){return{scope:{lecture:"=",pageConfig:"@",onAutoNext:"&?"},restrict:"E",link:function(c,p){function f(){var t=s._propertyMap.fullscreenchange.join(" ");e.element(document).on(t,function(){s.isFullscreen()||e.element(document).off(t),c.player.isFullscreen(s.isFullscreen()),c.player.trigger("fullscreenchange"),c.$emit("useractive")}),s.toggleFullscreen(document.body)}function m(){c.$emit("contentready"),o.getLectureBookmarks(l.id,c.lecture.id)["finally"](function(){var t=o.lectureBookmarks[c.lecture.id]||[];e.forEach(t,function(e){c.player.addBookmark(e.position,e.body,e.id)})})}function g(){c.$emit("hotkeyshowhotkeys")}function v(e){c.$emit("showhotkeyfeedback",e.keyAction),c.$apply()}function y(){c.$broadcast("reportabuseshowmodal"),c.$apply()}function b(){H=c.player.paused()?"pause":"play",c.player.pause()}function w(){H&&"play"!==H||c.player.play(),H=null}function _(){c.player.addClass("vjs-hide-controls")}function C(){c.player.removeClass("vjs-hide-controls")}function k(){a.ensureCurriculumLoaded().then(function(){a.markLectureAsCompleted(c.lecture,!0)})}function A(){c.pausedAutoplay||(c.onAutoNext({isAutoPlay:!!W.attr("autoplay")}),c.$apply())}function E(){c.player._playbackElementClicked&&(c.$emit("showhotkeyfeedback","play"),c.$apply())}function S(){c.player._playbackElementClicked&&(c.$emit("showhotkeyfeedback","pause"),c.$apply())}function x(){c.pausedAutoplay=!0}function T(){c.pausedAutoplay=!1}function F(){var t=e.element(c.player.controlBar.el());t.addClass("active"),c.onBookmark=!0,c.$apply()}function $(){var t=e.element(c.player.controlBar.el());t.removeClass("active"),c.onBookmark=!1,c.$apply()}function D(e){var t=e.bookmark.getData(),n=t.id?"updateBookmark":"createBookmark",i=t.id?"update-bookmark":"create-bookmark";o[n](l.id,c.lecture.id,t).then(function(t){e.bookmark.setId(t.id)}),h.track("coursetaking","bookmark","video.player-controls."+i)}function B(e){o.deleteBookmark(l.id,c.lecture.id,e.bookmark.getData()),h.track("coursetaking","bookmark","video.player-controls.delete-bookmark")}function M(e){h.track("coursetaking","bookmark","video.player-controls.open-create-box")}function P(e){h.track("coursetaking","bookmark","video.progress-bar.goto-bookmark")}function L(e){h.track("coursetaking","bookmark","video.player-controls.add-bookmark-content")}function j(){c.player.addBookmark(c.player.currentTime()),c.$emit("showhotkeyfeedback","bookmarkadded")}function O(){if("embed"!==c.pageConfig){var t=e.element(c.player.controlBar.el()),r=e.element(c.player.controlBar.customControlSpacer.el());if(t.attr("user-active-on",""),t.attr("active-when","onBookmark"),t.addClass("hide-when-user-inactive"),r.append('<ask-question-button class="vjs-ask-question-button"></ask-question-button><div class="spacer__right"><continue-button object-type="\'lecture\'" object-id="lecture.id"></continue-button></div>'),n.features.report_abuse&&(c.reportAbusePopup={open:!1},t.append('<report-abuse btn-class="hidden" show-popup="reportAbusePopup.open" object-type="lecture" object-id="lecture.id"></report-abuse>')),i(t)(c),c.player.middleButtonGroupComponent){var s=e.element(c.player.middleButtonGroupComponent.el());s.attr("user-active-on",""),s.addClass("hide-when-user-inactive"),i(s)(c)}}}function R(e,t,n){K&&clearTimeout(K),K=setTimeout(function(){h.track("playercontrol",e,t,void 0,void 0,n)},2e3)}function I(e,t){var n,i,r={downloadlecture:"resource lecture-download",play:"video play",pause:"video pause",seek:"video seek",volume:"video volume",fullscreenchange:"video fullscreen: "+(t.isFullscreen?"on":"off"),qualityChange:"video hd: "+t.quality,captionstrackchange:"video cc: "+t.caption,seekrewind:"video seek rewind",seekforward:"video seek forward",playbackrate:"video playback-rate: "+t.speed,viewed:"video view"},s={downloadlecture:"Lecture","default":"Video Controls"},o=r[t.type];"downloadlecture"===t.type&&k(),o&&(n=s[t.type]||s["default"],o+=t.isHotkeyPressed?" hotkey":"","Video Controls"===n&&(i={dimension2:t.player+(t.mode?" "+t.mode:"")}),"playbackrate"===t.type?R(n,o,i):h.track("playercontrol",n,o,void 0,void 0,i))}function q(){"Html5"===c.player.techName_&&c.$watch(function(){return r.search()},function(e){var t=parseInt(e.start,10);t&&c.player.one("canplaythrough",function(){c.player.pause(),c.player.currentTime(t);var e=c.player.duration()||c.player.options().duration||0;e-t>=15&&c.player.play()})})}function N(e,t){a.ensureCurriculumLoaded().then(function(){a.updateLectureProgress(c.lecture,t)})}function U(){t(window).off(G,N),p.off("player_event_tracking");var n=s._propertyMap.fullscreenchange.join(" ");e.element(document).off(n),p.on("remove",function(){z.data("udVideojsReady")._destroy(),p.off("remove",this)})}p=t(p),p.on("player_event_tracking",I),p.append(c.lecture.view_html);var z=p.find("video"),H=null,V={postMessage:function(e){var t=JSON.parse(e);p.trigger(t.event,t.data)}},W=null,G=null;z.videojsReady({windowProxy:V,udApi:u,udApiStat:d,exitFullscreenOnComplete:!1}).data("udVideojsReady").getPlayerPromise().then(function(n){c.player=n,W=e.element(c.player.el()),G=z.data("progressEvent"),t(window).on(G,N),O(),q(),c.player.requestFullscreen=f,c.player.ready(m),c.player.on("showhotkeys",g),c.player.on("keyuphotkey",v),c.player.on("ended",A),c.player.on("play",E),c.player.on("pause",S),c.player.on("bookmarkfocus",F),c.player.on("bookmarkblur",$),c.player.on("bookmarksubmit",D),c.player.on("bookmarkdelete",B),c.player.on("bookmarkopen",M),c.player.on("bookmarkclick",P),c.player.on("bookmarkcontent",L),c.player.on("reportabuse",y),c.$on("hotkeyaddbookmark",j),c.$on("pausecontent",b),c.$on("playcontent",w),c.$on("hideplayercontrols",_),c.$on("showplayercontrols",C),c.$on("questionspanelopen",x),c.$on("questionspanelclosed",T),c.$on("$destroy",U)});var K=null}}}var m=e.module("apps.courseTakingV4.videoPlayerDirective",[i["default"].name,o.name,a.name,l.name,r.name,s.name,p.name]).directive("videoPlayer",f);return f.$inject=["$compile","$location","Fullscreen","Bookmark","Curriculum","CurrentCourse"],m}.apply(t,i),!(void 0!==r&&(e.exports=r))},648:function(e,t,n){var i,r;i=[n(2),n(121)],r=function(e,t){function n(e){var t=document.getElementsByClassName("loading-screen")[0];this.show=function(){e.addClass(t,"show")},this.hide=function(){e.removeClass(t,"show");
}}var i=e.module("apps.courseTakingV4.loadingScreen.loadingScreenServiceModule",["ngAnimate"]).service("loadingScreen",n);return n.$inject=["$animate"],i}.apply(t,i),!(void 0!==r&&(e.exports=r))},649:function(e,t,n){var i,r;i=[n(2),n(12),n(501)],r=function(e,t,n){function i(){return{restrict:"E",scope:{},controller:r,template:'<button class="btn btn-sm btn-control" ng-click="askQuestion()"><i class="ud_i_support"></i><span class="btn-control__label">{{ buttonText }}</span></button>'}}function r(e,t,i){e.buttonText=i.getString("Browse Q&A"),e.askQuestion=function(){t.$broadcast("questionspanelopen"),n.track("coursetaking","question","video.player-controls.open-panel")}}var s=e.module("apps.courseTakingV4.lectureView.askQuestionButtonDirective",[t.name]).directive("askQuestionButton",i);return r.$inject=["$scope","$rootScope","gettextCatalog"],s}.apply(t,i),!(void 0!==r&&(e.exports=r))},650:function(e,t,n){var i,r;i=[n(2),n(840)],r=function(e,t){function n(){return{restrict:"A",require:"^userActivityCheck",link:function(t,n,i,r){function s(){r.removeMouseMoveEvent(),r.setActive(),a&&r.addMouseMoveEvent(a),t.$apply()}function o(){a&&r.removeMouseMoveEvent(),r.setActive(),r.addMouseMoveEvent(),r.setInactiveAfterTimeout(),t.$apply()}var a=e.isUndefined(i.activeFor)?null:t.$eval(i.activeFor);e.isDefined(i.activeWhen)&&t.$watch(i.activeWhen,function(e,t){e?(n.off("mouseover mouseout"),r.removeMouseMoveEvent(),r.setActive()):t&&(r.setActive(),r.addMouseMoveEvent(a),r.setInactiveAfterTimeout(a),n.on("mouseover",s),n.on("mouseout",o))}),n.on("mouseover",s),n.on("mouseout",o),t.$on("$destroy",function(){n.off("mouseover mouseout")})}}}var i=e.module("apps.courseTakingV4.userActivityCheck.userActiveOnDirective",[t.name]).directive("userActiveOn",n);return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},651:function(e,t,n){var i,r;i=[n(2),n(3),n(173),n(544)],r=function(e,t,n,i){function r(e,n){var i=e.$watch("card.cardNo",function(){e.card.cardNoText&&(e.card.cardNoText=t.payment.formatCardNumber(e.card.cardNo)),i()}),r=e.$watch("card.expirationText",function(){e.card.expirationText&&(e.card.expirationText=t.payment.formatExpiry(e.card.expirationText)),r()});e.updateCardNo=function(n){n?(e.card.cardNo=n.replace(/\s/g,""),e.card.cardType=t.payment.cardType(e.card.cardNo)):(e.card.cardNo="",e.card.cardType=""),e._clean_validity()},e.updateExpiration=function(n){n&&t.payment.validateCardExpiry.apply(null,n.replace(/\s/g,"").split("/"))&&(e.card.expiry=t.payment.cardExpiryVal(n)),e._clean_validity()},e.updateCpf=function(t){t&&(e.card.cpf=(""+t).replace(/[\-, \.]/g,"")),e._clean_validity()},e.$on("validateCreditCard",function(t,n){var i=n[0],r=n[1];r(e._validate(i))}),e.countries=n}var s=e.module("apps.shoppingCart.components.creditCardInput.creditCardInputController",[i.name]).controller("CreditCardInputController",r);return r.$inject=["$scope","CountryInfoList"],s}.apply(t,i),!(void 0!==r&&(e.exports=r))},652:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return{restrict:"EA",templateUrl:w["default"],controller:"CreditCardInputController as controller",scope:{card:"=",zipCountryEnabled:"=",cpfEnabled:"="},link:function(n,i,r){var s=(0,l["default"])(i).find("[name=name-on-card]"),o=(0,l["default"])(i).find("[name=card-no]"),a=(0,l["default"])(i).find("[name=security-code]"),c=(0,l["default"])(i).find("[name=expiration]"),u=[s,o,a,c];o.payment("formatCardNumber"),a.payment("formatCardCVC"),c.payment("formatCardExpiry"),(0,l["default"])('[data-toggle="tooltip"]',i).tooltip({animation:!1}),n._validate=function(e){var r=!0;if(t.isMobileBrowser())return!0;for(var s in u)u[s][0].checkValidity()||(r=!1,e&&u[s][0].setCustomValidity(u[s].data("error-message")));var a=(0,l["default"])(i).find("[name=zip-code]"),c=(0,l["default"])(i).find("[name=country]"),d=(0,l["default"])(i).find("[name=cpf]");if(n.zipCountryEnabled&&(a[0].checkValidity()||(r=!1,e&&a[0].setCustomValidity(a.data("error-message"))),c[0].checkValidity()||(r=!1,e&&c[0].setCustomValidity(c.data("error-message")))),n.cpfEnabled&&(d[0].checkValidity()||(r=!1,e&&d[0].setCustomValidity(d.data("error-message")))),o.val()&&l["default"].payment.validateCardNumber(o.val())||(r=!1,e&&o[0].setCustomValidity("Please enter a valid card number")),!d[0]||d.val()&&(0,l["default"])(d).validateCPF()||(r=!1,e&&d[0].setCustomValidity("Please enter a valid CPF")),!r){var h=i.find("form");h.on("submit",function(e){this.checkValidity&&!this.checkValidity()&&((0,l["default"])(this).find(":invalid").first().focus(),e.preventDefault())}),(0,l["default"])('<input type="submit">').hide().appendTo(h).click().remove()}return n.card.validated=r,r},n._clean_validity=function(){if(!t.isMobileBrowser()){for(var e in u)u[e][0]&&u[e][0].setCustomValidity("");var r=(0,l["default"])(i).find("[name=zip-code]");r[0]&&r[0].setCustomValidity("");var s=(0,l["default"])(i).find("[name=country]");s[0]&&s[0].setCustomValidity("");var o=(0,l["default"])(i).find("[name=cpf]");o[0]&&o[0].setCustomValidity(""),n.card.validated=!1}},"DEV"==f["default"].env&&(n.card.fullName=g["default"].title,n.card.cardNoText="4242 4242 4242 4242",n.updateCardNo(n.card.cardNoText),n.card.expirationText="12/20",n.updateExpiration(n.card.expirationText),n.card.securityCode="213",n.card.countryId="US",n.card.zipCode=95131,n.card.cpfText="520.724.754-90",n.updateCpf(n.card.cpfText)),e.get().then(function(e){n.card.countryId=e.user_country_code})}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(3),l=i(a);n(538),n(173);var c=n(172),u=i(c),d=n(63),h=i(d),p=n(14),f=i(p),m=n(16),g=i(m),v=n(651),y=i(v),b=n(682),w=i(b),_=o["default"].module("apps.shoppingCart.components.creditCardInput.creditCardInputDirective",[y["default"].name,h["default"].name,u["default"].name]).directive("creditCardInput",["Checkout","Mobile",r]);t["default"]=_},653:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r){function s(){var n=t.getVariantValue("dct","lookup_mbds",!1);n&&i.getNoticesForPurpose("upsell").then(function(t){c["default"].each(t,function(e){e.imageUrl=r.imageUrl(e.items_required+"plus_icon.svg")}),e.upsells=t})}n.onMessage("itemMoved",s),s()}function s(){return{restrict:"E",templateUrl:m["default"],controller:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o);n(84);var l=n(11),c=i(l),u=n(172),d=i(u),h=n(194),p=i(h),f=n(683),m=i(f),g=n(23),v=i(g),y=n(122),b=i(y),w=n(665),_=i(w);r.$inject=["$scope","experimentVariants","messageBroker","shoppingNotices","shoppingCartConfig"],t["default"]=a["default"].module("apps.shoppingCart.notices",["angular-inview",p["default"].name,b["default"].name,_["default"].name,v["default"].name,d["default"].name]).directive("notices",s)},654:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r){e.notifications=[],e.removeNotification=function(t){t.isRemoved||(t.isRemoved=!0,e.notifications.splice(e.notifications.indexOf(t),1))},e.buildClassLevel=function(e){return"alert-".concat(e)},i.onMessage("notification",function(i){i=c["default"].extend(c["default"].clone(r),i),i.isRemoved=!1,e.notifications.unshift(i),t(function(){e.removeNotification(i)},n.timing.notificationHide),e.$apply()})}function s(){return{restrict:"E",templateUrl:p["default"],scope:{},controller:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o);n(83);var l=n(11),c=i(l),u=n(23),d=i(u),h=n(684),p=i(h),f=n(122),m=i(f);r.$inject=["$scope","$timeout","shoppingCartConfig","messageBroker","defaultNotification"],t["default"]=a["default"].module("apps.shoppingCart.notifications",["angular-velocity",d["default"].name,m["default"].name]).constant("defaultNotification",{message:"An unknown error occurred.",options:{level:"info"}}).directive("notifications",s)},655:function(e,t,n){var i,r;i=[n(2),n(66),n(505),n(524),n(46)],r=function(e,t,n,i,r){function s(e,t,n,i,r,s,o){function a(){var t=r.defer();return e.$broadcast("validateCreditCard",[!0,t.resolve]),t.promise}var l;n.get().then(function(t){e.cpfEnabled=t.cpf_enabled,l=t.adyen_generation_time,e.rememberMe=t.remember_card}),e.method={vendor:"adyen",prepare:function(t){return e.scid?r.when({name:"Adyen",customer_id:e.scid}):i.encryptData(e.card,l).then(function(t){return{name:"Adyen",encrypted_data:t,remember_me:e.rememberMe,cpf:e.card.cpf}})},showCCInput:function(){return e.method.isActive&&e.editingCreditCardInfo&&!e.scid},scid:e.scid,activate:function(n){e.method.isActive=n,n&&(null!==e.scid||e.card.validated)?t.enableCheckout({vendor:"adyen"}):t.disableCheckout()}},e.$watch("rememberMe",function(t){e.card.rememberMe=t}),e.editingCreditCardInfo=!0,e.setEditMode=function(t){return e.editingCreditCardInfo=t,!0},e.useThisCard=function(){a().then(function(n){n?(e.editingCreditCardInfo=!1,t.enableCheckout({vendor:"adyen"})):t.disableCheckout()})},e.cardActionText=function(){return o.getString(s(e.scid?"Delete":"Edit"))},e.scid?e.cardAction=function(){e.removeCard(e.scid)}:e.cardAction=function(){e.method.isActive||(e.activeMethodContainer.activeMethod=e.method),e.setEditMode(!0)},e.card.autoselect&&(e.activeMethodContainer.activeMethod=e.method)}var o=e.module("apps.shoppingCart.components.paymentMethods.adyenPaymentMethodController",[n.name,t.name,i.name,r.name]);return o.controller("AdyenCreditCardMethodController",s),s.$inject=["$scope","shoppingClient","Checkout","AdyenService","$q","gettext","gettextCatalog"],o}.apply(t,i),!(void 0!==r&&(e.exports=r))},656:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"EA",requires:"^CheckoutController",templateUrl:u["default"],controller:"AdyenCreditCardMethodController",scope:{card:"=",activeMethodContainer:"=",scid:"=",removeCard:"=",supportedVendors:"="}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(655),l=i(a),c=n(685),u=i(c);t["default"]=o["default"].module("apps.shoppingCart.components.paymentMethods.adyenCreditCardMethodDirective",[l["default"].name]).directive("adyenCreditCardMethod",r)},657:function(e,t,n){var i,r;i=[n(2),n(66),n(505),n(524),n(46)],r=function(e,t,n,i,r){function s(t,n,i,r,s){t.method={vendor:"adyen",prepare:function(n){var i=r.defer();if(t.adyenLink){var o={shopping_cart:n,payment_type:t.adyenMethod.type,brand_code:t.adyenMethod.brand_code};"selectedIssuer"in t.method&&e.extend(o,{issuer_id:t.method.selectedIssuer.issuer_id}),s.post(t.adyenLink,o).then(function(e){e.data.redirect_url?window.location.href=e.data.redirect_url:i.reject([e.data.message])},function(e){i.reject([e.data.message])})}return i.promise},activate:function(e){t.method.isActive=e,e?i.get().then(function(e){t.adyenLink=e.adyen_link,n.enableCheckout({vendor:"adyen"})}):n.disableCheckout()}}}var o=e.module("apps.shoppingCart.components.paymentMethods.adyenLocalPaymentMethodController",[n.name,t.name,i.name,r.name]);return o.controller("AdyenLocalPaymentMethodController",s),s.$inject=["$scope","shoppingClient","Checkout","$q","$http"],o}.apply(t,i),!(void 0!==r&&(e.exports=r))},658:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"EA",requires:"^CheckoutController",templateUrl:u["default"],controller:"AdyenLocalPaymentMethodController",scope:{activeMethodContainer:"=",adyenMethod:"="}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(657),l=i(a),c=n(686),u=i(c);t["default"]=o["default"].module("apps.shoppingCart.components.paymentMethods.adyenPaymentMethodDirective",[l["default"].name]).directive("adyenLocalPaymentMethod",r)},659:function(e,t,n){var i,r;i=[n(2),n(66),n(505)],r=function(e,t,n){function i(e,t,n,i,r){e.method={vendor:"paypal",prepare:function(t){var n=i.defer();return e.paypalLink&&r.post(e.paypalLink,{shopping_cart:t}).then(function(e){return e.data.redirect_url?void(window.location.href=e.data.redirect_url):n.reject(e.data.detail||[])},function(e){return n.reject(e.data.detail||[])}),n.promise},activate:function(i){e.method.isActive=i,i?n.get().then(function(n){e.paypalLink=n.paypal_link,t.enableCheckout({vendor:"paypal"})}):t.disableCheckout()}}}var r=e.module("apps.shoppingCart.components.paymentMethods.PaypalPaymentMethodController",[n.name,t.name]);return r.controller("PaypalPaymentMethodController",i),i.$inject=["$scope","shoppingClient","Checkout","$q","$http"],r}.apply(t,i),!(void 0!==r&&(e.exports=r))},660:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"EA",requires:"^CheckoutController",templateUrl:u["default"],controller:"PaypalPaymentMethodController",scope:{activeMethodContainer:"="}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(659),l=i(a),c=n(687),u=i(c);t["default"]=o["default"].module("apps.shoppingCart.components.paymentMethods.paypalPaymentMethodDirective",[l["default"].name]).directive("paypalPaymentMethod",r)},661:function(e,t,n){var i,r;i=[n(2),n(66),n(505),n(528),n(46)],r=function(e,t,n,i,r){function s(e,t,n,i,r,s){function o(){var t=i.defer();return e.$broadcast("validateCreditCard",[!0,t.resolve]),t.promise}e.method={vendor:"stripe",$id:e.$id,prepare:function(){var t=i.defer();return e.scid?t.resolve({name:"Stripe",credentials:{customer_id:e.scid}}):n.getToken(e.card,e.rememberMe).then(t.resolve,t.reject),t.promise},showCCInput:function(){return e.method.isActive&&e.editingCreditCardInfo&&!e.scid},scid:e.scid,activate:function(n){e.method.isActive=n,n&&(null!==e.scid&&void 0!==e.scid||e.card.validated)?t.enableCheckout({vendor:"stripe"}):t.disableCheckout()}},e.rememberMe=!0,e.$watch("rememberMe",function(t){e.card.rememberMe=t}),e.editingCreditCardInfo=!0,e.setEditMode=function(t){return e.editingCreditCardInfo=t,!0},e.useThisCard=function(){o().then(function(n){n?(e.editingCreditCardInfo=!1,t.enableCheckout({vendor:"stripe"})):t.disableCheckout()})},e.cardActionText=function(){return s.getString(r(e.scid?"Delete":"Edit"))},e.scid?e.cardAction=function(){e.removeCard(e.scid)}:e.cardAction=function(){e.method.isActive||(e.activeMethodContainer.activeMethod=e.method),e.setEditMode(!0)},e.card.autoselect&&(e.activeMethodContainer.activeMethod=e.method)}var o=e.module("apps.shoppingCart.components.paymentMethods.stripePaymentMethodController",[t.name,n.name,i.name,r.name]);return o.controller("StripePaymentMethodController",s),s.$inject=["$scope","shoppingClient","StripeService","$q","gettext","gettextCatalog"],o}.apply(t,i),!(void 0!==r&&(e.exports=r))},662:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"EA",requires:"^PaymentViewController",templateUrl:h["default"],controller:"StripePaymentMethodController",scope:{card:"=",scid:"=",activeMethodContainer:"=",removeCard:"="}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(661),l=i(a),c=n(558),u=i(c),d=n(688),h=i(d);t["default"]=o["default"].module("apps.shoppingCart.components.paymentMethods.stripePaymentMethodDirective",[l["default"].name,u["default"].name]).directive("stripePaymentMethod",r)},663:function(e,t,n){var i,r;i=[n(2),n(664),n(560)],r=function(e,t,n){return e.module("apps.shoppingCart.components.paymentView",[n.name,t["default"].name])}.apply(t,i),!(void 0!==r&&(e.exports=r))},664:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{templateUrl:h["default"],restrict:"EA",controller:"PaymentViewController"}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(534),l=i(a),c=n(560),u=i(c),d=n(689),h=i(d);t["default"]=o["default"].module("apps.shoppingCart.components.paymentViewDirective",[u["default"].name,l["default"].name]).directive("paymentView",r)},665:function(e,t,n){var i,r;(function(s){"use strict";i=[n(11),n(23)],r=function(e,t){function n(e,t){var n={};return n.getNoticesForPurpose=function(n){var i={method:"get",url:t.urls.noticesAPI(n)};return e(i).then(function(e){return e.data.results})["catch"](function(){return[]})},n}return n.$inject=["$http","shoppingCartConfig"],s.module("apps.shoppingCart.services.shoppingNotices",[t["default"].name]).service("shoppingNotices",n)}.apply(t,i),!(void 0!==r&&(e.exports=r))}).call(t,n(2))},666:function(e,t,n){var i,r;i=[n(2),n(39)],r=function(e,t){function n(e){return{restrict:"A",link:function(n,i){i.click(function(){t.call("/users/me",{type:"PATCH",data:{accept_terms:1},success:function(){e.location.reload()}})})}}}return e.module("common.acceptTermsDirective",[]).directive("acceptTerms",["$window",n])}.apply(t,i),!(void 0!==r&&(e.exports=r))},669:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{restrict:"E",replace:!0,scope:!0,link:function(t,n,i){i.starOnClick&&(t.starOnClick=function(){e(i.starOnClick)(t)}),i.showTooltip&&(t.showTooltip=e(i.showTooltip)(t))},templateUrl:u["default"],controller:["$scope",function(e){e.isStarOn=function(t,n){var i=e.courseReview;return n?i&&i.rating>=t&&i.rating<=n:i&&i.rating>=t},e.starClicked=function(t,n){n.stopPropagation(),n.preventDefault(),e.courseReview.rating=t,e.starOnClick&&e.starOnClick()}}]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(12),l=i(a),c=n(692),u=i(c),d=o["default"].module("directives.common.review.reviewStar",[l["default"].name]).directive("reviewStar",r);r.$inject=["$parse"],t["default"]=d},670:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"E",replace:!0,templateUrl:v["default"],scope:{surveyCode:"@",courseId:"@course",populate:"@",api:"="},controller:"SurveyController"}}function s(e,t,n,i,r,s){var o=function(e,t){return e.order-t.order},l=n.getString("Error happened while retriving your survey. Please try again.");e.api=e.api||{},e.userAnswers={},e.resourceParams={},e.courseId?(e.answersResource=s,e.resourceParams.courseId=e.courseId):e.answersResource=r,i.get({name:e.surveyCode}).$promise.then(function(t){t.question_sets.sort(o),a["default"].forEach(t.question_sets,function(e){e.questions.sort(o)}),e.resourceParams.surveyId=t.id,e.survey=t,"undefined"!=typeof e.populate&&e.answersResource.get(e.resourceParams).$promise.then(function(t){a["default"].forEach(t.results,function(t){e.userAnswers[t.question_id]=t.answer_option_id})}),a["default"].forEach(e.survey.question_sets,function(t){a["default"].forEach(t.questions,function(t){t.id in e.userAnswers||(e.userAnswers[t.id]=null)})})},c["default"].Feedback.fromText.bind(this,l,"error")),e.api.save=function(){if(!m["default"].id||!e.resourceParams.surveyId)return t.reject();var n=[];for(var i in e.userAnswers)Object.prototype.hasOwnProperty.call(e.userAnswers,i)&&n.push({question_id:parseInt(i,10),answer_option_id:e.userAnswers[i]});return e.answersResource.update(e.resourceParams,n).$promise}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),l=n(498),c=i(l),u=n(677),d=i(u),h=n(46),p=i(h),f=n(16),m=i(f),g=n(694),v=i(g);t["default"]=a["default"].module("directives.common.survey.surveyDirectiveModule",[p["default"].name,d["default"].name]).controller("SurveyController",["$scope","$q","gettextCatalog","Survey","SurveyUserAnswer","SurveyUserCourseAnswer",s]).directive("survey",r)},674:function(e,t,n){var i,r;i=[n(2),n(61)],r=function(e,t){return e.module("filters.fixUrl",[]).filter("fixurl",function(){return function(e){var n=window.location.pathname,i=new t(e),r=i.path(),s=i.anchor();"/"===r.slice(-1)&&"/"!==n.slice(-1)&&i.setPath(r.substr(0,r.length-1)),"/"!==s.substr(0,1)&&s&&i.setAnchor("/"+s);var o=new t(window.location),a=o.query().toString();return a&&i.setQuery(a),i.toString()}})}.apply(t,i),!(void 0!==r&&(e.exports=r))},675:function(e,t,n){var i,r;i=[n(2)],r=function(e){return e.module("filters.jsonUtils",[]).filter("prettyJSON",function(){return function(e){var t,n=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return"string"==n?t=JSON.parse(e):"object"==n&&(t=e),JSON.stringify(t,null,4)}})}.apply(t,i),!(void 0!==r&&(e.exports=r))},676:function(e,t,n){var i,r;i=[n(2)],r=function(e){e.replaceProperties=function(t,n){var i=[];for(var r in t)"function"==typeof t[r]||Object.prototype.hasOwnProperty.call(n,r)||i.push(r);for(var s=0;s<i.length;s++)delete t[i[s]];return e.extend(t,n),t}}.apply(t,i),!(void 0!==r&&(e.exports=r))},677:function(e,t,n){var i,r;i=[n(2),n(41)],r=function(e){return e.module("services.surveyResources",["ngResource"]).factory("Survey",["$resource",function(e){return e("/api-2.0/surveys/:name")}]).factory("SurveyUserAnswer",["$resource",function(e){return e("/api-2.0/users/me/surveys/:surveyId/answers",null,{update:{method:"PUT"}})}]).factory("SurveyUserCourseAnswer",["$resource",function(e){return e("/api-2.0/users/me/courses/:courseId/surveys/:surveyId/answers",null,{update:{method:"PUT"}})}])}.apply(t,i),!(void 0!==r&&(e.exports=r))},678:function(e,t,n){var i,r;i=[n(2),n(41)],r=function(e){function t(e){var t=e("/api-2.0/users/me/subscribed-courses/:courseId/lectures/:id");return t}function n(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/completed-lectures/:lectureId")}function i(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/lectures/:id/view-logs")}function r(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/lectures/:id/progress-logs")}function s(e){var t=e("/api-2.0/users/me/taught-courses/:courseId/lectures/:id");return t}function o(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/lectures/:lectureId/supplementary-assets/:id")}function a(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/lectures/:lectureId/notes/:id",null,{update:{method:"PATCH"}})}var l=e.module("services.v2.lectureResources",["ngResource"]).factory("SubscribedLecture",["$resource",t]).factory("CompletedLecture",["$resource",n]).factory("SubscribedLectureViewLog",["$resource",i]).factory("SubscribedLectureProgressLog",["$resource",r]).factory("TaughtLecture",["$resource",s]).factory("SupplementaryAsset",["$resource",o]).factory("LectureNote",["$resource",a]);return l}.apply(t,i),!(void 0!==r&&(e.exports=r))},681:function(e,t,n){(function(e,t){(function(){var n=!1;/*! videojs-contrib-hls - v1.3.7 - 2016-07-15
	* Copyright (c) 2016 Brightcove; Licensed  */
/*! videojs-contrib-media-sources - v2.4.4 - 2016-01-22
	* Copyright (c) 2016 Brightcove; Licensed  */
!function(e,t,n){var i=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t].push(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,r,s;if(n=e[t])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(s=[],i=arguments.length,i=1;i<arguments.length;++i)s.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,s)}},this.dispose=function(){e={}}}};i.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(){e.flush()}),e},i.prototype.push=function(e){this.trigger("data",e)},i.prototype.flush=function(){this.trigger("done")},e.muxjs=e.muxjs||{},e.muxjs.utils=e.muxjs.utils||{},e.muxjs.utils.Stream=i}(this,this.muxjs),function(e,t){var n;n=function(e){var t=e.byteLength,n=0,i=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+i},this.loadWord=function(){var r=e.byteLength-t,s=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");s.set(e.subarray(r,r+o)),n=new DataView(s.buffer).getUint32(0),i=8*o,t-=o},this.skipBits=function(e){var r;i>e?(n<<=e,i-=e):(e-=i,r=Math.floor(e/8),e-=8*r,t-=r,this.loadWord(),n<<=e,i-=e)},this.readBits=function(e){var r=Math.min(i,e),s=n>>>32-r;return console.assert(e<32,"Cannot read more than 32 bits at a time"),i-=r,i>0?n<<=r:t>0&&this.loadWord(),r=e-r,r>0?s<<r|this.readBits(r):s},this.skipLeadingZeros=function(){var e;for(e=0;e<i;++e)if(0!==(n&2147483648>>>e))return n<<=e,i-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},e.muxjs=t||{},t.utils=t.utils||{},t.utils.ExpGolomb=n}(this,this.muxjs),function(e,t){"use strict";var n,i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];n=function(){var e,t;n.prototype.init.call(this),e=this,this.push=function(e){var n,r,s,o,a,l,c=0,u=0;if("audio"===e.type)for(t?(o=t,t=new Uint8Array(o.byteLength+e.data.byteLength),t.set(o),t.set(e.data,o.byteLength)):t=e.data;c+5<t.length;)if(255===t[c]&&240===(246&t[c+1])){if(r=2*(1&~t[c+1]),n=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,a=1024*((3&t[c+6])+1),l=9e4*a/i[(60&t[c+2])>>>2],s=c+n,t.byteLength<s)return;if(this.trigger("data",{pts:e.pts+u*l,dts:e.dts+u*l,sampleCount:a,audioobjecttype:(t[c+2]>>>6&3)+1,channelcount:(1&t[c+2])<<3|(192&t[c+3])>>>6,samplerate:i[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+r,s)}),t.byteLength===s)return void(t=void 0);u++,t=t.subarray(s)}else c++}},n.prototype=new t.utils.Stream,t.codecs=t.codecs||{},t.codecs.AacStream=n}(this,this.muxjs),function(e,t){"use strict";var n,i;i=function(){var e,t,n=0;i.prototype.init.call(this),this.push=function(i){var r;for(t?(r=new Uint8Array(t.byteLength+i.data.byteLength),r.set(t),r.set(i.data,t.byteLength),t=r):t=i.data;n<t.byteLength-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}this.trigger("data",t.subarray(n+3,e-2));do e++;while(1!==t[e]&&e<t.length);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")}},i.prototype=new t.utils.Stream,n=function(){var e,r,s,o,a,l,c,u=new i;n.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(r=e.trackId,s=e.pts,o=e.dts,u.push(e))},u.on("data",function(t){var n={trackId:r,pts:s,dts:o,data:t};switch(31&t[0]){case 5:n.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:n.nalUnitType="sei_rbsp",n.escapedRBSP=a(t.subarray(1));break;case 7:n.nalUnitType="seq_parameter_set_rbsp",n.escapedRBSP=a(t.subarray(1)),n.config=l(n.escapedRBSP);break;case 8:n.nalUnitType="pic_parameter_set_rbsp";break;case 9:n.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",n)}),u.on("done",function(){e.trigger("done")}),this.flush=function(){u.flush()},c=function(e,t){var n,i,r=8,s=8;for(n=0;n<e;n++)0!==s&&(i=t.readExpGolomb(),s=(r+i+256)%256),r=0===s?r:s},a=function(e){for(var t,n,i=e.byteLength,r=[],s=1;s<i-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var o=0;for(s=0;s<t;o++,s++)o===r[0]&&(o++,r.shift()),n[s]=e[o];return n},l=function(e){var n,i,r,s,o,a,l,u,d,h,p,f,m=0,g=0,v=0,y=0;if(n=new t.utils.ExpGolomb(e),i=n.readUnsignedByte(),s=n.readUnsignedByte(),r=n.readUnsignedByte(),n.skipUnsignedExpGolomb(),(100===i||110===i||122===i||244===i||44===i||83===i||86===i||118===i||128===i||138===i||139===i||134===i)&&(o=n.readUnsignedExpGolomb(),3===o&&n.skipBits(1),n.skipUnsignedExpGolomb(),n.skipUnsignedExpGolomb(),n.skipBits(1),n.readBoolean()))for(p=3!==o?8:12,f=0;f<p;f++)n.readBoolean()&&(f<6?c(16,n):c(64,n));if(n.skipUnsignedExpGolomb(),a=n.readUnsignedExpGolomb(),0===a)n.readUnsignedExpGolomb();else if(1===a)for(n.skipBits(1),n.skipExpGolomb(),n.skipExpGolomb(),l=n.readUnsignedExpGolomb(),f=0;f<l;f++)n.skipExpGolomb();return n.skipUnsignedExpGolomb(),n.skipBits(1),u=n.readUnsignedExpGolomb(),d=n.readUnsignedExpGolomb(),h=n.readBits(1),0===h&&n.skipBits(1),n.skipBits(1),n.readBoolean()&&(m=n.readUnsignedExpGolomb(),g=n.readUnsignedExpGolomb(),v=n.readUnsignedExpGolomb(),y=n.readUnsignedExpGolomb()),{profileIdc:i,levelIdc:r,profileCompatibility:s,width:16*(u+1)-2*m-2*g,height:(2-h)*(d+1)*16-2*v-2*y}}},n.prototype=new t.utils.Stream,t.codecs=t.codecs||{},t.codecs.H264Stream=n,t.codecs.NalByteStream=i}(this,this.muxjs),function(e,t,n){"use strict";var i,r,s,o,a,l,c,u;o=188,u=71,a=27,l=15,c=21,i=function(){var e=new Uint8Array(o),t=0;i.prototype.init.call(this),this.push=function(n){var i,r=0,s=o;for(t?(i=new Uint8Array(n.byteLength+t),i.set(e.subarray(0,t)),i.set(n,t),t=0):i=n;s<i.byteLength;)i[r]!==u||i[s]!==u?(r++,s++):(this.trigger("data",i.subarray(r,s)),r+=o,s+=o);r<i.byteLength&&(e.set(i.subarray(r),0),t=i.byteLength-r)},this.flush=function(){t===o&&e[0]===u&&(this.trigger("data",e),t=0),this.trigger("done")}},i.prototype=new t.utils.Stream,r=function(){var e,t,i,s;r.prototype.init.call(this),s=this,this.packetsWaitingForPmt=[],this.programMapTable=n,e=function(e,n){var r=0;n.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===n.type?t(e.subarray(r),n):i(e.subarray(r),n)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],s.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=s.pmtPid},i=function(e,t){var n,i,r,o;if(1&e[5]){for(s.programMapTable={},n=(15&e[1])<<8|e[2],i=3+n-4,r=(15&e[10])<<8|e[11],o=12+r;o<i;)s.programMapTable[(31&e[o+1])<<8|e[o+2]]=e[o],o+=((15&e[o+3])<<8|e[o+4])+5;for(t.programMapTable=s.programMapTable;s.packetsWaitingForPmt.length;)s.processPes_.apply(s,s.packetsWaitingForPmt.shift())}},this.push=function(t){var i={},r=4;i.payloadUnitStartIndicator=!!(64&t[1]),i.pid=31&t[1],i.pid<<=8,i.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===i.pid?(i.type="pat",e(t.subarray(r),i),this.trigger("data",i)):i.pid===this.pmtPid?(i.type="pmt",e(t.subarray(r),i),this.trigger("data",i)):this.programMapTable===n?this.packetsWaitingForPmt.push([t,r,i]):this.processPes_(t,r,i)},this.processPes_=function(e,t,n){n.streamType=this.programMapTable[n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},r.prototype=new t.utils.Stream,r.STREAM_TYPES={h264:27,adts:15},s=function(){var e,t={data:[],size:0},n={data:[],size:0},i={data:[],size:0},r=function(e,t){var n;t.dataAlignmentIndicator=0!==(4&e[6]),n=e[7],192&n&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},o=function(t,n){var i,s=new Uint8Array(t.size),o={type:n},a=0;if(t.data.length){for(o.trackId=t.data[0].pid;t.data.length;)i=t.data.shift(),s.set(i.data,a),a+=i.data.byteLength;r(s,o),t.size=0,e.trigger("data",o)}};s.prototype.init.call(this),e=this,this.push=function(r){({pat:function(){},pes:function(){var e,s;switch(r.streamType){case a:e=t,s="video";break;case l:e=n,s="audio";break;case c:e=i,s="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&o(e,s),e.data.push(r),e.size+=r.data.byteLength},pmt:function(){var t,n,i={type:"metadata",tracks:[]},s=r.programMapTable;for(t in s)s.hasOwnProperty(t)&&(n={timelineStartInfo:{baseMediaDecodeTime:0}},n.id=+t,s[t]===a?(n.codec="avc",n.type="video"):s[t]===l&&(n.codec="adts",n.type="audio"),i.tracks.push(n));e.trigger("data",i)}})[r.type]()},this.flush=function(){o(t,"video"),o(n,"audio"),o(i,"timed-metadata"),this.trigger("done")}},s.prototype=new t.utils.Stream,t.mp2t=t.mp2t||{},t.mp2t.PAT_PID=0,t.mp2t.MP2T_PACKET_LENGTH=o,t.mp2t.H264_STREAM_TYPE=a,t.mp2t.ADTS_STREAM_TYPE=l,t.mp2t.METADATA_STREAM_TYPE=c,t.mp2t.TransportPacketStream=i,t.mp2t.TransportParseStream=r,t.mp2t.ElementaryStream=s}(this,this.muxjs),function(e,t){"use strict";var n;n=function(e,t){var i,r=0,s=16384,o=function(e,t){var n,i=e.position+t;i<e.bytes.byteLength||(n=new Uint8Array(2*i),n.set(e.bytes.subarray(0,e.position),0),e.bytes=n,e.view=new DataView(e.bytes.buffer))},a=n.widthBytes||new Uint8Array("width".length),l=n.heightBytes||new Uint8Array("height".length),c=n.videocodecidBytes||new Uint8Array("videocodecid".length);if(!n.widthBytes){for(i=0;i<"width".length;i++)a[i]="width".charCodeAt(i);for(i=0;i<"height".length;i++)l[i]="height".charCodeAt(i);for(i=0;i<"videocodecid".length;i++)c[i]="videocodecid".charCodeAt(i);n.widthBytes=a,n.heightBytes=l,n.videocodecidBytes=c}switch(this.keyFrame=!1,e){case n.VIDEO_TAG:this.length=16,s*=6;break;case n.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case n.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw"Error Unknown TagType"}this.bytes=new Uint8Array(s),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=t,this.pts=0,this.dts=0,this.writeBytes=function(e,t,n){var i,r=t||0;n=n||e.byteLength,i=r+n,o(this,n),this.bytes.set(e.subarray(r,i),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){o(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){o(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===r?0:this.length-(r+4)},this.startNalUnit=function(){if(r>0)throw new Error("Attempted to create new NAL wihout closing the old one");r=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,n;this.length===r+4?this.length-=4:r>0&&(t=r+4,n=this.length-t,this.position=r,this.view.setUint32(this.position,n),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+n))),r=0},this.writeMetaDataDouble=function(e,t){var n;if(o(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(a,this.position),this.position+=5;else if("height"===e)this.bytes.set(l,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(c,this.position),this.position+=12;else for(n=0;n<e.length;n++)this.bytes[this.position]=e.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++r},this.writeMetaDataBoolean=function(e,t){var n;for(o(this,2),this.view.setUint16(this.position,e.length),this.position+=2,n=0;n<e.length;n++)console.assert(e.charCodeAt(n)<255),o(this,1),this.bytes[this.position]=e.charCodeAt(n),this.position++;o(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++r},this.finalize=function(){var e,i;switch(this.bytes[0]){case n.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||t?16:32),this.bytes[12]=t?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case n.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=t?0:1;break;case n.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,r),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return i=this.length-11,this.bytes[1]=(16711680&i)>>>16,this.bytes[2]=(65280&i)>>>8,this.bytes[3]=(255&i)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,o(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=n.frameTime(this.bytes),console.assert(this.bytes.byteLength===this.length),this}},n.AUDIO_TAG=8,n.VIDEO_TAG=9,n.METADATA_TAG=18,n.isAudioFrame=function(e){return n.AUDIO_TAG===e[0]},n.isVideoFrame=function(e){return n.VIDEO_TAG===e[0]},n.isMetaData=function(e){return n.METADATA_TAG===e[0]},n.isKeyFrame=function(e){return n.isVideoFrame(e)?23===e[11]:!!n.isAudioFrame(e)||!!n.isMetaData(e)},n.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24},t.flv=t.flv||{},t.flv.FlvTag=n}(this,this.muxjs),function(e,t,n){"use strict";var i,r=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},s=function(t,n,i){return e.decodeURIComponent(r(t,n,i))},o=function(t,n,i){return e.unescape(r(t,n,i))},a=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},l={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length-1);break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=o(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};i=function(e){var n,r={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},s=0,o=[],c=0;if(i.prototype.init.call(this),this.dispatchType=t.mp2t.METADATA_STREAM_TYPE.toString(16),r.descriptor)for(n=0;n<r.descriptor.length;n++)this.dispatchType+=("00"+r.descriptor[n].toString(16)).slice(-2);this.push=function(e){var t,n,i,u,d;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(c=0,o.length=0),0===o.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))return void(r.debug&&console.log("Skipping unrecognized metadata packet"));if(o.push(e),c+=e.data.byteLength,1===o.length&&(s=a(e.data.subarray(6,10)),s+=10),!(c<s)){for(t={data:new Uint8Array(s),frames:[],pts:o[0].pts,dts:o[0].dts},d=0;d<s;)t.data.set(o[0].data.subarray(0,s-d),d),d+=o[0].data.byteLength,c-=o[0].data.byteLength,o.shift();n=10,64&t.data[5]&&(n+=4,n+=a(t.data.subarray(10,14)),s-=a(t.data.subarray(16,20)));do{if(i=a(t.data.subarray(n+4,n+8)),i<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");u={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+i+10)},u.key=u.id,l[u.id]&&l[u.id](u),t.frames.push(u),n+=10,n+=i}while(n<s);this.trigger("data",t)}}}},i.prototype=new t.utils.Stream,t.mp2t=t.mp2t||{},t.mp2t.MetadataStream=i}(this,this.muxjs),function(e,t,n){"use strict";var i=4,r=128,s=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},s=0,o=0;t<e.byteLength&&e[t]!==r;){for(;255===e[t];)s+=255,t++;for(s+=e[t++];255===e[t];)o+=255,t++;if(o+=e[t++],!n.payload&&s===i){n.payloadType=s,n.payloadSize=o,n.payload=e.subarray(t,t+o);break}t+=o,s=0,o=0}return n},o=function(e){return 181!==e.payload[0]?null:49!==(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},a=function(e,t){var n,i,r,s,o=[];if(!(64&t[0]))return o;for(i=31&t[0],n=0;n<i;n++)r=3*n,s={type:3&t[r+2],pts:e},4&t[r+2]&&(s.ccData=t[r+3]<<8|t[r+4],o.push(s));return o},l=function(){l.prototype.init.call(this),this.captionPackets_=[],this.field1_=new C,this.field1_.on("data",this.trigger.bind(this,"data")),this.field1_.on("done",this.trigger.bind(this,"done"))};l.prototype=new t.utils.Stream,l.prototype.push=function(e){var t,n;"sei_rbsp"===e.nalUnitType&&(t=s(e.escapedRBSP),t.payloadType===i&&(n=o(t),n&&(this.captionPackets_=this.captionPackets_.concat(a(e.pts,n)))))},l.prototype.flush=function(){return this.captionPackets_.length?(this.captionPackets_.sort(function(e,t){return e.pts-t.pts}),this.captionPackets_.forEach(this.field1_.push,this.field1_),this.captionPackets_.length=0,void this.field1_.flush()):void this.field1_.flush()};var c={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608},u=0,d=5152,h=5167,p=5157,f=5158,m=5159,g=5165,v=5153,y=5164,b=5166,w=14,_=function(){for(var e=[],t=w+1;t--;)e.push("");return e},C=function(){C.prototype.init.call(this),this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=_(),this.nonDisplayed_=_(),this.lastControlCode_=null,this.push=function(e){var t,n,i,r;if(t=32639&e.ccData,t===this.lastControlCode_)return void(this.lastControlCode_=null);switch(4096===(61440&t)?this.lastControlCode_=t:this.lastControlCode_=null,t){case u:break;case d:this.mode_="popOn";break;case h:this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;break;case p:this.topRow_=w-1,this.mode_="rollUp";break;case f:this.topRow_=w-2,this.mode_="rollUp";break;case m:this.topRow_=w-3,this.mode_="rollUp";break;case g:this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;break;case v:"popOn"===this.mode_?this.nonDisplayed_[w]=this.nonDisplayed_[w].slice(0,-1):this.displayed_[w]=this.displayed_[w].slice(0,-1);break;case y:this.flushDisplayed(e.pts),this.displayed_=_();break;case b:this.nonDisplayed_=_();break;default:if(i=t>>>8,r=255&t,i>=16&&i<=23&&r>=64&&r<=127&&(16!==i||r<96)&&(i=r=32),16===(240&i))return;this[this.mode_](e.pts,i,r)}}};C.prototype=new t.utils.Stream,C.prototype.flushDisplayed=function(e){var t,n;for(n=0;n<this.displayed_.length;n++)t=this.displayed_[n],t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t})},C.prototype.popOn=function(e,t,n){var i=this.nonDisplayed_[w];t=c[t]||t,i+=String.fromCharCode(t),n=c[n]||n,i+=String.fromCharCode(n),this.nonDisplayed_[w]=i},C.prototype.rollUp=function(e,t,n){var i=this.displayed_[w];""===i&&(this.flushDisplayed(e),this.startPts_=e),t=c[t]||t,i+=String.fromCharCode(t),n=c[n]||n,i+=String.fromCharCode(n),this.displayed_[w]=i},C.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;e<w;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[w]=""},t.mp2t=t.mp2t||{},t.mp2t.CaptionStream=l,t.mp2t.Cea608Stream=C}(this,this.muxjs),function(e,t){"use strict";var n,i,r,s,o,a,l,c=t.flv.FlvTag;t.MetadataStream;o=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},a=function(e,t){var n=new c(c.METADATA_TAG);return n.dts=t,n.pts=t,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",e.width),n.writeMetaDataDouble("height",e.height),n},l=function(e,t){var n,i=new c(c.VIDEO_TAG,(!0));for(i.dts=t,i.pts=t,i.writeByte(1),i.writeByte(e.profileIdc),i.writeByte(e.profileCompatibility),i.writeByte(e.levelIdc),i.writeByte(255),i.writeByte(225),i.writeShort(e.sps[0].length),i.writeBytes(e.sps[0]),i.writeByte(e.pps.length),n=0;n<e.pps.length;++n)i.writeShort(e.pps[n].length),i.writeBytes(e.pps[n]);return i},r=function(e){var t,n=[];r.prototype.init.call(this),this.push=function(t){o(e,t),e&&void 0===e.channelcount&&(e.audioobjecttype=t.audioobjecttype,e.channelcount=t.channelcount,e.samplerate=t.samplerate,e.samplingfrequencyindex=t.samplingfrequencyindex,e.samplesize=t.samplesize,e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),n.push(t)},this.flush=function(){var i,r,s,o=[];if(0===n.length)return void this.trigger("done");for(s=-(1/0);n.length;)i=n.shift(),(e.extraData!==t||i.pts-s>=1e3)&&(r=new c(c.METADATA_TAG),r.pts=i.pts,r.dts=i.dts,r.writeMetaDataDouble("audiocodecid",10),r.writeMetaDataBoolean("stereo",2===e.channelcount),r.writeMetaDataDouble("audiosamplerate",e.samplerate),r.writeMetaDataDouble("audiosamplesize",16),o.push(r),t=e.extraData,r=new c(c.AUDIO_TAG,(!0)),r.pts=i.pts,r.dts=i.dts,r.view.setUint16(r.position,e.extraData),r.position+=2,r.length=Math.max(r.length,r.position),o.push(r),s=i.pts),r=new c(c.AUDIO_TAG),r.pts=i.pts,r.dts=i.dts,r.writeBytes(i.data),o.push(r);t=null,this.trigger("data",{track:e,tags:o}),this.trigger("done")}},r.prototype=new t.utils.Stream,i=function(e){var t,n,r=[];i.prototype.init.call(this),this.finishFrame=function(n,i){i&&(e.newMetadata&&(i.keyFrame||0===n.length)&&(n.push(a(t,i.pts)),n.push(l(e,i.pts)),e.newMetadata=!1),i.endNalUnit(),n.push(i))},this.push=function(t){o(e,t),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),r.push(t)},this.flush=function(){for(var i,s=[];r.length&&"access_unit_delimiter_rbsp"!==r[0].nalUnitType;)r.shift();if(0===r.length)return void this.trigger("done");for(;r.length;)i=r.shift(),"seq_parameter_set_rbsp"===i.nalUnitType?(e.newMetadata=!0,t=i.config,e.width=t.width,e.height=t.height,e.sps=[i.data],e.profileIdc=t.profileIdc,e.levelIdc=t.levelIdc,e.profileCompatibility=t.profileCompatibility,n.endNalUnit()):"pic_parameter_set_rbsp"===i.nalUnitType?(e.newMetadata=!0,e.pps=[i.data],n.endNalUnit()):"access_unit_delimiter_rbsp"===i.nalUnitType?(n&&this.finishFrame(s,n),n=new c(c.VIDEO_TAG),n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.endNalUnit()),n.startNalUnit(),n.writeBytes(i.data);n&&this.finishFrame(s,n),this.trigger("data",{track:e,tags:s}),this.trigger("done")}},i.prototype=new t.utils.Stream,s=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,s.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}},s.prototype=new t.utils.Stream,s.prototype.flush=function(){var e,t,n,i,r={tags:{},captions:[],metadata:[]};if(!(this.pendingTracks<this.numberOfTracks)){for(this.videoTrack?i=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(i=this.audioTrack.timelineStartInfo.pts),r.tags.videoTags=this.videoTags,r.tags.audioTags=this.audioTags,n=0;n<this.pendingCaptions.length;n++)t=this.pendingCaptions[n],t.startTime=t.startPts-i,t.startTime/=9e4,t.endTime=t.endPts-i,t.endTime/=9e4,r.captions.push(t);for(n=0;n<this.pendingMetadata.length;n++)e=this.pendingMetadata[n],e.cueTime=e.pts-i,e.cueTime/=9e4,r.metadata.push(e);r.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.trigger("data",r),this.trigger("done")}},n=function(e){var o,a,l,u,d,h,p,f,m,g=this;n.prototype.init.call(this),e=e||{},this.metadataStream=new t.mp2t.MetadataStream,e.metadataStream=this.metadataStream,o=new t.mp2t.TransportPacketStream,a=new t.mp2t.TransportParseStream,l=new t.mp2t.ElementaryStream,u=new t.codecs.AacStream,d=new t.codecs.H264Stream,m=new s(e),o.pipe(a).pipe(l),l.pipe(d),l.pipe(u),l.pipe(this.metadataStream).pipe(m),t.mp2t.CaptionStream&&(f=new t.mp2t.CaptionStream,d.pipe(f).pipe(m)),l.on("data",function(e){var t,n,s;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?n=e.tracks[t]:"audio"===e.tracks[t].type&&(s=e.tracks[t]);n&&!h&&(m.numberOfTracks++,h=new i(n),d.pipe(h).pipe(m)),s&&!p&&(m.numberOfTracks++,p=new r(s),u.pipe(p).pipe(m))}}),this.push=function(e){o.push(e)},this.flush=function(){o.flush()},m.on("data",function(e){g.trigger("data",e)}),m.on("done",function(){g.trigger("done")}),this.getFlvHeader=function(e,t,n){var i,r,s,o=new Uint8Array(9),a=new DataView(o.buffer);return e=e||0,t=void 0===t||t,n=void 0===n||n,a.setUint8(0,70),a.setUint8(1,76),a.setUint8(2,86),a.setUint8(3,1),a.setUint8(4,(t?4:0)|(n?1:0)),a.setUint32(5,o.byteLength),e<=0?(r=new Uint8Array(o.byteLength+4),r.set(o),r.set([0,0,0,0],o.byteLength),r):(i=new c(c.METADATA_TAG),i.pts=i.dts=0,i.writeMetaDataDouble("duration",e),s=i.finalize().length,r=new Uint8Array(o.byteLength+s),r.set(o),r.set(a.byteLength,s),r)}},n.prototype=new t.utils.Stream,t.flv=t.flv||{},t.flv.Transmuxer=n}(this,this.muxjs),function(t,n,i){"use strict";var r,s,o,a,l,c,u,d,h,p=0,f=e.EventTarget,m="blob:vjs-media-source/";c=function(t){Object.defineProperties(t.frame,{id:{get:function(){return e.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return e.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return e.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},u=function(e,t,n){var i,r;if(n)for(i=n.cues.length;i--;)r=n.cues[i],r.startTime<=t&&r.endTime>=e&&n.removeCue(r)},d=function(e,t,n){n.captions&&n.captions.length&&!e.inbandTextTrack_&&(e.inbandTextTrack_=t.player_.addTextTrack("captions","cc1")),n.metadata&&n.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=t.player_.addTextTrack("metadata","Timed Metadata"),e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)},h=function(e,n,i){l=t.WebKitDataCue||t.VTTCue,n&&n.forEach(function(e){this.inbandTextTrack_.addCue(new l(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),i&&i.forEach(function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var n=new l(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,c(n),this.metadataTrack_.addCue(n)},this)},e)},r={mode:"auto"},e.MediaSource=function(t){var n=e.mergeOptions(r,t);return"html5"===n.mode||"auto"===n.mode&&e.MediaSource.supportsNativeMediaSources()?new e.HtmlMediaSource:new e.FlashMediaSource},e.MediaSource.supportsNativeMediaSources=function(){return!!t.MediaSource},e.HtmlMediaSource=e.extend(f,{constructor:function(){var n,i=this;this.mediaSource_=new t.MediaSource;for(n in this.mediaSource_)n in e.HtmlMediaSource.prototype||"function"!=typeof this.mediaSource_[n]||(this[n]=this.mediaSource_[n].bind(this.mediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return i.duration_},set:function(e){if(i.duration_=e,e!==1/0)return void(i.mediaSource_.duration=e)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?e.createTimeRanges([[0,i.mediaSource_.duration]]):i.mediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return i.mediaSource_.readyState}}),this.sourceBuffers=[],["sourceopen","sourceclose","sourceended"].forEach(function(e){this.mediaSource_.addEventListener(e,this.trigger.bind(this))},this),this.on("sourceopen",function(t){var n=document.querySelector('[src="'+i.url_+'"]');n&&(i.player_=e(n.parentNode))}),this.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0})},addSeekableRange_:function(e,t){var n;if(this.duration!==1/0)throw n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),n.name="InvalidStateError",n.code=11,n;(t>this.mediaSource_.duration||isNaN(this.mediaSource_.duration))&&(this.mediaSource_.duration=t)},addSourceBuffer:function(e){var t,n,i,r,o=/avc1\.[\da-f]+/i,a=/mp4a\.\d+.\d+/i;return/^video\/mp2t/i.test(e)?(n=e.split(";").slice(1).join(";"),n=g(n),i=(n.match(o)||[])[0],r=(n.match(a)||[])[0],i&&i.length||(i="avc1.4d400d"),r&&r.length||(r="mp4a.40.2"),t=new s(this,[i,r]),this.sourceBuffers.push(t),t):(t=this.mediaSource_.addSourceBuffer(e),this.sourceBuffers.push(t),t)}});var g=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){var i=("00"+Number(t).toString(16)).slice(-2),r=("00"+Number(n).toString(16)).slice(-2);return"avc1."+i+"00"+r})};o=function(e,t,n){return function(){if(!e[t]||!e[t].updating)return e.trigger(n)}},s=e.extend(f,{constructor:function(t,n){var i=this;this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=t,this.codecs_=n,this.transmuxer_=new Worker(URL.createObjectURL(new Blob(['var muxjs={},transmuxer,initOptions={};!function(a,b,c){var d=function(){this.init=function(){var a={};this.on=function(b,c){a[b]||(a[b]=[]),a[b].push(c)},this.off=function(b,c){var d;return a[b]?(d=a[b].indexOf(c),a[b].splice(d,1),d>-1):!1},this.trigger=function(b){var c,d,e,f;if(c=a[b])if(2===arguments.length)for(e=c.length,d=0;e>d;++d)c[d].call(this,arguments[1]);else{for(f=[],d=arguments.length,d=1;d<arguments.length;++d)f.push(arguments[d]);for(e=c.length,d=0;e>d;++d)c[d].apply(this,f)}},this.dispose=function(){a={}}}};d.prototype.pipe=function(a){return this.on("data",function(b){a.push(b)}),this.on("done",function(){a.flush()}),a},d.prototype.push=function(a){this.trigger("data",a)},d.prototype.flush=function(){this.trigger("done")},a.muxjs=a.muxjs||{},a.muxjs.utils=a.muxjs.utils||{},a.muxjs.utils.Stream=d}(this,this.muxjs),function(a,b){var c;c=function(a){var b=a.byteLength,c=0,d=0;this.length=function(){return 8*b},this.bitsAvailable=function(){return 8*b+d},this.loadWord=function(){var e=a.byteLength-b,f=new Uint8Array(4),g=Math.min(4,b);if(0===g)throw new Error("no bytes available");f.set(a.subarray(e,e+g)),c=new DataView(f.buffer).getUint32(0),d=8*g,b-=g},this.skipBits=function(a){var e;d>a?(c<<=a,d-=a):(a-=d,e=Math.floor(a/8),a-=8*e,b-=e,this.loadWord(),c<<=a,d-=a)},this.readBits=function(a){var e=Math.min(d,a),f=c>>>32-e;return console.assert(32>a,"Cannot read more than 32 bits at a time"),d-=e,d>0?c<<=e:b>0&&this.loadWord(),e=a-e,e>0?f<<e|this.readBits(e):f},this.skipLeadingZeros=function(){var a;for(a=0;d>a;++a)if(0!==(c&2147483648>>>a))return c<<=a,d-=a,a;return this.loadWord(),a+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var a=this.skipLeadingZeros();return this.readBits(a+1)-1},this.readExpGolomb=function(){var a=this.readUnsignedExpGolomb();return 1&a?1+a>>>1:-1*(a>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},a.muxjs=b||{},b.utils=b.utils||{},b.utils.ExpGolomb=c}(this,this.muxjs),function(a,b,c){"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P;O=a.Uint8Array,P=a.DataView,function(){var a;A={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]};for(a in A)A.hasOwnProperty(a)&&(A[a]=[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)]);B=new O(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),D=new O(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new O([0,0,0,1]),E=new O([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),F=new O([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),G={video:E,audio:F},J=new O([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new O([0,0,0,0,0,0,0,0]),K=new O([0,0,0,0,0,0,0,0]),L=K,M=new O([0,0,0,0,0,0,0,0,0,0,0,0]),N=K,H=new O([0,0,0,1,0,0,0,0,0,0,0,0])}(),d=function(a){var b,c,d,e=[],f=0;for(b=1;b<arguments.length;b++)e.push(arguments[b]);for(b=e.length;b--;)f+=e[b].byteLength;for(c=new O(f+8),d=new P(c.buffer,c.byteOffset,c.byteLength),d.setUint32(0,c.byteLength),c.set(a,4),b=0,f=8;b<e.length;b++)c.set(e[b],f),f+=e[b].byteLength;return c},e=function(){return d(A.dinf,d(A.dref,J))},f=function(a){return d(A.esds,new O([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,a.audioobjecttype<<3|a.samplingfrequencyindex>>>1,a.samplingfrequencyindex<<7|a.channelcount<<3,6,1,2]))},g=function(){return d(A.ftyp,B,C,B,D)},s=function(a){return d(A.hdlr,G[a])},h=function(a){return d(A.mdat,a)},r=function(a){var b=new O([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,a.duration>>>24&255,a.duration>>>16&255,a.duration>>>8&255,255&a.duration,85,196,0,0]);return a.samplerate&&(b[12]=a.samplerate>>>24&255,b[13]=a.samplerate>>>16&255,b[14]=a.samplerate>>>8&255,b[15]=255&a.samplerate),d(A.mdhd,b)},q=function(a){return d(A.mdia,r(a),s(a.type),j(a))},i=function(a){return d(A.mfhd,new O([0,0,0,0,(4278190080&a)>>24,(16711680&a)>>16,(65280&a)>>8,255&a]))},j=function(a){return d(A.minf,"video"===a.type?d(A.vmhd,H):d(A.smhd,I),e(),u(a))},k=function(a,b){for(var c=[],e=b.length;e--;)c[e]=x(b[e]);return d.apply(null,[A.moof,i(a)].concat(c))},l=function(a){for(var b=a.length,c=[];b--;)c[b]=o(a[b]);return d.apply(null,[A.moov,n(4294967295)].concat(c).concat(m(a)))},m=function(a){for(var b=a.length,c=[];b--;)c[b]=y(a[b]);return d.apply(null,[A.mvex].concat(c))},n=function(a){var b=new O([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&a)>>24,(16711680&a)>>16,(65280&a)>>8,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return d(A.mvhd,b)},t=function(a){var b,c,e=a.samples||[],f=new O(4+e.length);for(c=0;c<e.length;c++)b=e[c].flags,f[c+4]=b.dependsOn<<4|b.isDependedOn<<2|b.hasRedundancy;return d(A.sdtp,f)},u=function(a){return d(A.stbl,v(a),d(A.stts,N),d(A.stsc,L),d(A.stsz,M),d(A.stco,K))},function(){var a,b;v=function(c){return d(A.stsd,new O([0,0,0,0,0,0,0,1]),"video"===c.type?a(c):b(c))},a=function(a){var b,c=a.sps||[],e=a.pps||[],f=[],g=[];for(b=0;b<c.length;b++)f.push((65280&c[b].byteLength)>>>8),f.push(255&c[b].byteLength),f=f.concat(Array.prototype.slice.call(c[b]));for(b=0;b<e.length;b++)g.push((65280&e[b].byteLength)>>>8),g.push(255&e[b].byteLength),g=g.concat(Array.prototype.slice.call(e[b]));return d(A.avc1,new O([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&a.width)>>8,255&a.width,(65280&a.height)>>8,255&a.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),d(A.avcC,new O([1,a.profileIdc,a.profileCompatibility,a.levelIdc,255].concat([c.length]).concat(f).concat([e.length]).concat(g))),d(A.btrt,new O([0,28,156,128,0,45,198,192,0,45,198,192])))},b=function(a){return d(A.mp4a,new O([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&a.channelcount)>>8,255&a.channelcount,(65280&a.samplesize)>>8,255&a.samplesize,0,0,0,0,(65280&a.samplerate)>>8,255&a.samplerate,0,0]),f(a))}}(),w=function(){return d(A.styp,B,C,B)},p=function(a){var b=new O([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&a.id)>>24,(16711680&a.id)>>16,(65280&a.id)>>8,255&a.id,0,0,0,0,(4278190080&a.duration)>>24,(16711680&a.duration)>>16,(65280&a.duration)>>8,255&a.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&a.width)>>8,255&a.width,0,0,(65280&a.height)>>8,255&a.height,0,0]);return d(A.tkhd,b)},x=function(a){var b,c,e,f,g;return b=d(A.tfhd,new O([0,0,0,58,(4278190080&a.id)>>24,(16711680&a.id)>>16,(65280&a.id)>>8,255&a.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),c=d(A.tfdt,new O([0,0,0,0,a.baseMediaDecodeTime>>>24&255,a.baseMediaDecodeTime>>>16&255,a.baseMediaDecodeTime>>>8&255,255&a.baseMediaDecodeTime])),g=88,"audio"===a.type?(e=z(a,g),d(A.traf,b,c,e)):(f=t(a),e=z(a,f.length+g),d(A.traf,b,c,e,f))},o=function(a){return a.duration=a.duration||4294967295,d(A.trak,p(a),q(a))},y=function(a){var b=new O([0,0,0,0,(4278190080&a.id)>>24,(16711680&a.id)>>16,(65280&a.id)>>8,255&a.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==a.type&&(b[b.length-1]=0),d(A.trex,b)},function(){var a,b,e;e=function(a,b){var d=0,e=0,f=0,g=0;return a.length&&(a[0].duration!==c&&(d=1),a[0].size!==c&&(e=2),a[0].flags!==c&&(f=4),a[0].compositionTimeOffset!==c&&(g=8)),[0,0,d|e|f|g,1,(4278190080&a.length)>>>24,(16711680&a.length)>>>16,(65280&a.length)>>>8,255&a.length,(4278190080&b)>>>24,(16711680&b)>>>16,(65280&b)>>>8,255&b]},b=function(a,b){var c,f,g,h;for(f=a.samples||[],b+=20+16*f.length,c=e(f,b),h=0;h<f.length;h++)g=f[h],c=c.concat([(4278190080&g.duration)>>>24,(16711680&g.duration)>>>16,(65280&g.duration)>>>8,255&g.duration,(4278190080&g.size)>>>24,(16711680&g.size)>>>16,(65280&g.size)>>>8,255&g.size,g.flags.isLeading<<2|g.flags.dependsOn,g.flags.isDependedOn<<6|g.flags.hasRedundancy<<4|g.flags.paddingValue<<1|g.flags.isNonSyncSample,61440&g.flags.degradationPriority,15&g.flags.degradationPriority,(4278190080&g.compositionTimeOffset)>>>24,(16711680&g.compositionTimeOffset)>>>16,(65280&g.compositionTimeOffset)>>>8,255&g.compositionTimeOffset]);return d(A.trun,new O(c))},a=function(a,b){var c,f,g,h;for(f=a.samples||[],b+=20+8*f.length,c=e(f,b),h=0;h<f.length;h++)g=f[h],c=c.concat([(4278190080&g.duration)>>>24,(16711680&g.duration)>>>16,(65280&g.duration)>>>8,255&g.duration,(4278190080&g.size)>>>24,(16711680&g.size)>>>16,(65280&g.size)>>>8,255&g.size]);return d(A.trun,new O(c))},z=function(c,d){return"audio"===c.type?a(c,d):b(c,d)}}(),b.mp4={ftyp:g,mdat:h,moof:k,moov:l,initSegment:function(a){var b,c=g(),d=l(a);return b=new O(c.byteLength+d.byteLength),b.set(c),b.set(d,c.byteLength),b}}}(this,this.muxjs),function(a,b){"use strict";var c,d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];c=function(){var a,b;c.prototype.init.call(this),a=this,this.push=function(a){var c,e,f,g,h,i,j=0,k=0;if("audio"===a.type)for(b?(g=b,b=new Uint8Array(g.byteLength+a.data.byteLength),b.set(g),b.set(a.data,g.byteLength)):b=a.data;j+5<b.length;)if(255===b[j]&&240===(246&b[j+1])){if(e=2*(1&~b[j+1]),c=(3&b[j+3])<<11|b[j+4]<<3|(224&b[j+5])>>5,h=1024*((3&b[j+6])+1),i=9e4*h/d[(60&b[j+2])>>>2],f=j+c,b.byteLength<f)return;if(this.trigger("data",{pts:a.pts+k*i,dts:a.dts+k*i,sampleCount:h,audioobjecttype:(b[j+2]>>>6&3)+1,channelcount:(1&b[j+2])<<3|(192&b[j+3])>>>6,samplerate:d[(60&b[j+2])>>>2],samplingfrequencyindex:(60&b[j+2])>>>2,samplesize:16,data:b.subarray(j+7+e,f)}),b.byteLength===f)return void(b=void 0);k++,b=b.subarray(f)}else j++}},c.prototype=new b.utils.Stream,b.codecs=b.codecs||{},b.codecs.AacStream=c}(this,this.muxjs),function(a,b){"use strict";var c,d;d=function(){var a,b,c=0;d.prototype.init.call(this),this.push=function(d){var e;for(b?(e=new Uint8Array(b.byteLength+d.data.byteLength),e.set(b),e.set(d.data,b.byteLength),b=e):b=d.data;c<b.byteLength-3;c++)if(1===b[c+2]){a=c+5;break}for(;a<b.byteLength;)switch(b[a]){case 0:if(0!==b[a-1]){a+=2;break}if(0!==b[a-2]){a++;break}this.trigger("data",b.subarray(c+3,a-2));do a++;while(1!==b[a]&&a<b.length);c=a-2,a+=3;break;case 1:if(0!==b[a-1]||0!==b[a-2]){a+=3;break}this.trigger("data",b.subarray(c+3,a-2)),c=a-2,a+=3;break;default:a+=3}b=b.subarray(c),a-=c,c=0},this.flush=function(){b&&b.byteLength>3&&this.trigger("data",b.subarray(c+3)),b=null,c=0,this.trigger("done")}},d.prototype=new b.utils.Stream,c=function(){var a,e,f,g,h,i,j,k=new d;c.prototype.init.call(this),a=this,this.push=function(a){"video"===a.type&&(e=a.trackId,f=a.pts,g=a.dts,k.push(a))},k.on("data",function(b){var c={trackId:e,pts:f,dts:g,data:b};switch(31&b[0]){case 5:c.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:c.nalUnitType="sei_rbsp",c.escapedRBSP=h(b.subarray(1));break;case 7:c.nalUnitType="seq_parameter_set_rbsp",c.escapedRBSP=h(b.subarray(1)),c.config=i(c.escapedRBSP);break;case 8:c.nalUnitType="pic_parameter_set_rbsp";break;case 9:c.nalUnitType="access_unit_delimiter_rbsp"}a.trigger("data",c)}),k.on("done",function(){a.trigger("done")}),this.flush=function(){k.flush()},j=function(a,b){var c,d,e=8,f=8;for(c=0;a>c;c++)0!==f&&(d=b.readExpGolomb(),f=(e+d+256)%256),e=0===f?e:f},h=function(a){for(var b,c,d=a.byteLength,e=[],f=1;d-2>f;)0===a[f]&&0===a[f+1]&&3===a[f+2]?(e.push(f+2),f+=2):f++;if(0===e.length)return a;b=d-e.length,c=new Uint8Array(b);var g=0;for(f=0;b>f;g++,f++)g===e[0]&&(g++,e.shift()),c[f]=a[g];return c},i=function(a){var c,d,e,f,g,h,i,k,l,m,n,o,p=0,q=0,r=0,s=0;if(c=new b.utils.ExpGolomb(a),d=c.readUnsignedByte(),f=c.readUnsignedByte(),e=c.readUnsignedByte(),c.skipUnsignedExpGolomb(),(100===d||110===d||122===d||244===d||44===d||83===d||86===d||118===d||128===d||138===d||139===d||134===d)&&(g=c.readUnsignedExpGolomb(),3===g&&c.skipBits(1),c.skipUnsignedExpGolomb(),c.skipUnsignedExpGolomb(),c.skipBits(1),c.readBoolean()))for(n=3!==g?8:12,o=0;n>o;o++)c.readBoolean()&&(6>o?j(16,c):j(64,c));if(c.skipUnsignedExpGolomb(),h=c.readUnsignedExpGolomb(),0===h)c.readUnsignedExpGolomb();else if(1===h)for(c.skipBits(1),c.skipExpGolomb(),c.skipExpGolomb(),i=c.readUnsignedExpGolomb(),o=0;i>o;o++)c.skipExpGolomb();return c.skipUnsignedExpGolomb(),c.skipBits(1),k=c.readUnsignedExpGolomb(),l=c.readUnsignedExpGolomb(),m=c.readBits(1),0===m&&c.skipBits(1),c.skipBits(1),c.readBoolean()&&(p=c.readUnsignedExpGolomb(),q=c.readUnsignedExpGolomb(),r=c.readUnsignedExpGolomb(),s=c.readUnsignedExpGolomb()),{profileIdc:d,levelIdc:e,profileCompatibility:f,width:16*(k+1)-2*p-2*q,height:(2-m)*(l+1)*16-2*r-2*s}}},c.prototype=new b.utils.Stream,b.codecs=b.codecs||{},b.codecs.H264Stream=c,b.codecs.NalByteStream=d}(this,this.muxjs),function(a,b,c){"use strict";var d,e,f,g,h,i,j,k;g=188,k=71,h=27,i=15,j=21,d=function(){var a=new Uint8Array(g),b=0;d.prototype.init.call(this),this.push=function(c){var d,e=0,f=g;for(b?(d=new Uint8Array(c.byteLength+b),d.set(a.subarray(0,b)),d.set(c,b),b=0):d=c;f<d.byteLength;)d[e]!==k||d[f]!==k?(e++,f++):(this.trigger("data",d.subarray(e,f)),e+=g,f+=g);e<d.byteLength&&(a.set(d.subarray(e),0),b=d.byteLength-e)},this.flush=function(){b===g&&a[0]===k&&(this.trigger("data",a),b=0),this.trigger("done")}},d.prototype=new b.utils.Stream,e=function(){var a,b,d,f;e.prototype.init.call(this),f=this,this.packetsWaitingForPmt=[],this.programMapTable=c,a=function(a,c){var e=0;c.payloadUnitStartIndicator&&(e+=a[e]+1),"pat"===c.type?b(a.subarray(e),c):d(a.subarray(e),c)},b=function(a,b){b.section_number=a[7],b.last_section_number=a[8],f.pmtPid=(31&a[10])<<8|a[11],b.pmtPid=f.pmtPid},d=function(a,b){var c,d,e,g;if(1&a[5]){for(f.programMapTable={},c=(15&a[1])<<8|a[2],d=3+c-4,e=(15&a[10])<<8|a[11],g=12+e;d>g;)f.programMapTable[(31&a[g+1])<<8|a[g+2]]=a[g],g+=((15&a[g+3])<<8|a[g+4])+5;for(b.programMapTable=f.programMapTable;f.packetsWaitingForPmt.length;)f.processPes_.apply(f,f.packetsWaitingForPmt.shift())}},this.push=function(b){var d={},e=4;d.payloadUnitStartIndicator=!!(64&b[1]),d.pid=31&b[1],d.pid<<=8,d.pid|=b[2],(48&b[3])>>>4>1&&(e+=b[e]+1),0===d.pid?(d.type="pat",a(b.subarray(e),d),this.trigger("data",d)):d.pid===this.pmtPid?(d.type="pmt",a(b.subarray(e),d),this.trigger("data",d)):this.programMapTable===c?this.packetsWaitingForPmt.push([b,e,d]):this.processPes_(b,e,d)},this.processPes_=function(a,b,c){c.streamType=this.programMapTable[c.pid],c.type="pes",c.data=a.subarray(b),this.trigger("data",c)}},e.prototype=new b.utils.Stream,e.STREAM_TYPES={h264:27,adts:15},f=function(){var a,b={data:[],size:0},c={data:[],size:0},d={data:[],size:0},e=function(a,b){var c;b.dataAlignmentIndicator=0!==(4&a[6]),c=a[7],192&c&&(b.pts=(14&a[9])<<27|(255&a[10])<<20|(254&a[11])<<12|(255&a[12])<<5|(254&a[13])>>>3,b.pts*=4,b.pts+=(6&a[13])>>>1,b.dts=b.pts,64&c&&(b.dts=(14&a[14])<<27|(255&a[15])<<20|(254&a[16])<<12|(255&a[17])<<5|(254&a[18])>>>3,b.dts*=4,b.dts+=(6&a[18])>>>1)),b.data=a.subarray(9+a[8])},g=function(b,c){var d,f=new Uint8Array(b.size),g={type:c},h=0;if(b.data.length){for(g.trackId=b.data[0].pid;b.data.length;)d=b.data.shift(),f.set(d.data,h),h+=d.data.byteLength;e(f,g),b.size=0,a.trigger("data",g)}};f.prototype.init.call(this),a=this,this.push=function(e){({pat:function(){},pes:function(){var a,f;switch(e.streamType){case h:a=b,f="video";break;case i:a=c,f="audio";break;case j:a=d,f="timed-metadata";break;default:return}e.payloadUnitStartIndicator&&g(a,f),a.data.push(e),a.size+=e.data.byteLength},pmt:function(){var b,c,d={type:"metadata",tracks:[]},f=e.programMapTable;for(b in f)f.hasOwnProperty(b)&&(c={timelineStartInfo:{baseMediaDecodeTime:0}},c.id=+b,f[b]===h?(c.codec="avc",c.type="video"):f[b]===i&&(c.codec="adts",c.type="audio"),d.tracks.push(c));a.trigger("data",d)}})[e.type]()},this.flush=function(){g(b,"video"),g(c,"audio"),g(d,"timed-metadata"),this.trigger("done")}},f.prototype=new b.utils.Stream,b.mp2t=b.mp2t||{},b.mp2t.PAT_PID=0,b.mp2t.MP2T_PACKET_LENGTH=g,b.mp2t.H264_STREAM_TYPE=h,b.mp2t.ADTS_STREAM_TYPE=i,b.mp2t.METADATA_STREAM_TYPE=j,b.mp2t.TransportPacketStream=d,b.mp2t.TransportParseStream=e,b.mp2t.ElementaryStream=f}(this,this.muxjs),function(a,b,c){"use strict";var d=4,e=128,f=function(a){for(var b=0,c={payloadType:-1,payloadSize:0},f=0,g=0;b<a.byteLength&&a[b]!==e;){for(;255===a[b];)f+=255,b++;for(f+=a[b++];255===a[b];)g+=255,b++;if(g+=a[b++],!c.payload&&f===d){c.payloadType=f,c.payloadSize=g,c.payload=a.subarray(b,b+g);break}b+=g,f=0,g=0}return c},g=function(a){return 181!==a.payload[0]?null:49!==(a.payload[1]<<8|a.payload[2])?null:"GA94"!==String.fromCharCode(a.payload[3],a.payload[4],a.payload[5],a.payload[6])?null:3!==a.payload[7]?null:a.payload.subarray(8,a.payload.length-1)},h=function(a,b){var c,d,e,f,g=[];if(!(64&b[0]))return g;for(d=31&b[0],c=0;d>c;c++)e=3*c,f={type:3&b[e+2],pts:a},4&b[e+2]&&(f.ccData=b[e+3]<<8|b[e+4],g.push(f));return g},i=function(){i.prototype.init.call(this),this.captionPackets_=[],this.field1_=new w,this.field1_.on("data",this.trigger.bind(this,"data")),this.field1_.on("done",this.trigger.bind(this,"done"))};i.prototype=new b.utils.Stream,i.prototype.push=function(a){var b,c;"sei_rbsp"===a.nalUnitType&&(b=f(a.escapedRBSP),b.payloadType===d&&(c=g(b),c&&(this.captionPackets_=this.captionPackets_.concat(h(a.pts,c)))))},i.prototype.flush=function(){return this.captionPackets_.length?(this.captionPackets_.sort(function(a,b){return a.pts-b.pts}),this.captionPackets_.forEach(this.field1_.push,this.field1_),this.captionPackets_.length=0,void this.field1_.flush()):void this.field1_.flush()};var j={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608},k=0,l=5152,m=5167,n=5157,o=5158,p=5159,q=5165,r=5153,s=5164,t=5166,u=14,v=function(){for(var a=[],b=u+1;b--;)a.push("");return a},w=function(){w.prototype.init.call(this),this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=v(),this.nonDisplayed_=v(),this.lastControlCode_=null,this.push=function(a){var b,c,d,e;if(b=32639&a.ccData,b===this.lastControlCode_)return void(this.lastControlCode_=null);switch(4096===(61440&b)?this.lastControlCode_=b:this.lastControlCode_=null,b){case k:break;case l:this.mode_="popOn";break;case m:this.flushDisplayed(a.pts),c=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=c,this.startPts_=a.pts;break;case n:this.topRow_=u-1,this.mode_="rollUp";break;case o:this.topRow_=u-2,this.mode_="rollUp";break;case p:this.topRow_=u-3,this.mode_="rollUp";break;case q:this.flushDisplayed(a.pts),this.shiftRowsUp_(),this.startPts_=a.pts;break;case r:"popOn"===this.mode_?this.nonDisplayed_[u]=this.nonDisplayed_[u].slice(0,-1):this.displayed_[u]=this.displayed_[u].slice(0,-1);break;case s:this.flushDisplayed(a.pts),this.displayed_=v();break;case t:this.nonDisplayed_=v();break;default:if(d=b>>>8,e=255&b,d>=16&&23>=d&&e>=64&&127>=e&&(16!==d||96>e)&&(d=e=32),16===(240&d))return;this[this.mode_](a.pts,d,e)}}};w.prototype=new b.utils.Stream,w.prototype.flushDisplayed=function(a){var b,c;for(c=0;c<this.displayed_.length;c++)b=this.displayed_[c],b.length&&this.trigger("data",{startPts:this.startPts_,endPts:a,text:b})},w.prototype.popOn=function(a,b,c){var d=this.nonDisplayed_[u];b=j[b]||b,d+=String.fromCharCode(b),c=j[c]||c,d+=String.fromCharCode(c),this.nonDisplayed_[u]=d},w.prototype.rollUp=function(a,b,c){var d=this.displayed_[u];""===d&&(this.flushDisplayed(a),this.startPts_=a),b=j[b]||b,d+=String.fromCharCode(b),c=j[c]||c,d+=String.fromCharCode(c),this.displayed_[u]=d},w.prototype.shiftRowsUp_=function(){var a;for(a=0;a<this.topRow_;a++)this.displayed_[a]="";for(a=this.topRow_;u>a;a++)this.displayed_[a]=this.displayed_[a+1];this.displayed_[u]=""},b.mp2t=b.mp2t||{},b.mp2t.CaptionStream=i,b.mp2t.Cea608Stream=w}(this,this.muxjs),function(a,b,c){"use strict";var d,e=function(a,b,c){var d,e="";for(d=b;c>d;d++)e+="%"+("00"+a[d].toString(16)).slice(-2);return e},f=function(b,c,d){return a.decodeURIComponent(e(b,c,d))},g=function(b,c,d){return a.unescape(e(b,c,d))},h=function(a){return a[0]<<21|a[1]<<14|a[2]<<7|a[3]},i={TXXX:function(a){var b;if(3===a.data[0]){for(b=1;b<a.data.length;b++)if(0===a.data[b]){a.description=f(a.data,1,b),a.value=f(a.data,b+1,a.data.length-1);break}a.data=a.value}},WXXX:function(a){var b;if(3===a.data[0])for(b=1;b<a.data.length;b++)if(0===a.data[b]){a.description=f(a.data,1,b),a.url=f(a.data,b+1,a.data.length);break}},PRIV:function(a){var b;for(b=0;b<a.data.length;b++)if(0===a.data[b]){a.owner=g(a.data,0,b);break}a.privateData=a.data.subarray(b+1),a.data=a.privateData}};d=function(a){var c,e={debug:!(!a||!a.debug),descriptor:a&&a.descriptor},f=0,g=[],j=0;if(d.prototype.init.call(this),this.dispatchType=b.mp2t.METADATA_STREAM_TYPE.toString(16),e.descriptor)for(c=0;c<e.descriptor.length;c++)this.dispatchType+=("00"+e.descriptor[c].toString(16)).slice(-2);this.push=function(a){var b,c,d,k,l;if("timed-metadata"===a.type){if(a.dataAlignmentIndicator&&(j=0,g.length=0),0===g.length&&(a.data.length<10||a.data[0]!=="I".charCodeAt(0)||a.data[1]!=="D".charCodeAt(0)||a.data[2]!=="3".charCodeAt(0)))return void(e.debug&&console.log("Skipping unrecognized metadata packet"));if(g.push(a),j+=a.data.byteLength,1===g.length&&(f=h(a.data.subarray(6,10)),f+=10),!(f>j)){for(b={data:new Uint8Array(f),frames:[],pts:g[0].pts,dts:g[0].dts},l=0;f>l;)b.data.set(g[0].data.subarray(0,f-l),l),l+=g[0].data.byteLength,j-=g[0].data.byteLength,g.shift();c=10,64&b.data[5]&&(c+=4,c+=h(b.data.subarray(10,14)),f-=h(b.data.subarray(16,20)));do{if(d=h(b.data.subarray(c+4,c+8)),1>d)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");k={id:String.fromCharCode(b.data[c],b.data[c+1],b.data[c+2],b.data[c+3]),data:b.data.subarray(c+10,c+d+10)},k.key=k.id,i[k.id]&&i[k.id](k),b.frames.push(k),c+=10,c+=d}while(f>c);this.trigger("data",b)}}}},d.prototype=new b.utils.Stream,b.mp2t=b.mp2t||{},b.mp2t.MetadataStream=d}(this,this.muxjs),function(a,b,c){"use strict";var d,e,f,g,h,i,j,k=b.mp4;e=function(a){var b=[],c=0,d=0,f=0;e.prototype.init.call(this),this.push=function(d){h(a,d),a&&(a.audioobjecttype=d.audioobjecttype,a.channelcount=d.channelcount,a.samplerate=d.samplerate,a.samplingfrequencyindex=d.samplingfrequencyindex,a.samplesize=d.samplesize),b.push(d),c+=d.data.byteLength},this.setEarliestDts=function(b){f=b-a.timelineStartInfo.baseMediaDecodeTime},this.flush=function(){var e,g,h,l,m,n,o;if(0===c)return void this.trigger("done");for(a.minSegmentDts<f&&(a.minSegmentDts=1/0,b=b.filter(function(b){return b.dts>=f?(a.minSegmentDts=Math.min(a.minSegmentDts,b.dts),a.minSegmentPts=a.minSegmentDts,!0):(c-=b.data.byteLength,!1)})),h=new Uint8Array(c),a.samples=[],m=0;b.length;)g=b[0],l={size:g.data.byteLength,duration:1024},a.samples.push(l),h.set(g.data,m),m+=g.data.byteLength,b.shift();c=0,n=k.mdat(h),j(a),o=k.moof(d,[a]),e=new Uint8Array(o.byteLength+n.byteLength),d++,e.set(o),e.set(n,o.byteLength),i(a),this.trigger("data",{track:a,boxes:e}),this.trigger("done")}},e.prototype=new b.utils.Stream,d=function(a){var b,e,f=0,g=[],l=0;d.prototype.init.call(this),delete a.minPTS,this.push=function(c){h(a,c),"seq_parameter_set_rbsp"!==c.nalUnitType||b||(b=c.config,a.width=b.width,a.height=b.height,a.sps=[c.data],a.profileIdc=b.profileIdc,a.levelIdc=b.levelIdc,a.profileCompatibility=b.profileCompatibility),"pic_parameter_set_rbsp"!==c.nalUnitType||e||(e=c.data,a.pps=[c.data]),g.push(c),l+=c.data.byteLength},this.flush=function(){for(var d,h,m,n,o,p,q,r,s,t;g.length&&"access_unit_delimiter_rbsp"!==g[0].nalUnitType;)g.shift();if(0===l)return void this.trigger("done");for(q=new Uint8Array(l+4*g.length),r=new DataView(q.buffer),a.samples=[],s={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}},p=0;g.length;)h=g[0],"access_unit_delimiter_rbsp"===h.nalUnitType&&(d&&(s.duration=h.dts-d.dts,a.samples.push(s)),s={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0},dataOffset:p,compositionTimeOffset:h.pts-h.dts},d=h),"slice_layer_without_partitioning_rbsp_idr"===h.nalUnitType&&(s.flags.dependsOn=2),s.size+=4,s.size+=h.data.byteLength,r.setUint32(p,h.data.byteLength),p+=4,q.set(h.data,p),p+=h.data.byteLength,g.shift();for(a.samples.length&&(s.duration=a.samples[a.samples.length-1].duration),a.samples.push(s),t=0;a.samples.length;){if(s=a.samples[0],2===s.flags.dependsOn){q=q.subarray(s.dataOffset),s.duration+=t;break}t+=s.duration,a.samples.shift()}l=0,n=k.mdat(q),j(a),this.trigger("timelineStartInfo",a.timelineStartInfo),m=k.moof(f,[a]),o=new Uint8Array(m.byteLength+n.byteLength),f++,o.set(m),o.set(n,m.byteLength),i(a),this.trigger("data",{track:a,boxes:o}),b=c,e=c,this.trigger("done")}},d.prototype=new b.utils.Stream,h=function(a,b){"number"==typeof b.pts&&(a.timelineStartInfo.pts===c&&(a.timelineStartInfo.pts=b.pts),a.minSegmentPts===c?a.minSegmentPts=b.pts:a.minSegmentPts=Math.min(a.minSegmentPts,b.pts),a.maxSegmentPts===c?a.maxSegmentPts=b.pts:a.maxSegmentPts=Math.max(a.maxSegmentPts,b.pts)),"number"==typeof b.dts&&(a.timelineStartInfo.dts===c&&(a.timelineStartInfo.dts=b.dts),a.minSegmentDts===c?a.minSegmentDts=b.dts:a.minSegmentDts=Math.min(a.minSegmentDts,b.dts),a.maxSegmentDts===c?a.maxSegmentDts=b.dts:a.maxSegmentDts=Math.max(a.maxSegmentDts,b.dts))},i=function(a){delete a.minSegmentDts,delete a.maxSegmentDts,delete a.minSegmentPts,delete a.maxSegmentPts},j=function(a){var b,c=9e4,d=a.minSegmentDts-a.timelineStartInfo.dts,e=a.minSegmentPts-a.minSegmentDts;a.baseMediaDecodeTime=a.timelineStartInfo.baseMediaDecodeTime,a.baseMediaDecodeTime+=d,a.baseMediaDecodeTime-=e,a.baseMediaDecodeTime=Math.max(0,a.baseMediaDecodeTime),"audio"===a.type&&(b=a.samplerate/c,a.baseMediaDecodeTime*=b,a.baseMediaDecodeTime=Math.floor(a.baseMediaDecodeTime))},g=function(a){this.numberOfTracks=0,this.metadataStream=a.metadataStream,"undefined"!=typeof a.remux?this.remuxTracks=!!a.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,g.prototype.init.call(this),this.push=function(a){return a.text?this.pendingCaptions.push(a):a.frames?this.pendingMetadata.push(a):(this.pendingTracks.push(a.track),this.pendingBoxes.push(a.boxes),this.pendingBytes+=a.boxes.byteLength,"video"===a.track.type&&(this.videoTrack=a.track),void("audio"===a.track.type&&(this.audioTrack=a.track)))}},g.prototype=new b.utils.Stream,g.prototype.flush=function(){var a,c,d,e,f=0,g={captions:[],metadata:[]},h=0;if(!(0===this.pendingTracks.length||this.remuxTracks&&this.pendingTracks.length<this.numberOfTracks)){for(this.videoTrack?h=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(h=this.audioTrack.timelineStartInfo.pts),1===this.pendingTracks.length?g.type=this.pendingTracks[0].type:g.type="combined",this.emittedTracks+=this.pendingTracks.length,d=b.mp4.initSegment(this.pendingTracks),g.data=new Uint8Array(d.byteLength+this.pendingBytes),g.data.set(d),f+=d.byteLength,e=0;e<this.pendingBoxes.length;e++)g.data.set(this.pendingBoxes[e],f),f+=this.pendingBoxes[e].byteLength;for(e=0;e<this.pendingCaptions.length;e++)a=this.pendingCaptions[e],a.startTime=a.startPts-h,a.startTime/=9e4,a.endTime=a.endPts-h,a.endTime/=9e4,g.captions.push(a);for(e=0;e<this.pendingMetadata.length;e++)c=this.pendingMetadata[e],c.cueTime=c.pts-h,c.cueTime/=9e4,g.metadata.push(c);g.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",g),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)}},f=function(a){var h,j,k,l,m,n,o,p,q,r,s,t=this;f.prototype.init.call(this),a=a||{},this.baseMediaDecodeTime=a.baseMediaDecodeTime||0,this.metadataStream=new b.mp2t.MetadataStream,a.metadataStream=this.metadataStream,k=new b.mp2t.TransportPacketStream,l=new b.mp2t.TransportParseStream,m=new b.mp2t.ElementaryStream,n=new b.codecs.AacStream,o=new b.codecs.H264Stream,s=new g(a),k.pipe(l).pipe(m),m.pipe(o),m.pipe(n),m.pipe(this.metadataStream).pipe(s),b.mp2t.CaptionStream&&(r=new b.mp2t.CaptionStream,o.pipe(r).pipe(s)),m.on("data",function(a){var b;if("metadata"===a.type){for(b=a.tracks.length;b--;)h||"video"!==a.tracks[b].type?j||"audio"!==a.tracks[b].type||(j=a.tracks[b],j.timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime):(h=a.tracks[b],h.timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime);h&&!p&&(s.numberOfTracks++,p=new d(h),p.on("timelineStartInfo",function(a){j&&(j.timelineStartInfo=a,q.setEarliestDts(a.dts))}),o.pipe(p).pipe(s)),j&&!q&&(s.numberOfTracks++,q=new e(j),n.pipe(q).pipe(s))}}),this.setBaseMediaDecodeTime=function(a){this.baseMediaDecodeTime=a,j&&(j.timelineStartInfo.dts=c,j.timelineStartInfo.pts=c,i(j),j.timelineStartInfo.baseMediaDecodeTime=a),h&&(h.timelineStartInfo.dts=c,h.timelineStartInfo.pts=c,i(h),h.timelineStartInfo.baseMediaDecodeTime=a)},this.push=function(a){k.push(a)},this.flush=function(){k.flush()},s.on("data",function(a){t.trigger("data",a)}),s.on("done",function(){t.trigger("done")})},f.prototype=new b.utils.Stream,b.mp4=b.mp4||{},b.mp4.VideoSegmentStream=d,b.mp4.AudioSegmentStream=e,b.mp4.Transmuxer=f}(this,this.muxjs);var wireTransmuxerEvents=function(a){a.on("data",function(a){var b=a.data;a.data=b.buffer,postMessage({action:"data",segment:a,byteOffset:b.byteOffset,byteLength:b.byteLength},[a.data])}),a.captionStream&&a.captionStream.on("data",function(a){postMessage({action:"caption",data:a})}),a.on("done",function(a){postMessage({action:"done"})})},messageHandlers={init:function(a){initOptions=a&&a.options||{},this.defaultInit()},defaultInit:function(){transmuxer&&transmuxer.dispose(),transmuxer=new muxjs.mp4.Transmuxer(initOptions),wireTransmuxerEvents(transmuxer)},push:function(a){var b=new Uint8Array(a.data,a.byteOffset,a.byteLength);transmuxer.push(b)},reset:function(){this.defaultInit()},setTimestampOffset:function(a){var b=a.timestampOffset||0;transmuxer.setBaseMediaDecodeTime(Math.round(9e4*b))},flush:function(a){transmuxer.flush()}};onmessage=function(a){transmuxer||"init"===a.data.action||messageHandlers.defaultInit(),a.data&&a.data.action&&messageHandlers[a.data.action]&&messageHandlers[a.data.action](a.data)};'],{
type:"application/javascript"}))),this.transmuxer_.postMessage({action:"init",options:{remux:!1}}),this.transmuxer_.onmessage=function(e){return"data"===e.data.action?i.data_(e):"done"===e.data.action?i.done_(e):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,"updating",{get:function(){return this.bufferUpdating_||this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating}}),Object.defineProperty(this,"buffered",{get:function(){var t=null,n=null,i=0,r=[],s=[];if(!(this.videoBuffer_&&0!==this.videoBuffer_.buffered.length||this.audioBuffer_&&0!==this.audioBuffer_.buffered.length))return e.createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;for(var o=this.videoBuffer_.buffered,a=this.audioBuffer_.buffered,l=o.length;l--;)r.push({time:o.start(l),type:"start"}),r.push({time:o.end(l),type:"end"});for(l=a.length;l--;)r.push({time:a.start(l),type:"start"}),r.push({time:a.end(l),type:"end"});for(r.sort(function(e,t){return e.time-t.time}),l=0;l<r.length;l++)"start"===r[l].type?(i++,2===i&&(t=r[l].time)):"end"===r[l].type&&(i--,1===i&&(n=r[l].time)),null!==t&&null!==n&&(s.push([t,n]),t=null,n=null);return e.createTimeRanges(s)}})},data_:function(e){var t=e.data.segment,n=this.mediaSource_.mediaSource_;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),"video"===t.type?this.videoBuffer_||(this.videoBuffer_=n.addSourceBuffer('video/mp4;codecs="'+this.codecs_[0]+'"'),this.videoBuffer_.addEventListener("updatestart",o(this,"audioBuffer_","updatestart")),this.videoBuffer_.addEventListener("update",o(this,"audioBuffer_","update")),this.videoBuffer_.addEventListener("updateend",o(this,"audioBuffer_","updateend"))):"audio"===t.type?this.audioBuffer_||(this.audioBuffer_=n.addSourceBuffer('audio/mp4;codecs="'+this.codecs_[1]+'"'),this.audioBuffer_.addEventListener("updatestart",o(this,"videoBuffer_","updatestart")),this.audioBuffer_.addEventListener("update",o(this,"videoBuffer_","update")),this.audioBuffer_.addEventListener("updateend",o(this,"videoBuffer_","updateend"))):"combined"===t.type&&(this.videoBuffer_||(this.videoBuffer_=n.addSourceBuffer('video/mp4;codecs="'+this.codecs_.join(",")+'"'),this.videoBuffer_.addEventListener("updatestart",o(this,"videoBuffer_","updatestart")),this.videoBuffer_.addEventListener("update",o(this,"videoBuffer_","update")),this.videoBuffer_.addEventListener("updateend",o(this,"videoBuffer_","updateend")))),d(this,this.mediaSource_,t),this.pendingBuffers_.push(t)},done_:function(){this.processPendingSegments_()},appendBuffer:function(e){this.bufferUpdating_=!0,this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})},remove:function(e,t){this.videoBuffer_&&this.videoBuffer_.remove(e,t),this.audioBuffer_&&this.audioBuffer_.remove(e,t),u(e,t,this.metadataTrack_),u(e,t,this.inbandTextTrack_)},processPendingSegments_:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var n=t.type,i=t.data;return"combined"===n&&(n="video"),e[n].segments.push(i),e[n].bytes+=i.byteLength,t.captions&&(e.captions=e.captions.concat(t.captions)),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),h(this,e.captions,e.metadata),this.concatAndAppendSegments_(e.video,this.videoBuffer_),this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,this.bufferUpdating_=!1},concatAndAppendSegments_:function(e,t){var n,i=0;e.bytes&&(n=new Uint8Array(e.bytes),e.segments.forEach(function(e){n.set(e,i),i+=e.byteLength}),t.appendBuffer(n))},abort:function(){this.videoBuffer_&&this.videoBuffer_.abort(),this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}),e.FlashMediaSource=e.extend(f,{constructor:function(){var t=this;this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(n){this.swfObj=document.getElementById(n.swfId),this.player_=e(this.swfObj.parentNode),this.tech_=this.swfObj.tech,this.readyState="open",this.tech_.on("seeking",function(){for(var e=t.sourceBuffers.length;e--;)t.sourceBuffers[e].abort()}),this.swfObj&&this.swfObj.vjs_load()})},addSeekableRange_:function(){}}),e.FlashMediaSource.TIME_BETWEEN_TICKS=Math.floor(1e3/480),e.FlashMediaSource.TIME_PER_TICK=Math.floor(1e3/240),e.FlashMediaSource.BYTES_PER_CHUNK=1024,e.FlashMediaSource.MIN_CHUNK=1024,e.FlashMediaSource.MAX_CHUNK=1048576,e.FlashMediaSource.prototype.addSourceBuffer=function(t){var n;if(0!==t.indexOf("video/mp2t"))throw new Error("NotSupportedError (Video.js)");return n=new e.FlashSourceBuffer(this),this.sourceBuffers.push(n),n};try{Object.defineProperty(e.FlashMediaSource.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(e){var t,n=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",e),e<n)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,n);return e}})}catch(v){e.FlashMediaSource.prototype.duration=NaN}e.FlashMediaSource.prototype.endOfStream=function(e){"network"===e?this.tech_.error(2):"decode"===e&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())},e.mediaSources={},e.MediaSource.open=function(t,n){var i=e.mediaSources[t];if(!i)throw new Error("Media Source not found (Video.js)");i.trigger({type:"sourceopen",swfId:n})},a=function(n){t.setTimeout(n,e.FlashMediaSource.TIME_BETWEEN_TICKS)},e.FlashSourceBuffer=e.extend(f,{constructor:function(i){var r,s=this;this.chunkSize_=e.FlashMediaSource.BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource=i,this.updating=!1,this.timestampOffset_=0,this.segmentParser_=new n.flv.Transmuxer,this.segmentParser_.on("data",this.receiveBuffer_.bind(this)),r=t.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(this.segmentParser_.getFlvHeader()))),this.mediaSource.swfObj.vjs_appendBuffer(r),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.segmentParser_=new n.flv.Transmuxer,this.segmentParser_.on("data",this.receiveBuffer_.bind(this)),this.mediaSource.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN)}}),Object.defineProperty(this,"buffered",{get:function(){return e.createTimeRanges(this.mediaSource.swfObj.vjs_getProperty("buffered"))}}),this.mediaSource.player_.on("seeked",function(){u(0,1/0,s.metadataTrack_),u(0,1/0,s.inbandTextTrack_)})},appendBuffer:function(e){var t,n=this;if(this.updating)throw t=new Error("SourceBuffer.append() cannot be called while an update is in progress"),t.name="InvalidStateError",t.code=11,t;this.updating=!0,this.mediaSource.readyState="open",this.trigger({type:"update"});var i=524288,r=0;!function s(){n.segmentParser_.push(e.subarray(r,r+i)),r+=i,a(r<e.byteLength?s:n.segmentParser_.flush.bind(n.segmentParser_))}()},abort:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))},remove:function(e,t){u(e,t,this.metadataTrack_),u(e,t,this.inbandTextTrack_),this.trigger({type:"update"}),this.trigger({type:"updateend"})},receiveBuffer_:function(e){var t=this;d(this,this.mediaSource,e),h(this,e.captions,e.metadata),a(function(){0===t.buffer_.length&&a(t.processBuffer_.bind(t));var n=t.convertTagsToData_(e);n&&(t.buffer_.push(n),t.bufferSize_+=n.byteLength)})},processBuffer_:function(){var n,i,r,s,o,l,c=0,u=0,d=+new Date;if(!this.buffer_.length)return void(this.updating!==!1&&(this.updating=!1,this.trigger({type:"updateend"})));do{for(u++,n=this.buffer_[0].subarray(c,c+this.chunkSize_),n.byteLength<this.chunkSize_||this.buffer_[0].byteLength===c+this.chunkSize_?(c=0,this.buffer_.shift()):c+=this.chunkSize_,this.bufferSize_-=n.byteLength,s="",r=n.byteLength,i=0;i<r;i++)s+=String.fromCharCode(n[i]);o=t.btoa(s),this.mediaSource.swfObj.CallFunction('<invoke name="vjs_appendBuffer"returntype="javascript"><arguments><string>'+o+"</string></arguments></invoke>"),l=new Date-d}while(this.buffer_.length&&l<e.FlashMediaSource.TIME_PER_TICK);this.buffer_.length&&c&&(this.buffer_[0]=this.buffer_[0].subarray(c)),l>=e.FlashMediaSource.TIME_PER_TICK&&(this.chunkSize_=Math.floor(this.chunkSize_*(u/4))),this.chunkSize_=Math.max(e.FlashMediaSource.MIN_CHUNK,Math.min(this.chunkSize_,e.FlashMediaSource.MAX_CHUNK)),0!==this.bufferSize_?a(this.processBuffer_.bind(this)):(this.updating=!1,this.trigger({type:"updateend"}))},convertTagsToData_:function(e){var t,n,i,r=0,s=this.mediaSource.tech_,o=0,a=[],l=this.getOrderedTags_(e);for(isNaN(this.basePtsOffset_)&&l.length&&(this.basePtsOffset_=l[0].pts),s.buffered().length&&(o=s.buffered().end(0)-this.timestampOffset),o=Math.max(o,s.currentTime()-this.timestampOffset),o*=1e3,o+=this.basePtsOffset_,t=0;t<l.length;t++)l[t].pts>=o&&a.push(l[t]);if(0!==a.length){for(t=0;t<a.length;t++)r+=a[t].bytes.byteLength;for(i=new Uint8Array(r),t=0,n=0;t<a.length;t++)i.set(a[t].bytes,n),n+=a[t].bytes.byteLength;return i}},getOrderedTags_:function(e){for(var t,n=e.tags.videoTags,i=e.tags.audioTags,r=[];n.length||i.length;)t=n.length?i.length&&i[0].dts<n[0].dts?i.shift():n.shift():i.shift(),r.push(t.finalize());return r}}),e.URL={createObjectURL:function(n){var i;return n instanceof e.HtmlMediaSource?(i=t.URL.createObjectURL(n.mediaSource_),n.url_=i,i):n instanceof e.FlashMediaSource?(i=m+p,p++,e.mediaSources[i]=n,i):(i=t.URL.createObjectURL(n),n.url_=i,i)}}}(this,this.muxjs),function(e,t,n,i){"use strict";var r,s,o=1.4,a=300,l=1/30,c=t.getComponent("Component"),u=250;r=function(e){return e.retries&&e.retries>=2},t.Hls={},t.HlsHandler=t.extend(c,{constructor:function(e,n){var i,r=this;c.call(this,e),e.options_&&e.options_.playerId&&(i=t(e.options_.playerId),i.hls||Object.defineProperty(i,"hls",{get:function(){return t.log.warn("player.hls is deprecated. Use player.tech.hls instead."),r}})),this.tech_=e,this.source_=n.source,this.mode_=n.mode,this.pendingSegment_=null,this.processedSegment_=null,this.bandwidth=n.bandwidth||4194304,this.bytesReceived=0,this.loadingState_="none","none"!==this.tech_.preload()&&(this.loadingState_="meta"),this.startCheckingBuffer_(),this.on(this.tech_,"seeking",function(){this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.stopCheckingBuffer_()}),this.on(this.tech_,"play",this.play)}}),t.Hls.canPlaySource=function(){return t.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},t.HlsSourceHandler=function(e){return{canHandleSource:function(e){return t.HlsSourceHandler.canPlayType(e.type)},handleSource:function(n,i){return"flash"===e&&i.setTimeout(function(){i.trigger("loadstart")},1),i.hls=new t.HlsHandler(i,{source:n,mode:e}),i.hls.src(n.src),i.hls},canPlayType:function(e){return t.HlsSourceHandler.canPlayType(e)}}},t.HlsSourceHandler.canPlayType=function(e){var n=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return!t.Hls.supportsNativeHls&&n.test(e)},t.MediaSource.supportsNativeMediaSources()&&t.getComponent("Html5").registerSourceHandler(t.HlsSourceHandler("html5")),e.Uint8Array&&t.getComponent("Flash").registerSourceHandler(t.HlsSourceHandler("flash")),t.Hls.GOAL_BUFFER_LENGTH=120,t.HlsHandler.prototype.applySafeAppendBuffer=function(e){var t,n=this,i=e.mediaSource_;i&&(t=i.addSourceBuffer,i.addSourceBuffer=function(e){var r=t.call(i,e),s=r.appendBuffer;return r.appendBuffer=function(e){try{r.updating||s.call(r,e)}catch(t){if("QuotaExceededError"!==t.name)throw t;n.sourceBuffer.bufferUpdating_=!1,n.trimSourceBuffer(),n.updateEndHandler_()}},r})},t.HlsHandler.prototype.src=function(e){var n;e&&(this.mediaSource=new t.MediaSource({mode:this.mode_}),this.applySafeAppendBuffer(this.mediaSource),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen.bind(this)),this.options_={},this.source_.withCredentials!==i?this.options_.withCredentials=this.source_.withCredentials:t.options.hls&&(this.options_.withCredentials=t.options.hls.withCredentials),this.playlists=new t.Hls.PlaylistLoader(this.source_.src,this.options_.withCredentials),this.tech_.one("canplay",this.setupFirstPlay.bind(this)),this.playlists.on("loadedmetadata",function(){n=this.playlists.media(),n.endList&&"metadata"!==this.tech_.preload()&&"none"!==this.tech_.preload()&&(this.loadingState_="segments"),this.setupSourceBuffer_(),this.setupFirstPlay(),this.fillBuffer(),this.tech_.trigger("loadedmetadata")}.bind(this)),this.playlists.on("error",function(){this.blacklistCurrentPlaylist_(this.playlists.error)}.bind(this)),this.playlists.on("loadedplaylist",function(){var e,t=this.playlists.media();return t?(this.updateDuration(this.playlists.media()),e=this.seekable(),this.duration()===1/0&&0!==e.length&&this.mediaSource.addSeekableRange_(e.start(0),e.end(0)),void(n=t)):void this.playlists.media(this.selectPlaylist())}.bind(this)),this.playlists.on("mediachange",function(){this.tech_.trigger({type:"mediachange",bubbles:!0})}.bind(this)),this.tech_.el()&&this.tech_.src(t.URL.createObjectURL(this.mediaSource)))},t.HlsHandler.prototype.handleSourceOpen=function(){this.sourceBuffer||this.setupSourceBuffer_(),this.tech_.autoplay()&&this.play()},t.Hls.findSoleUncommonTimeRangesEnd_=function(e,t){var n,i,r,s=[],o=[],a=function(e){return e[0]<=r&&e[1]>=r};if(e)for(n=0;n<e.length;n++)i=e.start(n),r=e.end(n),o.push([i,r]);if(t)for(n=0;n<t.length;n++)i=t.start(n),r=t.end(n),o.some(a)||s.push(r);return 1!==s.length?null:s[0]};var d=function(e){var t={codecCount:0,videoCodec:null,audioProfile:null};return t.codecCount=e.split(",").length,t.codecCount=t.codecCount||2,t.videoCodec=/(^|\s|,)+(avc1)[^ ,]*/i.exec(e),t.videoCodec=t.videoCodec&&t.videoCodec[2],t.audioProfile=/(^|\s|,)+mp4a.\d+\.(\d+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t};t.HlsHandler.prototype.excludeIncompatibleVariants_=function(e){var t,n=this.playlists.master,i=2,r=null,s=null;e.attributes&&e.attributes.CODECS&&(t=d(e.attributes.CODECS),r=t.videoCodec,s=t.audioProfile,i=t.codecCount),n.playlists.forEach(function(e){var t={codecCount:2,videoCodec:null,audioProfile:null};e.attributes&&e.attributes.CODECS&&(t=d(e.attributes.CODECS)),t.codecCount!==i&&(e.excludeUntil=1/0),t.videoCodec!==r&&(e.excludeUntil=1/0),("5"===t.audioProfile&&"5"!==s||"5"===s&&"5"!==t.audioProfile)&&(e.excludeUntil=1/0)})},t.HlsHandler.prototype.setupSourceBuffer_=function(){var e,t=this.playlists.media();t&&"open"===this.mediaSource.readyState&&(e="video/mp2t",t.attributes&&t.attributes.CODECS&&(e+='; codecs="'+t.attributes.CODECS+'"'),this.sourceBuffer=this.mediaSource.addSourceBuffer(e),this.excludeIncompatibleVariants_(t),this.sourceBuffer.addEventListener("updateend",this.updateEndHandler_.bind(this)))},t.HlsHandler.prototype.setupFirstPlay=function(){var e,t;t=this.playlists.media(),this.duration()===1/0&&0===this.tech_.played().length&&!this.tech_.paused()&&this.sourceBuffer&&t&&this.tech_.readyState()>=1&&(this.playlists.trigger("firstplay"),e=this.seekable(),e.length&&this.tech_.setCurrentTime(e.end(0)))},t.HlsHandler.prototype.play=function(){return this.loadingState_="segments",this.tech_.ended()&&this.tech_.setCurrentTime(0),0===this.tech_.played().length?this.setupFirstPlay():void(this.duration()===1/0&&this.tech_.currentTime()<this.seekable().start(0)&&this.tech_.setCurrentTime(this.seekable().start(0)))},t.HlsHandler.prototype.setCurrentTime=function(e){var t=this.findBufferedRange_();return this.playlists&&this.playlists.media()&&this.playlists.media().segments?t&&t.length?e:this.pendingSegment_&&this.pendingSegment_.buffered?e:(this.lastSegmentLoaded_=null,this.cancelSegmentXhr(),this.keyXhr_&&(this.keyXhr_.aborted=!0,this.cancelKeyXhr()),void this.fillBuffer(this.playlists.getMediaIndexForTime_(e))):0},t.HlsHandler.prototype.duration=function(){var e=this.playlists;return e?t.Hls.Playlist.duration(e.media()):0},t.HlsHandler.prototype.seekable=function(){var e,n;return this.playlists&&(e=this.playlists.media())?(n=t.Hls.Playlist.seekable(e),0===n.length?n:0===n.start(0)?t.createTimeRanges([[this.playlists.expired_,this.playlists.expired_+n.end(0)]]):n):t.createTimeRanges()},t.HlsHandler.prototype.updateDuration=function(e){var n=this.mediaSource.duration,i=t.Hls.Playlist.duration(e),r=function(){this.mediaSource.duration=i,this.tech_.trigger("durationchange"),this.mediaSource.removeEventListener("sourceopen",r)}.bind(this);n!==i&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):this.sourceBuffer&&this.sourceBuffer.updating||(this.mediaSource.duration=i,this.tech_.trigger("durationchange")))},t.HlsHandler.prototype.resetSrc_=function(){this.cancelSegmentXhr(),this.cancelKeyXhr(),this.sourceBuffer&&"open"===this.mediaSource.readyState&&this.sourceBuffer.abort()},t.HlsHandler.prototype.cancelKeyXhr=function(){this.keyXhr_&&(this.keyXhr_.onreadystatechange=null,this.keyXhr_.abort(),this.keyXhr_=null)},t.HlsHandler.prototype.cancelSegmentXhr=function(){this.segmentXhr_&&(this.segmentXhr_.onreadystatechange=null,this.segmentXhr_.abort(),this.segmentXhr_=null),this.pendingSegment_=null},t.HlsHandler.prototype.dispose=function(){this.stopCheckingBuffer_(),this.playlists&&this.playlists.dispose(),this.resetSrc_(),c.prototype.dispose.call(this)},t.HlsHandler.prototype.getQuality=function(e){return e.attributes?e.attributes.BANDWIDTH>=3e5?"HD":"SD":""},t.HlsHandler.prototype.selectPlaylist=function(){var e,n,r,s,a,l,c,u,d=this.playlists.master.playlists.slice(),h=[],p=+new Date;if(d.sort(t.Hls.comparePlaylistBandwidth),d=d.filter(function(e){return e.excludeUntil===i||p>=e.excludeUntil}),this.mediaSource.player_&&"HD"===this.mediaSource.player_.currentRes&&this.bandwidth>1){var f=d.filter(function(e){return"HD"===this.getQuality(e)}.bind(this));0===f.length&&f.push(d[d.length-1]),d=f}else if(this.mediaSource.player_&&"SD"===this.mediaSource.player_.currentRes){var m=d.filter(function(e){return"SD"===this.getQuality(e)}.bind(this));0===m.length&&m.push(d[0]),d=m}for(n=d.length;n--;)r=d[n],r.attributes&&r.attributes.BANDWIDTH&&(e=r.attributes.BANDWIDTH*o,e<this.bandwidth&&(h.push(r),s||(s=r)));for(n=h.length,h.sort(t.Hls.comparePlaylistResolution),r=null,c=parseInt(getComputedStyle(this.tech_.el()).width,10),u=parseInt(getComputedStyle(this.tech_.el()).height,10);n--;)if(r=h[n],r.attributes&&r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width&&r.attributes.RESOLUTION.height){if(r.attributes.RESOLUTION.width===c&&r.attributes.RESOLUTION.height===u){a=null,l=r;break}if(r.attributes.RESOLUTION.width<c&&r.attributes.RESOLUTION.height<u)break;(!a||r.attributes.RESOLUTION.width<a.attributes.RESOLUTION.width&&r.attributes.RESOLUTION.height<a.attributes.RESOLUTION.height)&&(a=r)}return a||l||s||d[0]},t.HlsHandler.prototype.checkBuffer_=function(){this.checkBufferTimeout_&&(e.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null),this.fillBuffer(),this.drainBuffer(),this.checkBufferTimeout_=e.setTimeout(this.checkBuffer_.bind(this),u)},t.HlsHandler.prototype.startCheckingBuffer_=function(){this.checkBuffer_()},t.HlsHandler.prototype.stopCheckingBuffer_=function(){this.checkBufferTimeout_&&(e.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)};var h=function(e){return function(n){var r,s=[],o=this.tech_,a=o.buffered();if(n===i&&(n=o.currentTime()),a&&a.length)for(n=Math.max(n,a.start(0)),r=0;r<a.length;r++)e(a.start(r),a.end(r),n)&&s.push([a.start(r),a.end(r)]);return t.createTimeRanges(s)}};t.HlsHandler.prototype.findBufferedRange_=h(function(e,t,n){return e-l<=n&&t+l>=n}),t.HlsHandler.prototype.findNextBufferedRange_=h(function(e,t,n){return e-l>=n}),t.HlsHandler.prototype.fillBuffer=function(e){var n,r,s,o,a=this.tech_,l=a.currentTime(),c=0!==this.tech_.buffered().length,u=this.findBufferedRange_(),d=!(u&&u.length),h=0,p=0,f=this.processedSegment_;if("segments"===this.loadingState_&&a.currentSrc()&&this.playlists&&!this.segmentXhr_&&!this.pendingSegment_&&"HAVE_NOTHING"!==this.playlists.state&&this.playlists.media()&&this.playlists.media().segments&&"SWITCHING_MEDIA"!==this.playlists.state){if(e===i)if(u&&u.length){if(h=u.end(0),e=this.playlists.getMediaIndexForTime_(Math.ceil(h)),p=Math.max(0,h-l),p>=t.Hls.GOAL_BUFFER_LENGTH)return}else e=this.playlists.getMediaIndexForTime_(this.tech_.currentTime());if(r=this.playlists.media().segments[e])return this.lastSegmentLoaded_&&this.playlistUriToUrl(this.lastSegmentLoaded_.uri)===this.playlistUriToUrl(r.uri)&&this.lastSegmentLoaded_.byterange===r.byterange?this.fillBuffer(e+1):(s={uri:this.playlistUriToUrl(r.uri),mediaIndex:e,mediaSequence:this.playlists.media().mediaSequence,playlist:this.playlists.media(),currentBufferedEnd:h,bytes:null,encryptedBytes:null,decrypter:null,buffered:null,timestampOffset:null},e>0&&(o=t.Hls.Playlist.duration(s.playlist,s.playlist.mediaSequence+e)+this.playlists.expired_),this.tech_.seeking()&&d?s.playlist.discontinuityStarts.length&&(s.timestampOffset=o):r.discontinuity&&u.length?s.timestampOffset=u.end(0):!c&&this.tech_.currentTime()>.05&&(s.timestampOffset=o),f&&(n=f.playlist.segments[f.mediaIndex],f.mediaIndex===s.mediaIndex&&f.playlist.length===s.playlist.length&&n.duration===r.duration)?this.fillBuffer(s.mediaIndex+1):void this.loadSegment(s))}},t.HlsHandler.prototype.playlistUriToUrl=function(e){var t;return t=this.playlists.media().uri===this.source_.src?s(this.source_.src,e):s(s(this.source_.src,this.playlists.media().uri||""),e)},t.HlsHandler.prototype.byterangeStr_=function(e){var t,n;return n=e.offset+e.length-1,t=e.offset,"bytes="+t+"-"+n},t.HlsHandler.prototype.segmentXhrHeaders_=function(e){var t={};return"byterange"in e&&(t.Range=this.byterangeStr_(e.byterange)),t},t.HlsHandler.prototype.setBandwidth=function(e){this.segmentXhrTime=e.roundTripTime,this.bandwidth=e.bandwidth,this.bytesReceived+=e.bytesReceived||0,this.tech_.trigger("bandwidthupdate")},t.HlsHandler.prototype.blacklistCurrentPlaylist_=function(e){var n,i;return(n=e.playlist||this.playlists.media())?(n.excludeUntil=Date.now()+a,i=this.selectPlaylist(),i?(t.log.warn("Problem encountered with the current HLS playlist. Switching to another playlist."),this.playlists.media(i)):(t.log.warn("Problem encountered with the current HLS playlist. No suitable alternatives found."),this.error=e,this.mediaSource.endOfStream("network"))):(this.error=e,this.mediaSource.endOfStream("network"))},t.HlsHandler.prototype.trimSourceBuffer=function(){var e=0,t=0,n=this.seekable();return!!(this.sourceBuffer&&!this.sourceBuffer.updating&&(n.length&&n.start(0)>0?t=n.start(0):(this.sourceBuffer.buffered.length&&(e=this.sourceBuffer.buffered.start(0)),t=this.tech_.currentTime()-60),t>e))&&(this.sourceBuffer.remove(0,t),!0)},t.HlsHandler.prototype.loadSegment=function(e){var n=this,i=e.playlist.segments[e.mediaIndex];i.key&&this.fetchKey_(i),this.segmentXhr_=t.Hls.xhr({uri:e.uri,responseType:"arraybuffer",withCredentials:this.source_.withCredentials,timeout:10*i.duration*1e3,headers:this.segmentXhrHeaders_(i)},function(t,r){if(n.processedSegment_=null,n.segmentXhr_&&r===n.segmentXhr_)return n.segmentXhr_=null,r.timedout?(n.bandwidth=1,n.playlists.media(n.selectPlaylist())):!r.aborted&&t?n.blacklistCurrentPlaylist_({status:r.status,message:"HLS segment request error at URL: "+e.uri,code:r.status>=500?4:2}):void(r.response&&(n.lastSegmentLoaded_=i,n.setBandwidth(r),i.key?e.encryptedBytes=new Uint8Array(r.response):e.bytes=new Uint8Array(r.response),n.pendingSegment_=e,n.tech_.trigger("progress"),n.drainBuffer(),n.playlists.media(n.selectPlaylist())))})},t.HlsHandler.prototype.drainBuffer=function(){var e,n,i,s,o,a,l,c;if(this.pendingSegment_&&this.sourceBuffer&&!this.pendingSegment_.buffered&&!this.sourceBuffer.updating){if(e=this.pendingSegment_,n=e.mediaIndex,i=e.playlist,s=e.offset,o=e.bytes,a=i.segments[n],a.key&&!o)return r(a.key)?this.blacklistCurrentPlaylist_({message:"HLS segment key request error.",code:4}):a.key.bytes?e.decrypter?void 0:(c=a.key.iv||new Uint32Array([0,0,0,n+i.mediaSequence]),l=new t.Hls.Decrypter(e.encryptedBytes,a.key.bytes,c,function(t,n){e.bytes=n}),void(e.decrypter=l)):void 0;this.pendingSegment_.buffered=this.tech_.buffered(),null!==e.timestampOffset&&(this.sourceBuffer.timestampOffset=e.timestampOffset),this.sourceBuffer.appendBuffer(o)}},t.HlsHandler.prototype.updateEndHandler_=function(){var e,n,i,r,s,o,a,c=this.pendingSegment_;if(c&&c.buffered){if(this.pendingSegment_=null,this.processedSegment_=c,i=this.playlists.media(),n=i.segments,r=c.mediaIndex+(c.mediaSequence-i.mediaSequence),s=this.findBufferedRange_(),c.playlist.uri!==this.playlists.media().uri)return this.fillBuffer();if(e=i.segments[r],o=this.seekable(),this.tech_.seeking()&&0===s.length&&o.length&&this.tech_.currentTime()<o.start(0)){var u=this.findNextBufferedRange_();u.length&&(t.log("tried seeking to",this.tech_.currentTime(),"but that was too early, retrying at",u.start(0)),this.tech_.setCurrentTime(u.start(0)+l))}return a=t.Hls.findSoleUncommonTimeRangesEnd_(c.buffered,this.tech_.buffered()),a&&e&&(e.end=a),this.playlists.media().endList&&s.length&&n[n.length-1].end<=s.end(0)&&"open"===this.mediaSource.readyState?void this.mediaSource.endOfStream():null!==a||c.buffered.length!==this.tech_.buffered().length?(this.updateDuration(i),void this.fillBuffer()):void this.fillBuffer(r+1)}},t.HlsHandler.prototype.fetchKey_=function(e){var n,i,s,o;if(!this.keyXhr_&&(i=this,s=this.options_,o=function(t){return function(n,r){var s;return i.keyXhr_=null,n||!r.response||16!==r.response.byteLength?(t.retries=t.retries||0,t.retries++,void(r.aborted||i.fetchKey_(e))):(s=new DataView(r.response),t.bytes=new Uint32Array([s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12)]),void i.checkBuffer_())}},n=e.key))return n.bytes||r(n)?void 0:void(this.keyXhr_=t.Hls.xhr({uri:this.playlistUriToUrl(n.uri),responseType:"arraybuffer",withCredentials:s.withCredentials},o(n)))},t.Hls.supportsNativeHls=function(){var e,i,r=n.createElement("video");return!!t.getComponent("Html5").isSupported()&&(e=r.canPlayType("application/x-mpegURL"),i=r.canPlayType("application/vnd.apple.mpegURL"),/probably|maybe/.test(e)||/probably|maybe/.test(i))}(),t.Hls.isSupported=function(){return t.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},t.Hls.comparePlaylistBandwidth=function(t,n){var i,r;return t.attributes&&t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||e.Number.MAX_VALUE,n.attributes&&n.attributes.BANDWIDTH&&(r=n.attributes.BANDWIDTH),r=r||e.Number.MAX_VALUE,i-r},t.Hls.comparePlaylistResolution=function(t,n){var i,r;return t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||e.Number.MAX_VALUE,n.attributes&&n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(r=n.attributes.RESOLUTION.width),r=r||e.Number.MAX_VALUE,i===r&&t.attributes.BANDWIDTH&&n.attributes.BANDWIDTH?t.attributes.BANDWIDTH-n.attributes.BANDWIDTH:i-r},s=t.Hls.resolveUrl=function(e,t){var i,r,s=n.querySelector("base"),o=n.querySelector("head"),a=n.createElement("a"),l=s;return s?i=s.href:l=o.appendChild(n.createElement("base")),l.href=e,a.href=t,r=a.href,s?s.href=i:o.removeChild(l),r}}(window,t,document),function(e){"use strict";e.Hls.xhr=function(t,n){t=e.mergeOptions({timeout:45e3},t);var i=e.xhr(t,function(e,t){!e&&i.response&&(i.responseTime=(new Date).getTime(),i.roundTripTime=i.responseTime-i.requestTime,i.bytesReceived=i.response.byteLength||i.response.length,i.bandwidth||(i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3))),e||i.timedout?i.timedout=i.timedout||"ETIMEDOUT"===e.code:i.timedout=!1,e||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(i&&(i.response||i.responseText)))),n(e,i)});return i.requestTime=(new Date).getTime(),i}}(t),function(e,t){var n=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t].push(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,r,s;if(n=e[t])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else for(s=Array.prototype.slice.call(arguments,1),r=n.length,i=0;i<r;++i)n[i].apply(this,s)},this.dispose=function(){e={}}}};n.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},e.Hls.Stream=n}(t),function(e,n,i,r,s){var o,a,l,c=function(){},u=function(){var e="[^=]*",t='"[^"]*"|[^,]*',n="(?:"+e+")=(?:"+t+")";return new RegExp("(?:^|,)("+n+")")}(),d=function(e){for(var t,n=e.split(u),i=n.length,r={};i--;)""!==n[i]&&(t=/([^=]*)=(.*)/.exec(n[i]).slice(1),t[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),r[t[0]]=t[1]);return r},h=e.Hls.Stream;o=function(){var e="";o.prototype.init.call(this),this.push=function(t){var n;for(e+=t,n=e.indexOf("\n");n>-1;n=e.indexOf("\n"))this.trigger("data",e.substring(0,n)),e=e.substring(n+1)}},o.prototype=new h,a=function(){a.prototype.init.call(this)},a.prototype=new h,a.prototype.push=function(e){var t,i;if(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==e.length)return"#"!==e[0]?void this.trigger("data",{type:"uri",uri:e}):0!==e.indexOf("#EXT")?void this.trigger("data",{type:"comment",text:e.slice(1)}):(e=e.replace("\r",""),(t=/^#EXTM3U/.exec(e))?void this.trigger("data",{type:"tag",tagType:"m3u"}):(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))?(i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),void this.trigger("data",i)):(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))?(i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=n(t[1],10)),void this.trigger("data",i)):(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))?(i={type:"tag",tagType:"totalduration"},t[1]&&(i.duration=n(t[1],10)),void this.trigger("data",i)):(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))?(i={type:"tag",tagType:"version"},t[1]&&(i.version=n(t[1],10)),void this.trigger("data",i)):(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))?(i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=n(t[1],10)),void this.trigger("data",i)):(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))?(i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=n(t[1],10)),void this.trigger("data",i)):(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))?(i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),void this.trigger("data",i)):(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))?(i={type:"tag",tagType:"byterange"},t[1]&&(i.length=n(t[1],10)),t[2]&&(i.offset=n(t[2],10)),void this.trigger("data",i)):(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))?(i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),void this.trigger("data",i)):(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e))?(i={type:"tag",tagType:"stream-inf"},t[1]&&(i.attributes=d(t[1]),i.attributes.RESOLUTION&&!function(){var e=i.attributes.RESOLUTION.split("x"),t={};e[0]&&(t.width=n(e[0],10)),e[1]&&(t.height=n(e[1],10)),i.attributes.RESOLUTION=t}(),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=n(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=n(i.attributes["PROGRAM-ID"],10))),void this.trigger("data",i)):(t=/^#EXT-X-ENDLIST/.exec(e))?void this.trigger("data",{
type:"tag",tagType:"endlist"}):(t=/^#EXT-X-DISCONTINUITY/.exec(e))?void this.trigger("data",{type:"tag",tagType:"discontinuity"}):(t=/^#EXT-X-KEY:?(.*)$/.exec(e))?(i={type:"tag",tagType:"key"},t[1]&&(i.attributes=d(t[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2)&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=n(i.attributes.IV[0],16),i.attributes.IV[1]=n(i.attributes.IV[1],16),i.attributes.IV[2]=n(i.attributes.IV[2],16),i.attributes.IV[3]=n(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void this.trigger("data",i)):void this.trigger("data",{type:"tag",data:e.slice(4,e.length)}))},l=function(){var e,t=this,n=[],u={};l.prototype.init.call(this),this.lineStream=new o,this.parseStream=new a,this.lineStream.pipe(this.parseStream),this.manifest={allowCache:!0,discontinuityStarts:[]},this.parseStream.on("data",function(o){({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=o.allowed,"allowed"in o||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in o&&(u.byterange=e,e.length=o.length,"offset"in o||(this.trigger("info",{message:"defaulting offset to zero"}),o.offset=0)),"offset"in o&&(u.byterange=e,e.offset=o.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),o.duration>=0&&(u.duration=o.duration),this.manifest.segments=n},key:function(){return o.attributes?"NONE"===o.attributes.METHOD?void(e=null):o.attributes.URI?(o.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),e={method:o.attributes.METHOD||"AES-128",uri:o.attributes.URI},void(o.attributes.IV!==s&&(e.iv=o.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){return i(o.number)?void(this.manifest.mediaSequence=o.number):void this.trigger("warn",{message:"ignoring invalid media sequence: "+o.number})},"discontinuity-sequence":function(){return i(o.number)?void(this.manifest.discontinuitySequence=o.number):void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+o.number})},"playlist-type":function(){return/VOD|EVENT/.test(o.playlistType)?void(this.manifest.playlistType=o.playlistType):void this.trigger("warn",{message:"ignoring unknown playlist type: "+o.playlist})},"stream-inf":function(){return this.manifest.playlists=n,o.attributes?(u.attributes||(u.attributes={}),void(u.attributes=r(u.attributes,o.attributes))):void this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},discontinuity:function(){u.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},targetduration:function(){return!i(o.duration)||o.duration<0?void this.trigger("warn",{message:"ignoring invalid target duration: "+o.duration}):void(this.manifest.targetDuration=o.duration)},totalduration:function(){return!i(o.duration)||o.duration<0?void this.trigger("warn",{message:"ignoring invalid total duration: "+o.duration}):void(this.manifest.totalDuration=o.duration)}})[o.tagType]||c).call(t)},uri:function(){u.uri=o.uri,n.push(u),!this.manifest.targetDuration||"duration"in u||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),u.duration=this.manifest.targetDuration),e&&(u.key=e),u={}},comment:function(){}})[o.type].call(t)})},l.prototype=new h,l.prototype.push=function(e){this.lineStream.push(e)},l.prototype.end=function(){this.lineStream.push("\n")},t.m3u8={LineStream:o,ParseStream:a,Parser:l}}(t,window.parseInt,window.isFinite,t.mergeOptions),function(e,t){"use strict";var n,i,r,s,o,a={UNSAFE_LIVE_SEGMENTS:3};r=function(e,t){var n,i,r=0;if(i=t-e.mediaSequence,n=e.segments[i]){if(void 0!==n.start)return{result:n.start,precise:!0};if(void 0!==n.end)return{result:n.end-n.duration,precise:!0}}for(;i--;){if(n=e.segments[i],void 0!==n.end)return{result:r+n.end,precise:!0};if(r+=n.duration,void 0!==n.start)return{result:r+n.start,precise:!0}}return{result:r,precise:!1}},s=function(e,t){var n,i,r=0;for(i=t-e.mediaSequence;i<e.segments.length;i++){if(n=e.segments[i],void 0!==n.start)return{result:n.start-r,precise:!0};if(r+=n.duration,void 0!==n.end)return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}},i=function(e,t){var n,i;return void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(n=r(e,t),n.precise?n.result:(i=s(e,t),i.precise?i.result:n.result))},n=function(t,n,r){if(!t)return 0;if(void 0===r&&(r=!0),void 0===n){if(t.totalDuration)return t.totalDuration;if(!t.endList)return e.Infinity}return i(t,n,r)},o=function(e){var r,s;return e.segments?e.endList?t.createTimeRange(0,n(e)):(r=i(e,e.mediaSequence),s=i(e,e.mediaSequence+Math.max(0,e.segments.length-a.UNSAFE_LIVE_SEGMENTS)),t.createTimeRange(r,s)):t.createTimeRange()},a.duration=n,a.seekable=o,t.Hls.Playlist=a}(window,t),function(e,t){"use strict";var n=t.Hls.resolveUrl,i=t.Hls.xhr,r=t.mergeOptions,s=function(e,t){var n,i,s=!1,a=r(e,{});for(n=e.playlists.length;n--;)if(i=a.playlists[n],i.uri===t.uri){if(i.segments&&t.segments&&i.segments.length===t.segments.length&&i.mediaSequence===t.mediaSequence)continue;a.playlists[n]=r(i,t),a.playlists[t.uri]=a.playlists[n],i.segments&&(a.playlists[n].segments=o(i.segments,t.segments,t.mediaSequence-i.mediaSequence)),s=!0}return s?a:null},o=function(e,t,n){var i,s,o=t.slice();for(n=n||0,i=Math.min(e.length,t.length+n),s=n;s<i;s++)o[s-n]=r(e[s],o[s-n]);return o},a=function(r,o){var l,c,u,d,h,p=this;if(a.prototype.init.call(this),this.trackExpiredTime_=!1,!r)throw new Error("A non-empty playlist URL is required");d=function(e,t,n){p.setBandwidth(u||e),u=null,n&&(p.state=n),p.error={playlist:p.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:e.status>=500?4:2},p.trigger("error")},h=function(n,i){var r,o,a;p.setBandwidth(u||n),u=null,p.state="HAVE_METADATA",r=new t.m3u8.Parser,r.push(n.responseText),r.end(),r.manifest.uri=i,a=s(p.master,r.manifest),o=1e3*(r.manifest.targetDuration||10),a?(p.master=a,p.updateMediaPlaylist_(r.manifest)):o/=2,p.media().endList||(e.clearTimeout(c),c=e.setTimeout(function(){p.trigger("mediaupdatetimeout")},o)),p.trigger("loadedplaylist")},p.state="HAVE_NOTHING",this.expired_=0,l=this.dispose,p.dispose=function(){u&&(u.onreadystatechange=null,u.abort(),u=null),e.clearTimeout(c),l.call(this)},p.media=function(e){var t,r=p.state;if(!e)return p.media_;if("HAVE_NOTHING"===p.state)throw new Error("Cannot switch media playlist from "+p.state);if("string"==typeof e){if(!p.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=p.master.playlists[e]}if(t=!p.media_||e.uri!==p.media_.uri,p.master.playlists[e.uri].endList)return u&&(u.onreadystatechange=null,u.abort(),u=null),p.state="HAVE_METADATA",p.media_=e,void(t&&p.trigger("mediachange"));if(t){if(p.state="SWITCHING_MEDIA",u){if(n(p.master.uri,e.uri)===u.url)return;u.onreadystatechange=null,u.abort(),u=null}u=i({uri:n(p.master.uri,e.uri),withCredentials:o},function(t,n){return t?d(n,e.uri,r):(h(n,e.uri),void("HAVE_MASTER"===r?p.trigger("loadedmetadata"):p.trigger("mediachange")))})}},p.setBandwidth=function(e){p.bandwidth=e.bandwidth},p.on("firstplay",function(){this.trackExpiredTime_=!0}),p.on("mediaupdatetimeout",function(){"HAVE_METADATA"===p.state&&(p.state="HAVE_CURRENT_METADATA",u=i({uri:n(p.master.uri,p.media().uri),withCredentials:o},function(e,t){return e?d(t,p.media().uri):void h(t,p.media().uri)}))}),u=i({uri:r,withCredentials:o},function(n,i){var s,o;if(u=null,n)return p.error={status:i.status,message:"HLS playlist request error at URL: "+r,responseText:i.responseText,code:2},p.trigger("error");if(s=new t.m3u8.Parser,s.push(i.responseText),s.end(),p.state="HAVE_MASTER",s.manifest.uri=r,s.manifest.playlists){for(p.master=s.manifest,o=p.master.playlists.length;o--;)p.master.playlists[p.master.playlists[o].uri]=p.master.playlists[o];return p.trigger("loadedplaylist"),void(u||p.media(s.manifest.playlists[0]))}return p.master={uri:e.location.href,playlists:[{uri:r}]},p.master.playlists[r]=p.master.playlists[0],h(i,r),p.trigger("loadedmetadata")})};a.prototype=new t.Hls.Stream,a.prototype.updateMediaPlaylist_=function(e){var t,n,i;if(t=this.media_,this.media_=this.master.playlists[e.uri],t&&this.trackExpiredTime_&&e.uri===t.uri){if(e.segments.length){if(void 0!==e.segments[0].start)return void(this.expired_=e.segments[0].start);if(void 0!==e.segments[0].end)return void(this.expired_=e.segments[0].end-e.segments[0].duration)}for(n=e.mediaSequence-t.mediaSequence-1;n>=0;n--)if(i=t.segments[n]){if(void 0!==i.end)return void(this.expired_=i.end);if(void 0!==i.start)return void(this.expired_=i.start+i.duration);this.expired_+=i.duration}else this.expired_+=t.targetDuration||10}},a.prototype.getMediaIndexForTime_=function(e){var t,n,i,r,s,o,a=e,l=this.media_.segments.length,c=l-1;if(!this.media_)return 0;if(e<0)return 0;for(t=0;t<l;t++)if(n=this.media_.segments[t],n.end){if(n.end>e){o=n.end,r=t;break}s=n.end,i=t+1}if(void 0!==i){for(e-=s,t=i;t<(r||l);t++)if(n=this.media_.segments[t],e-=n.duration,e<0)return t;return t>=r?i+Math.floor((a-s)/(o-s)*(r-i)):c}if(void 0!==r){for(e=o-e,t=r;t>=0;t--)if(n=this.media_.segments[t],e-=n.duration,e<0)return t;return 0===e?0:-1}if(e-=this.expired_,e<0)return-1;for(t=0;t<l;t++)if(n=this.media_.segments[t],e-=n.duration,e<0)return t;return c},t.Hls.PlaylistLoader=a}(window,t),function i(e,t,r){function s(a,l){if(!t[a]){if(!e[a]){var c="function"==typeof n&&n;if(!l&&c)return c(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=t[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return s(n?n:t)},u,u.exports,i,e,t,r)}return t[a].exports}for(var o="function"==typeof n&&n,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(e,t,n){(function(t){t.window.pkcs7={unpad:e("./unpad")}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./unpad":2}],2:[function(e,t,n){"use strict";t.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},{}]},{},[1]),function(e,t,n){"use strict";var i,r,s,o,a;a=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},i=function(e){this._precompute();var t,n,i,r,s,o=this._tables[0][4],a=this._tables[1],l=e.length,c=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(r=e.slice(0),s=[],this._key=[r,s],t=l;t<4*l+28;t++)i=r[t-1],(t%l===0||8===l&&t%l===4)&&(i=o[i>>>24]<<24^o[i>>16&255]<<16^o[i>>8&255]<<8^o[255&i],t%l===0&&(i=i<<8^i>>>24^c<<24,c=c<<1^283*(c>>7))),r[t]=r[t-l]^i;for(n=0;t;n++,t--)i=r[3&n?t:t-4],t<=4||n<4?s[n]=i:s[n]=a[0][o[i>>>24]]^a[1][o[i>>16&255]]^a[2][o[i>>8&255]]^a[3][o[255&i]]},i.prototype={_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var e,t,n,i,r,s,o,a,l,c=this._tables[0],u=this._tables[1],d=c[4],h=u[4],p=[],f=[];for(e=0;e<256;e++)f[(p[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!d[t];t^=i||1,n=f[n]||1)for(o=n^n<<1^n<<2^n<<3^n<<4,o=o>>8^255&o^99,d[t]=o,h[o]=t,s=p[r=p[i=p[t]]],l=16843009*s^65537*r^257*i^16843008*t,a=257*p[o]^16843008*o,e=0;e<4;e++)c[e][t]=a=a<<24^a>>>8,u[e][o]=l=l<<24^l>>>8;for(e=0;e<5;e++)c[e]=c[e].slice(0),u[e]=u[e].slice(0)},decrypt:function(e,t,n,i,r,s){var o,a,l,c,u=this._key[1],d=e^u[0],h=i^u[1],p=n^u[2],f=t^u[3],m=u.length/4-2,g=4,v=this._tables[1],y=v[0],b=v[1],w=v[2],_=v[3],C=v[4];for(c=0;c<m;c++)o=y[d>>>24]^b[h>>16&255]^w[p>>8&255]^_[255&f]^u[g],a=y[h>>>24]^b[p>>16&255]^w[f>>8&255]^_[255&d]^u[g+1],l=y[p>>>24]^b[f>>16&255]^w[d>>8&255]^_[255&h]^u[g+2],f=y[f>>>24]^b[d>>16&255]^w[h>>8&255]^_[255&p]^u[g+3],g+=4,d=o,h=a,p=l;for(c=0;c<4;c++)r[(3&-c)+s]=C[d>>>24]<<24^C[h>>16&255]<<16^C[p>>8&255]<<8^C[255&f]^u[g++],o=d,d=h,h=p,p=f,f=o}},o=function(e,t,n){var r,s,o,l,c,u,d,h,p,f=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),m=new i(Array.prototype.slice.call(t)),g=new Uint8Array(e.byteLength),v=new Int32Array(g.buffer);for(r=n[0],s=n[1],o=n[2],l=n[3],p=0;p<f.length;p+=4)c=a(f[p]),u=a(f[p+1]),d=a(f[p+2]),h=a(f[p+3]),m.decrypt(c,u,d,h,v,p),v[p]=a(v[p]^r),v[p+1]=a(v[p+1]^s),v[p+2]=a(v[p+2]^o),v[p+3]=a(v[p+3]^l),r=c,s=u,o=d,l=h;return g},r=function(){this.jobs=[],this.delay=1,this.timeout_=null},r.prototype=new t.Hls.Stream,r.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},r.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},s=function(e,t,i,o){var l=s.STEP,c=new Int32Array(e.buffer),u=new Uint8Array(e.byteLength),d=0;for(this.asyncStream_=new r,this.asyncStream_.push(this.decryptChunk_(c.subarray(d,d+l),t,i,u)),d=l;d<c.length;d+=l)i=new Uint32Array([a(c[d-4]),a(c[d-3]),a(c[d-2]),a(c[d-1])]),this.asyncStream_.push(this.decryptChunk_(c.subarray(d,d+l),t,i,u));this.asyncStream_.push(function(){o(null,n(u))})},s.prototype=new t.Hls.Stream,s.prototype.decryptChunk_=function(e,t,n,i){return function(){var r=o(e,t,n);i.set(r,e.byteOffset)}},s.STEP=32e3,t.Hls.decrypt=o,t.Hls.Decrypter=s,t.Hls.AsyncStream=r}(window,t,window.pkcs7.unpad)}).call(window)}).call(t,n(499),n(499))},682:function(e,t){var n="/ng/apps/shopping-cart/components/credit-card-input/credit-card-input.ng-template.html",i='<form class="form-horizontal new-card-form"> <div class=form-group> <label for=name class="col-sm-4 col-md-2 col-xs-5 control-label bold" translate>Name on Card</label> <div class="col-md-4 col-sm-7 col-xs-7"> <input type=text class=form-control autofocus="" required="" minlength=4 placeholder="{{\'Name on card\' | translate}}" name=name-on-card data-purpose=fullname ng-model=card.fullName data-error-message="{{\'Please fill out this field\' | translate}}" ng-change=_clean_validity();> </div> </div> <div class=form-group> <label for=number class="col-sm-4 col-md-2 col-xs-5 control-label bold" translate>Card Number</label> <div class="col-md-4 col-sm-7 col-xs-7"> <input type=tel class="form-control ccNumber" required="" minlength=14 name=card-no ng-model=card.cardNoText data-purpose=card-number placeholder="#### - #### - #### - ####" ng-change=updateCardNo(card.cardNoText) data-error-message="{{\'Please enter a valid card number\' | translate}}"> <span class="card-icon animated flipInX"> </span> </div> </div> <div class=form-group> <label for=expiry class="col-sm-4 col-md-2 col-xs-5 control-label bold" translate>Expires on</label> <div class="col-md-2 col-sm-7 col-xs-7"> <input type=tel class="form-control ccExpiry" id=expiry required="" minlength=4 placeholder="MM / YY" name=expiration ng-model=card.expirationText ng-change=updateExpiration(card.expirationText) data-purpose=expiration-date pattern="(0[1-9]|1[012])[ ]{0,1}/[ ]{0,1}([0-9]{4}|[0-9]{2})" data-error-message="{{\'Please enter a valid date\' | translate}}"> </div> </div> <div class=form-group> <label for=cvc class="col-sm-4 col-md-2 col-xs-5 control-label bold" translate>Security Code</label> <div class="col-md-2 col-sm-7 col-xs-7"> <div class=right-inner-addon> <input type=tel class="form-control ccCVC" minlength=3 placeholder=### name=security-code ng-model=card.securityCode maxlength=4 required=required pattern=[0-9]{3,4} data-error-message="{{\'Please enter a valid cvc\' | translate}}" data-purpose=security-code ng-change=_clean_validity();> <i class="icon fa fa-question-circle tooltip__icon"></i> <span class=tooltip--new> <img src=https://s3.amazonaws.com/uploads.hipchat.com/36924/1487961/lbvhiVoK5r1XAxW/securityCode_image.png> </span> </div> </div> </div> <div class=form-group ng-if=zipCountryEnabled> <label for=cvc class="col-sm-4 col-md-2 col-xs-5 control-label bold" translate>Country</label> <div class="col-md-4 col-sm-7 col-xs-7"> <select class="form-control ccCountry" ng-model=card.countryId required=required name=country type=tel ng-change=_clean_validity(); data-purpose=country> <option value="">-- {{ \'Select One\' | translate }} --</option> <option ng-repeat="country in countries | orderBy:\'title\'" ng-selected="country.id == card.countryId" ng-value=country.id>{{ country.title | translate }}</option> </select> </div> </div> <div class=form-group ng-if=zipCountryEnabled> <label for=cvc class="col-sm-4 col-md-2 col-xs-5 control-label bold" translate>Postal Code</label> <div class="col-md-2 col-sm-7 col-xs-7"> <input class="form-control ccZipCode" name=zip-code type=text ng-model=card.zipCode placeholder=##### data-error-message="{{\'Please enter a valid postal code\' | translate }}" data-purpose=zipcode ng-change=_clean_validity();> </div> </div> <div class=form-group ng-if=cpfEnabled> <label for=cpf class="col-sm-4 col-md-2 col-xs-5 control-label bold" translate>CPF</label> <div class="col-md-4 col-sm-7 col-xs-7"> <input name=cpf type=tel ng-model=card.cpfText ng-change=updateCpf(card.cpfText) class="text-input form-control card-info-field border-bottom-left-radius-5" placeholder="{{ \'CPF\' | translate }}" required=required pattern=(([0-9]{3}\\.){2}[0-9]{3}\\-[0-9]{2})|[0-9]{11} data-purpose=social-security-number data-error-message="{{ \'Please enter a valid CPF\' | translate }}"> </div> </div> </form>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},683:function(e,t){var n="/ng/apps/shopping-cart/components/notices/base.ng-template.html",i='<div class=sc-upsell ng-repeat="upsell in upsells"> <div class=sc-upsell__item ng-if=upsell> <div class=sc-upsell__icon style=\'background-image:url("{{ upsell.imageUrl }}")\'> </div> <div class=sc-upsell__message> <h3 class=sc-upsell__header> {{ upsell.header }} </h3> <div class=sc-upsell__body> {{ upsell.body }} </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},684:function(e,t){var n="/ng/apps/shopping-cart/components/notifications/notification.ng-template.html",i='<div class=sc-notifications> <div class=container> <div ng-repeat="notification in notifications"> <div class="sc-notifications__notification alert velocity-enter-transition-slideDownIn velocity-leave-transition-slideDownOut" ng-class=buildClassLevel(notification.options.level)> <button type=button class=close aria-label=Close ng-click=removeNotification(notification)> <span aria-hidden=true></span> </button> <i class="fa fa-exclamation-circle"></i> <span class=sc-notifications__message ng-bind-html=notification.message></span> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},685:function(e,t){var n="/ng/apps/shopping-cart/components/payment-methods/adyen-credit-card-method.ng-template.html",i='<div class=pay-with-adyen> <input name=payment-method type=radio class="ud-radio payment-select adyen-input" id="adyen-payment-method-{{ $id }}" ng-value=method ng-model=activeMethodContainer.activeMethod ng-class="{\'new-card-select\': !scid}"> <label for="adyen-payment-method-{{ $id }}"> <span ng-show=scid> <span translate>Pay with</span> <img class=added-card__image ng-src="/staticx/udemy/images/v4/card-{{ card.cardType }}.svg"> {{ card.last4_text }} </span> <span ng-hide=scid> <span translate>Pay with new card</span> <span class="card-array ml10" ng-hide=card.cardType> <img class=added-card__image ng-repeat="vendor in supportedVendors" ng-src="/staticx/udemy/images/v4/card-{{ vendor }}.svg"> </span> <span class=card-array ng-show=card.cardType> <img class=added-card__image ng-src="/staticx/udemy/images/v4/card-{{ card.cardType }}.svg"> </span> <span ng-show="card.cardNo.length==16" translate>ending in {{ card.cardNo.substr(12) }}</span> </span> </label> <button class="btn btn-link edit-card" ng-click=cardAction() ng-hide=method.showCCInput()> {{ cardActionText() }}</button> <div ng-show=method.showCCInput()> <credit-card-input card=card cpf-enabled=cpfEnabled> </credit-card-input> <form class="form-horizontal new-card-form" style=padding-top:0> <div class=form-group> <div class=col-sm-10> <div class=checkbox> <input type=checkbox class=ud-checkbox ng-model=rememberMe id="shopping-cart-remember-me-{{ $id }}"> <label for="shopping-cart-remember-me-{{ $id }}" translate>Remember this card</label> </div> </div> </div> <div class="form-group use-this-card"> <div class=col-xs-6> <button type=submit class="btn btn-primary btn-block" ng-click=useThisCard() translate>Use This Card </button> </div> </div> </form> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},686:function(e,t){var n="/ng/apps/shopping-cart/components/payment-methods/adyen-local-payment-method.ng-template.html",i='<div class="pay-with-adyen mb10"> <input name=payment-method type=radio class="ud-radio payment-select adyen-input" id="adyen-local-payment-method-{{ $id }}" ng-value=method ng-model=activeMethodContainer.activeMethod> <label for="adyen-local-payment-method-{{ $id }}"> <span translate>Pay with {{ adyenMethod.name }}</span> </label> <select name=issuerSelect id="issuer-select-{{ $id }}" ng-model=method.selectedIssuer ng-if="adyenMethod.hasOwnProperty(\'issuers\')" ng-options="issuer.name for issuer in adyenMethod.issuers track by issuer.issuer_id" ng-init="method.selectedIssuer = adyenMethod.issuers[0]" class="form-control input-sm adyen_issuer_dropdown"> </select> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},687:function(e,t){var n="/ng/apps/shopping-cart/components/payment-methods/paypal-payment-method.ng-template.html",i='<div class="pay-with-paypal mb15"> <input name=payment-method type=radio class="ud-radio payment-select paypal-input" id="paypal-payment-method-{{ $id }}" ng-value=method ng-model=activeMethodContainer.activeMethod> <label for="paypal-payment-method-{{ $id }}"> <span translate>Pay with</span> <img class=ml3 style=height:20px src=https://s3.amazonaws.com/growth-prototypes/pp_cc_mark_111x69.jpg></label> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},688:function(e,t){var n="/ng/apps/shopping-cart/components/payment-methods/stripe-payment-method.ng-template.html",i='<div class=added-card> <input name=payment-method type=radio class="ud-radio payment-select" ng-model=activeMethodContainer.activeMethod ng-value=method ng-class="{\'new-card-select\': !scid}" id="stripe-payment-method-{{ $id }}"> <label for="stripe-payment-method-{{ $id }}"> <span ng-show=scid> <span translate>Pay with</span> <img class=added-card__image ng-src="https://www.udemy.com/staticx/udemy/images/v4/card-{{ card.cardType }}.svg"> {{ card.last4_text }} </span> <span ng-hide=scid> <span translate>Pay with new card</span> <span class="card-array ml10" ng-hide=card.cardType> <img class=added-card__image src=https://www.udemy.com/staticx/udemy/images/v4/card-visa.svg> <img class=added-card__image src=https://www.udemy.com/staticx/udemy/images/v4/card-mastercard.svg> <img class=added-card__image src=https://www.udemy.com/staticx/udemy/images/v4/card-amex.svg> <img class=added-card__image src=https://www.udemy.com/staticx/udemy/images/v4/card-discover.svg> </span> <span class=card-array ng-show=card.cardType> <img class=added-card__image ng-src="https://www.udemy.com/staticx/udemy/images/v4/card-{{ card.cardType }}.svg"> </span> <span ng-show="card.cardNo.length==16" translate>ending in {{ card.cardNo.substr(12) }}</span> </span> </label> <button class="btn btn-link edit-card" ng-hide=method.showCCInput() ng-click=cardAction()>{{ cardActionText() }}</button> <div ng-show=method.showCCInput()> <credit-card-input card=card zip-country-enabled=true ng-if=!scid> </credit-card-input> <form class="form-horizontal new-card-form" style=padding-top:0> <div class=form-group> <div class=col-sm-10> <div class=checkbox> <input type=checkbox class=ud-checkbox ng-model=rememberMe id="shopping-cart-remember-me-{{ $id }}" checked=checked> <label for="shopping-cart-remember-me-{{ $id }}" translate>Remember this card</label> </div> </div> </div> <div class="form-group use-this-card"> <div class=col-xs-6> <button type=submit class="btn btn-primary btn-block" ng-click=useThisCard() translate>Use This Card</button> </div> </div> </form> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},689:function(e,t){var n="/ng/apps/shopping-cart/components/payment-view/payment-view.ng-template.html",i='<div class=shopping__cart--billing> <h3 class=shopping__sub-title translate>1. Billing</h3> <div class=billing__options ng-hide=free_checkout> <div class=payment-loading-spinner ng-hide=loaded> <span class="ud_circle-loader ud_icon--medium"></span> </div> <stripe-payment-method card=method.card scid=method.scid active-method-container=activeMethodContainer remove-card=removeCard ng-repeat="method in methods" ng-if=!adyen_enabled></stripe-payment-method> <adyen-credit-card-method card=method.card scid=method.scid active-method-container=activeMethodContainer remove-card=removeCard supported-vendors=enabled_credit_cards ng-repeat="method in methods" ng-if=adyen_enabled> </adyen-credit-card-method> <div ng-if="adyen_enabled && adyen_methods && adyen_methods.length"> <p class=mb15 translate>or</p> <adyen-local-payment-method active-method-container=activeMethodContainer ng-repeat="method in adyen_methods" ng-if=adyen_enabled adyen-method=method> </adyen-local-payment-method> </div> <div ng-hide="paypal_status == \'disabled\' && adyen_enabled"> <p class=m15-0 translate>or</p> <paypal-payment-method active-method-container=activeMethodContainer> </paypal-payment-method> </div> </div> <div class=billing__options ng-show=free_checkout translate> Your cart is free. You can continue with checkout. </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},691:function(e,t){var n="/ng/directives/common/report-abuse.ng-template.html",i='<button class="btn btn-default mini-tooltip2 pull-tooltip-left" ng-class=btnClass ng-click=openPopup()> <i class="fa fa-flag"></i> <span class=mini-tooltip-text ng-if=showTooltip translate>Report Abuse</span> <popup open=showPopup before-close=closePopup() href="/feedback/report?related_object_type={{objectType}}&related_object_id={{objectId}}"> </popup> </button>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},692:function(e,t){var n="/ng/directives/common/review/review-star.ng-template.html",i='<div> <div class=star-rating--new> <span ng-mouseenter="hoverStar=5" ng-mouseleave="hoverStar=0" ng-click="starClicked(5, $event)" ng-class="{\'on\': isStarOn(5)}" class="star full"></span> <span ng-mouseenter="hoverStar=4.5" ng-mouseleave="hoverStar=0" ng-click="starClicked(4.5, $event)" ng-class="{\'on\': isStarOn(4.5)}" class="star half"></span> <span ng-mouseenter="hoverStar=4" ng-mouseleave="hoverStar=0" ng-click="starClicked(4, $event)" ng-class="{\'on\': isStarOn(4)}" class="star full"></span> <span ng-mouseenter="hoverStar=3.5" ng-mouseleave="hoverStar=0" ng-click="starClicked(3.5, $event)" ng-class="{\'on\': isStarOn(3.5)}" class="star half"></span> <span ng-mouseenter="hoverStar=3" ng-mouseleave="hoverStar=0" ng-click="starClicked(3, $event)" ng-class="{\'on\': isStarOn(3)}" class="star full"></span> <span ng-mouseenter="hoverStar=2.5" ng-mouseleave="hoverStar=0" ng-click="starClicked(2.5, $event)" ng-class="{\'on\': isStarOn(2.5)}" class="star half"></span> <span ng-mouseenter="hoverStar=2" ng-mouseleave="hoverStar=0" ng-click="starClicked(2, $event)" ng-class="{\'on\': isStarOn(2)}" class="star full"></span> <span ng-mouseenter="hoverStar=1.5" ng-mouseleave="hoverStar=0" ng-click="starClicked(1.5, $event)" ng-class="{\'on\': isStarOn(1.5)}" class="star half"></span> <span ng-mouseenter="hoverStar=1" ng-mouseleave="hoverStar=0" ng-click="starClicked(1, $event)" ng-class="{\'on\': isStarOn(1)}" class="star full"></span> <span ng-mouseenter="hoverStar=.5" ng-mouseleave="hoverStar=0" ng-click="starClicked(.5, $event)" ng-class="{\'on\': isStarOn(.5)}" class="star half"></span> </div> <div class=rating-label__container ng-if=!starsWithLabels> <span class=rating-label ng-class="{\'on\': (hoverStar >= .5 && hoverStar <= 1.5)}"></span> <span class=rating-label ng-class="{\'on\': (hoverStar >= 2 && hoverStar <= 2.5)}"></span> <span class=rating-label ng-class="{\'on\': (hoverStar >= 3 && hoverStar <= 3.5)}"></span> <span class=rating-label ng-class="{\'on\': (hoverStar >= 4 && hoverStar <= 4.5)}"></span> <span class=rating-label ng-class="{\'on\': hoverStar == 5}"></span> </div> <div class=rating-label__container ng-if=starsWithLabels> <span class=rating-label ng-class="{\'on\': (hoverStar >= .5 && hoverStar <= 1.5)}"><span ng-show=hoverStar>{{hoverStar}}</span><span ng-hide=hoverStar>{{courseReview.rating}}</span> - <span translate>Poor</span></span> <span class=rating-label ng-class="{\'on\': (hoverStar >= 2 && hoverStar <= 2.5)}"><span ng-show=hoverStar>{{hoverStar}}</span><span ng-hide=hoverStar>{{courseReview.rating}}</span> - <span translate>Below Average</span></span> <span class=rating-label ng-class="{\'on\': (hoverStar >= 3 && hoverStar <= 3.5)}"><span ng-show=hoverStar>{{hoverStar}}</span><span ng-hide=hoverStar>{{courseReview.rating}}</span> - <span translate>Okay</span></span> <span class=rating-label ng-class="{\'on\': (hoverStar >= 4 && hoverStar <= 4.5)}"><span ng-show=hoverStar>{{hoverStar}}</span><span ng-hide=hoverStar>{{courseReview.rating}}</span> - <span translate>Great</span></span> <span class=rating-label ng-class="{\'on\': hoverStar == 5}"><span ng-show=hoverStar>{{hoverStar}}</span><span ng-hide=hoverStar>{{courseReview.rating}}</span> - <span translate>Excellent</span></span> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},693:function(e,t){var n="/ng/directives/common/review/review.ng-template.html",i='<div> <div ng-if=!isInCourseReview ng-show=showReviewsContainer class="dib fr"> <div ng-show="getMode() != \'disabled\'" class=star-rating-group> <div class=star-rating-container ng-class="{\'fxac btn\': showStarLabel}" ng-click="showStarLabel ? openReviewPopup($event) : \'\'"> <review-star star-on-click=openReviewPopup() show-tooltip=!showStarLabel> </review-star> <span ng-show=showStarLabel ng-switch=getMode() class=fs14 ng-click="openReviewPopup($event, true)"> <span ng-switch-when=add translate class=btn>Rate This Course</span> <span ng-switch-when=edit translate class=btn>Edit Your Rating</span> </span> </div> <div ng-show=showSmallStarLabel ng-switch=getMode() class=star-rating-label> <span ng-switch-when=add translate>Rate It</span> <span ng-switch-when=edit translate>Your Rating</span> </div> </div> <div class="course-header-icon clearfix" ng-show=::isInstructor> <div class="s-rating smaller static"> <span ng-style="{width: (course.avg_rating_recent * 20) + \'%\'}"></span> </div> <a class="reviews review-count" href={{reviewLink}} ng-show=course.num_reviews> <span translate translate-n=course.num_reviews translate-plural="{{ $count }} Reviews">1 Review</span> </a> </div> <div id="dashboard-reviews-popup-{{ course.id }}" class="static-content-wrapper dashboard-reviews-popup" data-type=inline style=display:none> <div class=header> <h1 translate class=ellipsis>Your Rating</h1> </div> <div class=popup-body> <div class="rate-container clearfix star-rating-small"> <review-star></review-star> </div> <div class=review--updated ng-show="courseReview.id && !isEditMode && courseReview.modified > courseReview.created"><span translate>Updated</span> <time>{{courseReview.modified | fromNow}}</time></div> <div class=review--updated ng-show="courseReview.id && !isEditMode && courseReview.modified === courseReview.created"><span translate>Posted</span> <time>{{courseReview.created | fromNow}}</time></div> <div class=form> <div class=review> <textarea ng-show=isEditMode class=review-textarea ng-keydown=$event.stopPropagation() ng-attr-placeholder="{{\'Why did you leave this rating?\' | translate}}" ng-model=courseReview.content></textarea> <div> <span ng-show=isUfbUser translate>Your review will be available to other users in your learning portal.</span> <span ng-show=!isUfbUser translate>Your review will be publicly visible within 24 hours.</span> <a ng-show=isEditMode target=_blank href=https://support.udemy.com/customer/portal/articles/1734091-leaving-and-editing-course-review translate>Heres how to write a great review.</a> </div> <div ng-hide=isEditMode>{{courseReview.content}}</div> <div class=review--response ng-if=courseReview.response> <div class=component-thread-head> <div class=thread-head__avatar> <img ng-src="{{ courseReview.response.user.image_50x50 }}" height=35> </div> <div class="thread-head__basic-info compress"> <strong translate>Instructor</strong> <a href="{{ courseReview.response.user.url }}">{{ courseReview.response.user.title }}</a> <span><span translate>Replied</span> <time>{{courseReview.response.created | fromNow}}</time></span> </div> </div> <div class=pl10> <p>{{ courseReview.response.content }}</p> </div> </div> </div> <div class=survey ng-if="popUpOpen && [\'add\', \'edit\'].indexOf(getMode(true)) !== -1"> <hr/> <h3 translate>Please tell us more about this course (optional)</h3> <survey survey-code=review-survey populate course="{{ course.id }}" api=surveyDirectiveActions></survey> </div> <div class="dib review--actions"> <a href ng-show="isEditMode && !courseReview.id" ng-click=cancelReview() prevent-click translate>Cancel</a> <a href ng-show=courseReview.id ng-click=deleteReview() prevent-click translate>Delete Review</a> <div class=dib ng-switch=getMode(true)> <button class="btn btn-primary btn-sm" ng-switch-when=add ng-click=saveReview() ng-disabled=!isEditMode translate>Submit Your Review</button> <button class="btn btn-primary btn-sm" ng-switch-when=edit ng-click=saveReview() ng-disabled=!isEditMode translate>Update Your Review</button> <button class="btn btn-primary btn-sm" ng-switch-when=standby ng-click=enableEditMode() translate>Edit Review</button> </div> </div> </div> </div> </div> </div> <div ng-if=isInCourseReview ng-show=showReviewsContainer class=dib id=in-course-review> <div ng-show="reviewStage == \'survey\'" ng-click="setStage(\'feedback\')" class=back translate>Back</div> <div class="rate-container clearfix"> <div ng-show="reviewStage != \'completed\'"> <div ng-show="reviewStage == \'rating\' || reviewStage == \'feedback\'" ng-switch=courseReview.location> <div ng-switch-when=course_taking__middle class=choose-rate-text translate>Great job! Now that you are halfway through this course, would you like to update your review?</div> <div ng-switch-when=course_taking__final class=choose-rate-text translate>Congratulations, you have completed this course! Would you like to update your review to summarize your entire experience?</div> <div ng-switch-default ng-hide=courseReview.rating class=choose-rate-text translate>Based on what you\'ve seen so far, how would you rate this course?</div> </div> <review-star></review-star> </div> <div ng-show="reviewStage == \'completed\'"> <div class=thanks-rate-text translate>Thank you for contributing to the Udemy community!</div> </div> </div> <div class=form ng-show="reviewStage != \'completed\'"> <div class=survey ng-show="reviewStage == \'survey\'"> <h2 translate>Please tell us more (optional).</h2> <survey survey-code=review-survey populate course="{{ course.id }}" api=surveyDirectiveActions></survey> <div class=dib> <button class="btn btn-primary" ng-click=saveSurvey() ng-disabled=!isEditMode translate>Save &amp; Continue</button> <a href ng-show="courseReview.location == \'course_taking__initial\' && reviewStage == \'survey\'" ng-click=cancelReview() prevent-click class=ask-me-later translate>I\'ll respond later</a> </div> </div> <div class=review ng-show="reviewStage == \'feedback\'"> <h2 translate>Why did you leave this rating?</h2> <textarea class=review-textarea ng-keydown=$event.stopPropagation() ng-attr-placeholder="{{\'Share your opinion about the quality of this course.\' | translate}}" ng-model=courseReview.content></textarea> </div> <div ng-show="reviewStage == \'feedback\'"> <span ng-show=isUfbUser translate>Your review will be available to other users in your learning portal.</span> <span ng-show=!isUfbUser translate>Your review will be publicly visible within 24 hours.</span> <a target=_blank href=https://support.udemy.com/customer/portal/articles/1734091-leaving-and-editing-course-review translate>Heres how to write a great review.</a> </div> <div class="review--actions dib"> <div class=dib ng-show="reviewStage == \'feedback\'"> <button class="btn btn-primary btn-sm" ng-click=saveReview() ng-disabled=!isEditMode translate>Save &amp; Continue</button> </div> <span ng-show="courseReview.location == \'course_taking__initial\' && reviewStage == \'rating\'" translate>Is it too soon to tell?</span> <a href ng-show="courseReview.location == \'course_taking__initial\' && reviewStage == \'rating\'" ng-click=cancelReview() prevent-click class="btn btn-secondary ask-me-later" translate>I\'ll leave a rating later</a> <a href ng-show="courseReview.location == \'course_taking__initial\' && reviewStage == \'feedback\' && getMode() == \'add\'" ng-click=cancelReview() prevent-click class=ask-me-later translate>Nevermind, I\'ll leave a rating later</a> <a href ng-show="courseReview.location == \'course_taking__initial--end\'" ng-click=cancelReview() prevent-click class=ask-me-later translate>Cancel</a> </div> </div> </div> </div>';
window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},694:function(e,t){var n="/ng/directives/common/survey/survey.ng-template.html",i='<div class=survey--container> <form> <div ng-repeat="questionSet in survey.question_sets" class=survey-question-set> <div role=group ng-repeat="question in questionSet.questions" class="survey-question fx-c fx-wrap"> <span class="fx survey-question--text">{{ question.text | translate }}</span> <span ng-if=question.description class=tooltip-container> <i class="fa fa-question-circle"></i> <span class="tooltip--new ml10 mr10">{{ question.description | translate }}</span> </span> <span class="btn-group survey-answer"> <input ng-repeat-start="answer in question.answer_options" type=radio name="survey-question-{{ question.id }}" class="ud-radio-button ud-radio-button-sm" id="survey-answer-{{ courseId }}-{{ answer.id }}" ng-value=answer.id ng-model=$parent.userAnswers[question.id] /> <label ng-repeat-end for="survey-answer-{{ courseId }}-{{ answer.id }}">{{ answer.text | translate }}</label> </span> </div> </div> </form> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},702:function(e,t,n){(function(e){"use strict";e.module("pusher-angular",[]).factory("$pusher",["$rootScope","$channel","$connection",function(t,n,i){function r(e){return this instanceof r?(this._assertValidClient(e),this.client=e,this.connection=i(e.connection,e),void(this.channels={})):new r(e)}return r.prototype={subscribe:function(e){var t=this.client.channel(e);return void 0===t&&(t=this.client.subscribe(e)),t=n(t,this),this.channels[e]=t,t},unsubscribe:function(e){this.client.channel(e)&&(this.client.unsubscribe(e),this.channels[e]&&delete this.channels[e])},bind:function(n,i,r,s){var o=e.isDefined(s)&&!s,a=function(e){i(e),o||t.$digest()};return this.client.bind(n,a,r),a},bind_all:function(n,i){var r=e.isDefined(i)&&!i;this.client.bind_all(function(e,i){n(e,i),r||t.$digest()})},unbind:function(e,t,n){this.client.unbind(e,t,n)},disconnect:function(){this.client.disconnect()},channel:function(e){return this.channels[e]},allChannels:function(){return this.channels},_assertValidClient:function(t){if(!e.isObject(t)||!e.isObject(t.connection)||"function"!=typeof t.channel)throw new Error("Invalid Pusher client object")}},r}]).factory("$channel",["$rootScope","$members",function(t,n){function i(e){if(e.indexOf("presence-")==-1&&e.indexOf("private-")==-1)throw new Error("Presence or private channel required")}function r(e,t){return this instanceof r?(this._assertValidChannel(e),this.baseChannel=e,this.client=t,this.name=e.name,void(e.name.indexOf("presence")==-1?this.members=function(){throw new Error("Members object only exists for presence channels")}:this.members=n(e.members,e))):new r(e,t)}return r.prototype={bind:function(n,i,r,s){var o=e.isDefined(s)&&!s,a=function(e){i(e),o||t.$digest()};return this.baseChannel.bind(n,a,r),a},unbind:function(e,t,n){this.baseChannel.unbind(e,t,n)},bind_all:function(n,i){var r=e.isDefined(i)&&!i;this.baseChannel.bind_all(function(e,i){n(e,i),r||t.$digest()})},trigger:function(e,t){if(i(this.name),e.indexOf("client-")==-1)throw new Error("Event name requires 'client-' prefix");return this.baseChannel.trigger(e,t)},_assertValidChannel:function(t){if(!e.isObject(t)||"string"!=typeof t.name)throw new Error("Invalid Pusher channel object")}},r}]).factory("$members",["$rootScope",function(t){function n(e,i){if(!(this instanceof n))return new n(e,i);var r=this;this._assertValidMembers(e),this.baseMembers=e,this.baseChannel=i,this.me={},this.count=0,this.members={},i.bind("pusher:subscription_succeeded",function(e){r.me=e.me,r.count=e.count,r.members=e.members,t.$digest()}),i.bind("pusher:member_added",function(e){r.count++,e.info?r.members[e.id.toString()]=e.info:r.members[e.id.toString()]=null,t.$digest()}),i.bind("pusher:member_removed",function(e){r.count--,delete r.members[e.id.toString()],t.$digest()})}return n.prototype={get:function(e){return this.baseMembers.get(e)},each:function(e){this.baseMembers.each(function(n){e(n),t.$digest()})},_assertValidMembers:function(t){if(!e.isObject(t)||"object"!=typeof t.me)throw new Error("Invalid Pusher channel members object")}},n}]).factory("$connection",["$rootScope",function(t){function n(e,t){return this instanceof n?(this._assertValidConnection(e),this.baseConnection=e,void(this.baseClient=t)):new n(e,t)}return n.prototype={bind:function(n,i,r,s){var o=e.isDefined(s)&&!s;this.baseConnection.bind(n,function(e){i(e),o||t.$digest()},r)},bind_all:function(n,i){var r=e.isDefined(i)&&!i;this.baseConnection.bind_all(function(e,i){n(e,i),r||t.$digest()})},_assertValidConnection:function(t){if(!e.isObject(t))throw new Error("Invalid Pusher connection object")}},n}])}).call(t,n(2))},703:function(e,t,n){var i,r;/*!
	 * Pusher JavaScript Library v3.0.0
	 * http://pusher.com/
	 *
	 * Copyright 2014, Pusher
	 * Released under the MIT licence.
	 */
!function(n,s){i=[],r=function(){return n.Pusher=s()}.apply(t,i),!(void 0!==r&&(e.exports=r))}(this,function(){return function(){function e(t,n){(null===t||void 0===t)&&e.warn("Warning","You must pass your app key when you instantiate Pusher."),n=n||{};var i=this;this.key=t,this.config=e.Util.extend(e.getGlobalConfig(),n.cluster?e.getClusterConfig(n.cluster):{},n),this.channels=new e.Channels,this.global_emitter=new e.EventsDispatcher,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new e.Timeline(this.key,this.sessionID,{cluster:this.config.cluster,features:e.Util.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:e.Timeline.INFO,version:e.VERSION}),this.config.disableStats||(this.timelineSender=new e.TimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/jsonp"})),this.connection=new e.ConnectionManager(this.key,e.Util.extend({getStrategy:function(t){return t=e.Util.extend({},i.config,t),e.StrategyBuilder.build(e.getDefaultStrategy(t),t)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){i.subscribeAll(),i.timelineSender&&i.timelineSender.send(i.connection.isEncrypted())}),this.connection.bind("message",function(e){var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var n=i.channel(e.channel);n&&n.handleEvent(e.event,e.data)}t||i.global_emitter.emit(e.event,e.data)}),this.connection.bind("disconnected",function(){i.channels.disconnect()}),this.connection.bind("error",function(t){e.warn("Error",t)}),e.instances.push(this),this.timeline.info({instances:e.instances.length}),e.isReady&&i.connect()}var t=e.prototype;e.instances=[],e.isReady=!1,e.debug=function(){e.log&&e.log(e.Util.stringify.apply(this,arguments))},e.warn=function(){var t=e.Util.stringify.apply(this,arguments);window.console&&(window.console.warn?window.console.warn(t):window.console.log&&window.console.log(t)),e.log&&e.log(t)},e.ready=function(){e.isReady=!0;for(var t=0,n=e.instances.length;t<n;t++)e.instances[t].connect()},t.channel=function(e){return this.channels.find(e)},t.allChannels=function(){return this.channels.all()},t.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isEncrypted(),n=this.timelineSender;this.timelineSenderTimer=new e.PeriodicTimer(6e4,function(){n.send(t)})}},t.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.bind=function(e,t){return this.global_emitter.bind(e,t),this},t.bind_all=function(e){return this.global_emitter.bind_all(e),this},t.subscribeAll=function(){for(var e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},t.subscribe=function(e){return e=this.channels.add(e,this),"connected"===this.connection.state&&e.subscribe(),e},t.unsubscribe=function(e){(e=this.channels.remove(e))&&"connected"===this.connection.state&&e.unsubscribe()},t.send_event=function(e,t,n){return this.connection.send_event(e,t,n)},t.isEncrypted=function(){return"https:"===e.Util.getDocument().location.protocol||Boolean(this.config.encrypted)},e.HTTP={},this.Pusher=e}.call(this),function(){function e(e){window.clearTimeout(e)}function t(e){window.clearInterval(e)}function n(e,t,n,i){var r=this;this.clear=t,this.timer=e(function(){null!==r.timer&&(r.timer=i(r.timer))},n)}var i=n.prototype;i.isRunning=function(){return null!==this.timer},i.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},Pusher.Timer=function(t,i){return new n(setTimeout,e,t,function(e){return i(),null})},Pusher.PeriodicTimer=function(e,i){return new n(setInterval,t,e,function(e){return i(),e})}}.call(this),function(){Pusher.Util={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(e){return new Pusher.Timer(0,e)},extend:function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)e[n]=i[n]&&i[n].constructor&&i[n].constructor===Object?Pusher.Util.extend(e[n]||{},i[n]):i[n]}return e},stringify:function(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"==typeof arguments[t]?e.push(arguments[t]):void 0===window.JSON?e.push(arguments[t].toString()):e.push(JSON.stringify(arguments[t]));return e.join(" : ")},arrayIndexOf:function(e,t){var n=Array.prototype.indexOf;if(null===e)return-1;if(n&&e.indexOf===n)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},objectApply:function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)},keys:function(e){var t=[];return Pusher.Util.objectApply(e,function(e,n){t.push(n)}),t},values:function(e){var t=[];return Pusher.Util.objectApply(e,function(e){t.push(e)}),t},apply:function(e,t,n){for(var i=0;i<e.length;i++)t.call(n||window,e[i],i,e)},map:function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i,e,n));return n},mapObject:function(e,t){var n={};return Pusher.Util.objectApply(e,function(e,i){n[i]=t(e)}),n},filter:function(e,t){t=t||function(e){return!!e};for(var n=[],i=0;i<e.length;i++)t(e[i],i,e,n)&&n.push(e[i]);return n},filterObject:function(e,t){var n={};return Pusher.Util.objectApply(e,function(i,r){(t&&t(i,r,e,n)||Boolean(i))&&(n[r]=i)}),n},flatten:function(e){var t=[];return Pusher.Util.objectApply(e,function(e,n){t.push([n,e])}),t},any:function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1},all:function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0},method:function(e){var t=Array.prototype.slice.call(arguments,1);return function(n){return n[e].apply(n,t.concat(arguments))}},getWindow:function(){return window},getDocument:function(){return document},getLocalStorage:function(){try{return window.localStorage}catch(e){}},getClientFeatures:function(){return Pusher.Util.keys(Pusher.Util.filterObject({ws:Pusher.WSTransport},function(e){return e.isSupported({})}))},addWindowListener:function(e,t){var n=Pusher.Util.getWindow();void 0!==n.addEventListener?n.addEventListener(e,t,!1):n.attachEvent("on"+e,t)},removeWindowListener:function(e,t){var n=Pusher.Util.getWindow();void 0!==n.addEventListener?n.removeEventListener(e,t,!1):n.detachEvent("on"+e,t)},isXHRSupported:function(){var e=window.XMLHttpRequest;return Boolean(e)&&void 0!==(new e).withCredentials},isXDRSupported:function(e){e=e?"https:":"http:";var t=Pusher.Util.getDocument().location.protocol;return Boolean(window.XDomainRequest)&&t===e}}}.call(this),function(){Pusher.VERSION="3.0.0",Pusher.PROTOCOL=7,Pusher.host="ws.pusherapp.com",Pusher.ws_port=80,Pusher.wss_port=443,Pusher.sockjs_host="sockjs.pusher.com",Pusher.sockjs_http_port=80,Pusher.sockjs_https_port=443,Pusher.sockjs_path="/pusher",Pusher.stats_host="stats.pusher.com",Pusher.channel_auth_endpoint="/pusher/auth",Pusher.channel_auth_transport="ajax",Pusher.activity_timeout=12e4,Pusher.pong_timeout=3e4,Pusher.unavailable_timeout=1e4,Pusher.cdn_http="http://js.pusher.com/",Pusher.cdn_https="https://js.pusher.com/",Pusher.dependency_suffix=".min",Pusher.getDefaultStrategy=function(e){return[[":def","ws_options",{hostUnencrypted:e.wsHost+":"+e.wsPort,hostEncrypted:e.wsHost+":"+e.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:e.httpHost+":"+e.httpPort,hostEncrypted:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],":http_fallback_loop"]]]]]}}.call(this),function(){Pusher.getGlobalConfig=function(){return{wsHost:Pusher.host,wsPort:Pusher.ws_port,wssPort:Pusher.wss_port,httpHost:Pusher.sockjs_host,httpPort:Pusher.sockjs_http_port,httpsPort:Pusher.sockjs_https_port,httpPath:Pusher.sockjs_path,statsHost:Pusher.stats_host,authEndpoint:Pusher.channel_auth_endpoint,authTransport:Pusher.channel_auth_transport,activity_timeout:Pusher.activity_timeout,pong_timeout:Pusher.pong_timeout,unavailable_timeout:Pusher.unavailable_timeout}},Pusher.getClusterConfig=function(e){return{wsHost:"ws-"+e+".pusher.com",httpHost:"sockjs-"+e+".pusher.com"}}}.call(this),function(){function e(e){var t=function(t){Error.call(this,t),this.name=e};return Pusher.Util.extend(t.prototype,Error.prototype),t}Pusher.Errors={BadEventName:e("BadEventName"),RequestTimedOut:e("RequestTimedOut"),TransportPriorityTooLow:e("TransportPriorityTooLow"),TransportClosed:e("TransportClosed"),UnsupportedTransport:e("UnsupportedTransport"),UnsupportedStrategy:e("UnsupportedStrategy")}}.call(this),function(){function e(e){this.callbacks=new t,this.global_callbacks=[],this.failThrough=e}function t(){this._callbacks={}}var n=e.prototype;n.bind=function(e,t,n){return this.callbacks.add(e,t,n),this},n.bind_all=function(e){return this.global_callbacks.push(e),this},n.unbind=function(e,t,n){return this.callbacks.remove(e,t,n),this},n.unbind_all=function(e,t){return this.callbacks.remove(e,t),this},n.emit=function(e,t){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](e,t);var i=this.callbacks.get(e);if(i&&0<i.length)for(n=0;n<i.length;n++)i[n].fn.call(i[n].context||window,t);else this.failThrough&&this.failThrough(e,t);return this},t.prototype.get=function(e){return this._callbacks["_"+e]},t.prototype.add=function(e,t,n){e="_"+e,this._callbacks[e]=this._callbacks[e]||[],this._callbacks[e].push({fn:t,context:n})},t.prototype.remove=function(e,t,n){e||t||n?(e=e?["_"+e]:Pusher.Util.keys(this._callbacks),t||n?Pusher.Util.apply(e,function(e){this._callbacks[e]=Pusher.Util.filter(this._callbacks[e]||[],function(e){return t&&t!==e.fn||n&&n!==e.context}),0===this._callbacks[e].length&&delete this._callbacks[e]},this):Pusher.Util.apply(e,function(e){delete this._callbacks[e]},this)):this._callbacks={}},Pusher.EventsDispatcher=e}.call(this),function(){function e(e,t){this.lastId=0,this.prefix=e,this.name=t}var t=e.prototype;t.create=function(e){this.lastId++;var t=this.lastId,n=this.prefix+t,i=this.name+"["+t+"]",r=!1,s=function(){r||(e.apply(null,arguments),r=!0)};return this[t]=s,{number:t,id:n,name:i,callback:s}},t.remove=function(e){delete this[e.number]},Pusher.ScriptReceiverFactory=e,Pusher.ScriptReceivers=new e("_pusher_script_","Pusher.ScriptReceivers")}.call(this),function(){function e(e){this.src=e}var t=e.prototype;t.send=function(e){var t=this,n="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(n)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){("loaded"===t.script.readyState||"complete"===t.script.readyState)&&e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+n+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(t.script,i.firstChild),t.errorScript&&i.insertBefore(t.errorScript,t.script.nextSibling)},t.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.errorScript=this.script=null},Pusher.ScriptRequest=e}.call(this),function(){function e(e){this.options=e,this.receivers=e.receivers||Pusher.ScriptReceivers,this.loading={}}var t=e.prototype;t.load=function(e,t,n){var i=this;if(i.loading[e]&&0<i.loading[e].length)i.loading[e].push(n);else{i.loading[e]=[n];var r=new Pusher.ScriptRequest(i.getPath(e,t)),s=i.receivers.create(function(t){if(i.receivers.remove(s),i.loading[e]){var n=i.loading[e];delete i.loading[e];for(var o=function(e){e||r.cleanup()},a=0;a<n.length;a++)n[a](t,o)}});r.send(s)}},t.getRoot=function(e){var t=Pusher.Util.getDocument().location.protocol;return(e&&e.encrypted||"https:"===t?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.getPath=function(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"},Pusher.DependencyLoader=e}.call(this),function(){function e(){Pusher.ready()}function t(e){document.body?e():setTimeout(function(){t(e)},0)}function n(){t(e)}Pusher.DependenciesReceivers=new Pusher.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),Pusher.Dependencies=new Pusher.DependencyLoader({cdn_http:Pusher.cdn_http,cdn_https:Pusher.cdn_https,version:Pusher.VERSION,suffix:Pusher.dependency_suffix,receivers:Pusher.DependenciesReceivers}),window.JSON?n():Pusher.Dependencies.load("json2",{},n)}(),function(){for(var e=String.fromCharCode,t=0;64>t;t++)"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t);var n=function(t){var n=t.charCodeAt(0);return 128>n?t:2048>n?e(192|n>>>6)+e(128|63&n):e(224|n>>>12&15)+e(128|n>>>6&63)+e(128|63&n)},i=function(e){var t=[0,2,1][e.length%3];return e=e.charCodeAt(0)<<16|(1<e.length?e.charCodeAt(1):0)<<8|(2<e.length?e.charCodeAt(2):0),["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>18),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>12&63),2<=t?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>6&63),1<=t?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&e)].join("")},r=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,i)};Pusher.Base64={encode:function(e){return r(e.replace(/[^\x00-\x7F]/g,n))}}}.call(this),function(){function e(e,t){this.url=e,this.data=t}function t(e){return Pusher.Util.mapObject(e,function(e){return"object"==typeof e&&(e=JSON.stringify(e)),encodeURIComponent(Pusher.Base64.encode(e.toString()))})}var n=e.prototype;n.send=function(e){if(!this.request){var n=Pusher.Util.filterObject(this.data,function(e){return void 0!==e}),n=Pusher.Util.map(Pusher.Util.flatten(t(n)),Pusher.Util.method("join","=")).join("&");this.request=new Pusher.ScriptRequest(this.url+"/"+e.number+"?"+n),this.request.send(e)}},n.cleanup=function(){this.request&&this.request.cleanup()},Pusher.JSONPRequest=e}.call(this),function(){function e(e,t,n){this.key=e,this.session=t,this.events=[],this.options=n||{},this.uniqueID=this.sent=0}var t=e.prototype;e.ERROR=3,e.INFO=6,e.DEBUG=7,t.log=function(e,t){e<=this.options.level&&(this.events.push(Pusher.Util.extend({},t,{timestamp:Pusher.Util.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.error=function(t){this.log(e.ERROR,t)},t.info=function(t){this.log(e.INFO,t)},t.debug=function(t){this.log(e.DEBUG,t)},t.isEmpty=function(){return 0===this.events.length},t.send=function(e,t){var n=this,i=Pusher.Util.extend({session:n.session,bundle:n.sent+1,key:n.key,lib:"js",version:n.options.version,cluster:n.options.cluster,features:n.options.features,timeline:n.events},n.options.params);return n.events=[],e(i,function(e,i){e||n.sent++,t&&t(e,i)}),!0},t.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},Pusher.Timeline=e}.call(this),function(){function e(e,t){this.timeline=e,this.options=t||{}}e.prototype.send=function(e,t){var n=this;n.timeline.isEmpty()||n.timeline.send(function(t,i){var r=new Pusher.JSONPRequest("http"+(e?"s":"")+"://"+(n.host||n.options.host)+n.options.path,t),s=Pusher.ScriptReceivers.create(function(e,t){Pusher.ScriptReceivers.remove(s),r.cleanup(),t&&t.host&&(n.host=t.host),i&&i(e,t)});r.send(s)},t)},Pusher.TimelineSender=e}.call(this),function(){function e(e){this.strategies=e}function t(e,t,n){var r=Pusher.Util.map(e,function(e,i,r,s){return e.connect(t,n(i,s))});return{abort:function(){Pusher.Util.apply(r,i)},forceMinPriority:function(e){Pusher.Util.apply(r,function(t){t.forceMinPriority(e)})}}}function n(e){return Pusher.Util.all(e,function(e){return Boolean(e.error)})}function i(e){!e.error&&!e.aborted&&(e.abort(),e.aborted=!0)}var r=e.prototype;r.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))},r.connect=function(e,i){return t(this.strategies,e,function(e,t){return function(r,s){(t[e].error=r)?n(t)&&i(!0):(Pusher.Util.apply(t,function(e){e.forceMinPriority(s.transport.priority)}),i(null,s))}})},Pusher.BestConnectedEverStrategy=e}.call(this),function(){function e(e,t,n){this.strategy=e,this.transports=t,this.ttl=n.ttl||18e5,this.encrypted=n.encrypted,this.timeline=n.timeline}function t(e){return"pusherTransport"+(e?"Encrypted":"Unencrypted")}function n(e){var n=Pusher.Util.getLocalStorage();if(n)try{var r=n[t(e)];if(r)return JSON.parse(r)}catch(s){i(e)}return null}function i(e){var n=Pusher.Util.getLocalStorage();if(n)try{delete n[t(e)]}catch(i){}}var r=e.prototype;r.isSupported=function(){return this.strategy.isSupported()},r.connect=function(e,r){var s=this.encrypted,o=n(s),a=[this.strategy];if(o&&o.timestamp+this.ttl>=Pusher.Util.now()){var l=this.transports[o.transport];l&&(this.timeline.info({cached:!0,transport:o.transport,latency:o.latency}),a.push(new Pusher.SequentialStrategy([l],{timeout:2*o.latency+1e3,failFast:!0})))}var c=Pusher.Util.now(),u=a.pop().connect(e,function d(n,o){if(n)i(s),0<a.length?(c=Pusher.Util.now(),u=a.pop().connect(e,d)):r(n);else{var l=o.transport.name,h=Pusher.Util.now()-c,p=Pusher.Util.getLocalStorage();if(p)try{p[t(s)]=JSON.stringify({timestamp:Pusher.Util.now(),transport:l,latency:h})}catch(f){}r(null,o)}});return{abort:function(){u.abort()},forceMinPriority:function(t){e=t,u&&u.forceMinPriority(t)}}},Pusher.CachedStrategy=e}.call(this),function(){function e(e,t){this.strategy=e,this.options={delay:t.delay}}var t=e.prototype;t.isSupported=function(){return this.strategy.isSupported()},t.connect=function(e,t){var n,i=this.strategy,r=new Pusher.Timer(this.options.delay,function(){n=i.connect(e,t)});return{abort:function(){r.ensureAborted(),n&&n.abort()},forceMinPriority:function(t){e=t,n&&n.forceMinPriority(t)}}},Pusher.DelayedStrategy=e}.call(this),function(){function e(e){this.strategy=e}var t=e.prototype;t.isSupported=function(){return this.strategy.isSupported()},t.connect=function(e,t){var n=this.strategy.connect(e,function(e,i){i&&n.abort(),t(e,i)});return n},Pusher.FirstConnectedStrategy=e}.call(this),function(){function e(e,t,n){this.test=e,this.trueBranch=t,this.falseBranch=n}var t=e.prototype;t.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.connect=function(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)},Pusher.IfStrategy=e}.call(this),function(){function e(e,t){this.strategies=e,this.loop=Boolean(t.loop),this.failFast=Boolean(t.failFast),this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}var t=e.prototype;t.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))},t.connect=function(e,t){var n=this,i=this.strategies,r=0,s=this.timeout,o=null,a=function(l,c){c?t(null,c):(r+=1,n.loop&&(r%=i.length),r<i.length?(s&&(s*=2,n.timeoutLimit&&(s=Math.min(s,n.timeoutLimit))),o=n.tryStrategy(i[r],e,{timeout:s,failFast:n.failFast},a)):t(!0))},o=this.tryStrategy(i[r],e,{timeout:s,failFast:this.failFast},a);return{abort:function(){o.abort()},forceMinPriority:function(t){e=t,o&&o.forceMinPriority(t)}}},t.tryStrategy=function(e,t,n,i){var r=null,s=null;return 0<n.timeout&&(r=new Pusher.Timer(n.timeout,function(){s.abort(),i(!0)})),s=e.connect(t,function(e,t){e&&r&&r.isRunning()&&!n.failFast||(r&&r.ensureAborted(),i(e,t))}),{abort:function(){r&&r.ensureAborted(),s.abort()},forceMinPriority:function(e){s.forceMinPriority(e)}}},Pusher.SequentialStrategy=e}.call(this),function(){function e(e,t,n,i){this.name=e,this.priority=t,this.transport=n,this.options=i||{}}function t(e,t){return Pusher.Util.defer(function(){t(e)}),{abort:function(){},forceMinPriority:function(){}}}var n=e.prototype;n.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},n.connect=function(e,n){if(!this.isSupported())return t(new Pusher.Errors.UnsupportedStrategy,n);if(this.priority<e)return t(new Pusher.Errors.TransportPriorityTooLow,n);var i=this,r=!1,s=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),o=null,a=function(){s.unbind("initialized",a),s.connect()},l=function(){o=new Pusher.Handshake(s,function(e){r=!0,d(),n(null,e)})},c=function(e){d(),n(e)},u=function(){d(),n(new Pusher.Errors.TransportClosed(s))},d=function(){s.unbind("initialized",a),s.unbind("open",l),s.unbind("error",c),s.unbind("closed",u)};return s.bind("initialized",a),s.bind("open",l),s.bind("error",c),s.bind("closed",u),s.initialize(),{abort:function(){r||(d(),o?o.close():s.close())},forceMinPriority:function(e){r||i.priority<e&&(o?o.close():s.close())}}},Pusher.TransportStrategy=e}.call(this),function(){function e(e,t,n){return e+(t.encrypted?"s":"")+"://"+(t.encrypted?t.hostEncrypted:t.hostUnencrypted)+n}function t(e,t){return"/app/"+e+("?protocol="+Pusher.PROTOCOL+"&client=js&version="+Pusher.VERSION+(t?"&"+t:""))}Pusher.URLSchemes={ws:{getInitial:function(n,i){return e("ws",i,t(n,"flash=false"))}},sockjs:{getInitial:function(t,n){return e("http",n,n.httpPath||"/pusher","")},getPath:function(e,n){return t(e)}},http:{getInitial:function(n,i){var r=(i.httpPath||"/pusher")+t(n);return e("http",i,r)}}}}.call(this),function(){function e(e,t,n,i,r){Pusher.EventsDispatcher.call(this),this.hooks=e,this.name=t,this.priority=n,this.key=i,this.options=r,this.state="new",this.timeline=r.timeline,this.activityTimeout=r.activityTimeout,this.id=this.timeline.generateUniqueID()}var t=e.prototype;Pusher.Util.extend(t,Pusher.EventsDispatcher.prototype),t.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},t.supportsPing=function(){return Boolean(this.hooks.supportsPing)},t.initialize=function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.encrypted?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),Pusher.Dependencies.load(e.hooks.file,{encrypted:e.options.encrypted},function(t,n){e.hooks.isInitialized()?(e.changeState("initialized"),n(!0)):(t&&e.onError(t),e.onClose(),n(!1))})):e.onClose()},t.connect=function(){var e=this;if(e.socket||"initialized"!==e.state)return!1;var t=e.hooks.urls.getInitial(e.key,e.options);try{e.socket=e.hooks.getSocket(t,e.options)}catch(n){return Pusher.Util.defer(function(){e.onError(n),e.changeState("closed")}),!1}return e.bindListeners(),Pusher.debug("Connecting",{transport:e.name,url:t}),e.changeState("connecting"),!0},t.close=function(){return!!this.socket&&(this.socket.close(),!0)},t.send=function(e){var t=this;return"open"===t.state&&(Pusher.Util.defer(function(){t.socket&&t.socket.send(e)}),!0)},t.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},t.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},t.onError=function(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))},t.onClose=function(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},t.onMessage=function(e){this.emit("message",e)},t.onActivity=function(){this.emit("activity")},t.bindListeners=function(){var e=this;e.socket.onopen=function(){e.onOpen()},e.socket.onerror=function(t){e.onError(t)},e.socket.onclose=function(t){e.onClose(t)},e.socket.onmessage=function(t){e.onMessage(t)},e.supportsPing()&&(e.socket.onactivity=function(){e.onActivity()})},t.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},t.changeState=function(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)},t.buildTimelineMessage=function(e){return Pusher.Util.extend({cid:this.id},e)},Pusher.TransportConnection=e}.call(this),function(){function e(e){this.hooks=e}var t=e.prototype;t.isSupported=function(e){return this.hooks.isSupported(e)},t.createConnection=function(e,t,n,i){return new Pusher.TransportConnection(this.hooks,e,t,n,i)},Pusher.Transport=e}.call(this),function(){Pusher.WSTransport=new Pusher.Transport({urls:Pusher.URLSchemes.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(window.WebSocket||window.MozWebSocket)},isSupported:function(){return Boolean(window.WebSocket||window.MozWebSocket)},getSocket:function(e){return new(window.WebSocket||window.MozWebSocket)(e)}}),Pusher.SockJSTransport=new Pusher.Transport({file:"sockjs",urls:Pusher.URLSchemes.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new SockJS(e,null,{js_path:Pusher.Dependencies.getPath("sockjs",{encrypted:t.encrypted}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}});var e={urls:Pusher.URLSchemes.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return Boolean(Pusher.HTTP.Socket)}},t=Pusher.Util.extend({getSocket:function(e){return Pusher.HTTP.getStreamingSocket(e)}},e),e=Pusher.Util.extend({getSocket:function(e){return Pusher.HTTP.getPollingSocket(e)}},e),n={file:"xhr",isSupported:Pusher.Util.isXHRSupported},i={file:"xdr",isSupported:function(e){return Pusher.Util.isXDRSupported(e.encrypted)}};Pusher.XHRStreamingTransport=new Pusher.Transport(Pusher.Util.extend({},t,n)),Pusher.XDRStreamingTransport=new Pusher.Transport(Pusher.Util.extend({},t,i)),Pusher.XHRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},e,n)),Pusher.XDRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},e,i))}.call(this),function(){function e(e,t,n){this.manager=e,this.transport=t,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}var t=e.prototype;t.createConnection=function(e,t,n,i){var r=this;i=Pusher.Util.extend({},i,{activityTimeout:r.pingDelay});var s=r.transport.createConnection(e,t,n,i),o=null,a=function(){s.unbind("open",a),s.bind("closed",l),o=Pusher.Util.now()},l=function(e){s.unbind("closed",l),1002===e.code||1003===e.code?r.manager.reportDeath():!e.wasClean&&o&&(e=Pusher.Util.now()-o,e<2*r.maxPingDelay&&(r.manager.reportDeath(),r.pingDelay=Math.max(e/2,r.minPingDelay)))};return s.bind("open",a),s},t.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},Pusher.AssistantToTheTransportManager=e}.call(this),function(){function e(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}var t=e.prototype;t.getAssistant=function(e){return new Pusher.AssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.isAlive=function(){return 0<this.livesLeft},t.reportDeath=function(){this.livesLeft-=1},Pusher.TransportManager=e}.call(this),function(){function e(e){return function(t){return[e.apply(this,arguments),t]}}function t(e,n){if(0===e.length)return[[],n];var r=i(e[0],n),s=t(e.slice(1),r[1]);return[[r[0]].concat(s[0]),s[1]]}function n(e,n){if("string"==typeof e[0]&&":"===e[0].charAt(0)){var r=n[e[0].slice(1)];if(1<e.length){if("function"!=typeof r)throw"Calling non-function "+e[0];var s=[Pusher.Util.extend({},n)].concat(Pusher.Util.map(e.slice(1),function(e){return i(e,Pusher.Util.extend({},n))[0]}));return r.apply(this,s)}return[r,n]}return t(e,n)}function i(e,t){if("string"==typeof e){var i;if("string"==typeof e&&":"===e.charAt(0)){if(i=t[e.slice(1)],void 0===i)throw"Undefined symbol "+e;i=[i,t]}else i=[e,t];return i}return"object"==typeof e&&e instanceof Array&&0<e.length?n(e,t):[e,t]}var r={ws:Pusher.WSTransport,sockjs:Pusher.SockJSTransport,xhr_streaming:Pusher.XHRStreamingTransport,xdr_streaming:Pusher.XDRStreamingTransport,xhr_polling:Pusher.XHRPollingTransport,xdr_polling:Pusher.XDRPollingTransport},s={isSupported:function(){return!1},connect:function(e,t){var n=Pusher.Util.defer(function(){t(new Pusher.Errors.UnsupportedStrategy)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},o={extend:function(e,t,n){return[Pusher.Util.extend({},t,n),e]},def:function(e,t,n){if(void 0!==e[t])throw"Redefining symbol "+t;return e[t]=n,[void 0,e]},def_transport:function(e,t,n,i,o,a){var l=r[n];if(!l)throw new Pusher.Errors.UnsupportedTransport(n);return n=e.enabledTransports&&-1===Pusher.Util.arrayIndexOf(e.enabledTransports,t)||e.disabledTransports&&-1!==Pusher.Util.arrayIndexOf(e.disabledTransports,t)?s:new Pusher.TransportStrategy(t,i,a?a.getAssistant(l):l,Pusher.Util.extend({key:e.key,encrypted:e.encrypted,timeline:e.timeline,ignoreNullOrigin:e.ignoreNullOrigin},o)),i=e.def(e,t,n)[1],i.transports=e.transports||{},i.transports[t]=n,[void 0,i]},transport_manager:e(function(e,t){return new Pusher.TransportManager(t)}),sequential:e(function(e,t){var n=Array.prototype.slice.call(arguments,2);return new Pusher.SequentialStrategy(n,t)}),cached:e(function(e,t,n){return new Pusher.CachedStrategy(n,e.transports,{ttl:t,timeline:e.timeline,encrypted:e.encrypted})}),first_connected:e(function(e,t){return new Pusher.FirstConnectedStrategy(t)}),best_connected_ever:e(function(){var e=Array.prototype.slice.call(arguments,1);return new Pusher.BestConnectedEverStrategy(e)}),delayed:e(function(e,t,n){return new Pusher.DelayedStrategy(n,{delay:t})}),"if":e(function(e,t,n,i){return new Pusher.IfStrategy(t,n,i)}),is_supported:e(function(e,t){return function(){return t.isSupported()}})};Pusher.StrategyBuilder={build:function(e,t){var n=Pusher.Util.extend({},o,t);return i(e,n)[1].strategy}}}.call(this),function(){Pusher.Protocol={decodeMessage:function(e){try{var t=JSON.parse(e.data);if("string"==typeof t.data)try{t.data=JSON.parse(t.data)}catch(n){if(!(n instanceof SyntaxError))throw n;
}return t}catch(i){throw{type:"MessageParseError",error:i,data:e.data}}},encodeMessage:function(e){return JSON.stringify(e)},processHandshake:function(e){if(e=this.decodeMessage(e),"pusher:connection_established"===e.event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},getCloseAction:function(e){return 4e3>e.code?1002<=e.code&&1004>=e.code?"backoff":null:4e3===e.code?"ssl_only":4100>e.code?"refused":4200>e.code?"backoff":4300>e.code?"retry":"refused"},getCloseError:function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}}}.call(this),function(){function e(e,t){Pusher.EventsDispatcher.call(this),this.id=e,this.transport=t,this.activityTimeout=t.activityTimeout,this.bindListeners()}var t=e.prototype;Pusher.Util.extend(t,Pusher.EventsDispatcher.prototype),t.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},t.send=function(e){return this.transport.send(e)},t.send_event=function(e,t,n){return e={event:e,data:t},n&&(e.channel=n),Pusher.debug("Event sent",e),this.send(Pusher.Protocol.encodeMessage(e))},t.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},t.close=function(){this.transport.close()},t.bindListeners=function(){var e=this,t={message:function(t){var n;try{n=Pusher.Protocol.decodeMessage(t)}catch(i){e.emit("error",{type:"MessageParseError",error:i,data:t.data})}if(void 0!==n){switch(Pusher.debug("Event recd",n),n.event){case"pusher:error":e.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":e.emit("ping");break;case"pusher:pong":e.emit("pong")}e.emit("message",n)}},activity:function(){e.emit("activity")},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(t){n(),t&&t.code&&e.handleCloseEvent(t),e.transport=null,e.emit("closed")}},n=function(){Pusher.Util.objectApply(t,function(t,n){e.transport.unbind(n,t)})};Pusher.Util.objectApply(t,function(t,n){e.transport.bind(n,t)})},t.handleCloseEvent=function(e){var t=Pusher.Protocol.getCloseAction(e);(e=Pusher.Protocol.getCloseError(e))&&this.emit("error",e),t&&this.emit(t)},Pusher.Connection=e}.call(this),function(){function e(e,t){this.transport=e,this.callback=t,this.bindListeners()}var t=e.prototype;t.close=function(){this.unbindListeners(),this.transport.close()},t.bindListeners=function(){var e=this;e.onMessage=function(t){e.unbindListeners();try{var n=Pusher.Protocol.processHandshake(t);"connected"===n.action?e.finish("connected",{connection:new Pusher.Connection(n.id,e.transport),activityTimeout:n.activityTimeout}):(e.finish(n.action,{error:n.error}),e.transport.close())}catch(i){e.finish("error",{error:i}),e.transport.close()}},e.onClosed=function(t){e.unbindListeners();var n=Pusher.Protocol.getCloseAction(t)||"backoff";t=Pusher.Protocol.getCloseError(t),e.finish(n,{error:t})},e.transport.bind("message",e.onMessage),e.transport.bind("closed",e.onClosed)},t.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.finish=function(e,t){this.callback(Pusher.Util.extend({transport:this.transport,action:e},t))},Pusher.Handshake=e}.call(this),function(){function e(e,t){Pusher.EventsDispatcher.call(this),this.key=e,this.options=t||{},this.state="initialized",this.connection=null,this.encrypted=!!t.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var n=this;Pusher.Network.bind("online",function(){n.timeline.info({netinfo:"online"}),("connecting"===n.state||"unavailable"===n.state)&&n.retryIn(0)}),Pusher.Network.bind("offline",function(){n.timeline.info({netinfo:"offline"}),n.connection&&n.sendActivityCheck()}),this.updateStrategy()}var t=e.prototype;Pusher.Util.extend(t,Pusher.EventsDispatcher.prototype),t.connect=function(){!this.connection&&!this.runner&&(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},t.send=function(e){return!!this.connection&&this.connection.send(e)},t.send_event=function(e,t,n){return!!this.connection&&this.connection.send_event(e,t,n)},t.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},t.isEncrypted=function(){return this.encrypted},t.startConnecting=function(){var e=this,t=function(n,i){n?e.runner=e.strategy.connect(0,t):"error"===i.action?(e.emit("error",{type:"HandshakeError",error:i.error}),e.timeline.error({handshakeError:i.error})):(e.abortConnecting(),e.handshakeCallbacks[i.action](i))};e.runner=e.strategy.connect(0,t)},t.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},t.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},t.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},t.retryIn=function(e){var t=this;t.timeline.info({action:"retry",delay:e}),0<e&&t.emit("connecting_in",Math.round(e/1e3)),t.retryTimer=new Pusher.Timer(e||0,function(){t.disconnectInternally(),t.connect()})},t.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},t.setUnavailableTimer=function(){var e=this;e.unavailableTimer=new Pusher.Timer(e.options.unavailableTimeout,function(){e.updateState("unavailable")})},t.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},t.sendActivityCheck=function(){var e=this;e.stopActivityCheck(),e.connection.ping(),e.activityTimer=new Pusher.Timer(e.options.pongTimeout,function(){e.timeline.error({pong_timed_out:e.options.pongTimeout}),e.retryIn(0)})},t.resetActivityCheck=function(){var e=this;e.stopActivityCheck(),e.connection.handlesActivityChecks()||(e.activityTimer=new Pusher.Timer(e.activityTimeout,function(){e.sendActivityCheck()}))},t.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},t.buildConnectionCallbacks=function(){var e=this;return{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}}},t.buildHandshakeCallbacks=function(e){var t=this;return Pusher.Util.extend({},e,{connected:function(e){t.activityTimeout=Math.min(t.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),t.clearUnavailableTimer(),t.setConnection(e.connection),t.socket_id=t.connection.id,t.updateState("connected",{socket_id:t.socket_id})}})},t.buildErrorCallbacks=function(){function e(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}}var t=this;return{ssl_only:e(function(){t.encrypted=!0,t.updateStrategy(),t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}},t.setConnection=function(e){this.connection=e;for(var t in this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()},t.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var e in this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);return e=this.connection,this.connection=null,e}},t.updateState=function(e,t){var n=this.state;this.state=e,n!==e&&(Pusher.debug("State changed",n+" -> "+e),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:n,current:e}),this.emit(e,t))},t.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},Pusher.ConnectionManager=e}.call(this),function(){function e(){Pusher.EventsDispatcher.call(this);var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}Pusher.Util.extend(e.prototype,Pusher.EventsDispatcher.prototype),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},Pusher.NetInfo=e,Pusher.Network=new e}.call(this),function(){function e(){this.reset()}var t=e.prototype;t.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},t.each=function(e){var t=this;Pusher.Util.objectApply(t.members,function(n,i){e(t.get(i))})},t.setMyID=function(e){this.myID=e},t.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},t.addMember=function(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},t.removeMember=function(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t},t.reset=function(){this.members={},this.count=0,this.me=this.myID=null},Pusher.Members=e}.call(this),function(){function e(e,t){Pusher.EventsDispatcher.call(this,function(t,n){Pusher.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=t,this.subscribed=!1}var t=e.prototype;Pusher.Util.extend(t,Pusher.EventsDispatcher.prototype),t.authorize=function(e,t){return t(!1,{})},t.trigger=function(e,t){if(0!==e.indexOf("client-"))throw new Pusher.Errors.BadEventName("Event '"+e+"' does not start with 'client-'");return this.pusher.send_event(e,t,this.name)},t.disconnect=function(){this.subscribed=!1},t.handleEvent=function(e,t){0===e.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===e&&(this.subscribed=!0,this.emit("pusher:subscription_succeeded",t)):this.emit(e,t)},t.subscribe=function(){var e=this;e.authorize(e.pusher.connection.socket_id,function(t,n){t?e.handleEvent("pusher:subscription_error",n):e.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:e.name})})},t.unsubscribe=function(){this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},Pusher.Channel=e}.call(this),function(){function e(e,t){Pusher.Channel.call(this,e,t)}var t=e.prototype;Pusher.Util.extend(t,Pusher.Channel.prototype),t.authorize=function(e,t){return new Pusher.Channel.Authorizer(this,this.pusher.config).authorize(e,t)},Pusher.PrivateChannel=e}.call(this),function(){function e(e,t){Pusher.PrivateChannel.call(this,e,t),this.members=new Pusher.Members}var t=e.prototype;Pusher.Util.extend(t,Pusher.PrivateChannel.prototype),t.authorize=function(e,t){var n=this;Pusher.PrivateChannel.prototype.authorize.call(n,e,function(e,i){if(!e){if(void 0===i.channel_data)return Pusher.warn("Invalid auth response for channel '"+n.name+"', expected 'channel_data' field"),void t("Invalid auth response");var r=JSON.parse(i.channel_data);n.members.setMyID(r.user_id)}t(e,i)})},t.handleEvent=function(e,t){switch(e){case"pusher_internal:subscription_succeeded":this.members.onSubscription(t),this.subscribed=!0,this.emit("pusher:subscription_succeeded",this.members);break;case"pusher_internal:member_added":var n=this.members.addMember(t);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":(n=this.members.removeMember(t))&&this.emit("pusher:member_removed",n);break;default:Pusher.PrivateChannel.prototype.handleEvent.call(this,e,t)}},t.disconnect=function(){this.members.reset(),Pusher.PrivateChannel.prototype.disconnect.call(this)},Pusher.PresenceChannel=e}.call(this),function(){function e(){this.channels={}}var t=e.prototype;t.add=function(e,t){if(!this.channels[e]){var n,i=this.channels;n=0===e.indexOf("private-")?new Pusher.PrivateChannel(e,t):0===e.indexOf("presence-")?new Pusher.PresenceChannel(e,t):new Pusher.Channel(e,t),i[e]=n}return this.channels[e]},t.all=function(e){return Pusher.Util.values(this.channels)},t.find=function(e){return this.channels[e]},t.remove=function(e){var t=this.channels[e];return delete this.channels[e],t},t.disconnect=function(){Pusher.Util.objectApply(this.channels,function(e){e.disconnect()})},Pusher.Channels=e}.call(this),function(){Pusher.Channel.Authorizer=function(e,t){this.channel=e,this.type=t.authTransport,this.options=t,this.authOptions=(t||{}).auth||{}},Pusher.Channel.Authorizer.prototype={composeQuery:function(e){e="socket_id="+encodeURIComponent(e)+"&channel_name="+encodeURIComponent(this.channel.name);for(var t in this.authOptions.params)e+="&"+encodeURIComponent(t)+"="+encodeURIComponent(this.authOptions.params[t]);return e},authorize:function(e,t){return Pusher.authorizers[this.type].call(this,e,t)}};var e=1;Pusher.auth_callbacks={},Pusher.authorizers={ajax:function(e,t){var n;n=Pusher.XHR?new Pusher.XHR:window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.open("POST",this.options.authEndpoint,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var i in this.authOptions.headers)n.setRequestHeader(i,this.authOptions.headers[i]);return n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var e,i=!1;try{e=JSON.parse(n.responseText),i=!0}catch(r){t(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+n.responseText)}i&&t(!1,e)}else Pusher.warn("Couldn't get auth info from your webapp",n.status),t(!0,n.status)},n.send(this.composeQuery(e)),n},jsonp:function(t,n){void 0!==this.authOptions.headers&&Pusher.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var i=e.toString();e++;var r=Pusher.Util.getDocument(),s=r.createElement("script");Pusher.auth_callbacks[i]=function(e){n(!1,e)},s.src=this.options.authEndpoint+"?callback="+encodeURIComponent("Pusher.auth_callbacks['"+i+"']")+"&"+this.composeQuery(t),i=r.getElementsByTagName("head")[0]||r.documentElement,i.insertBefore(s,i.firstChild)}}}.call(this),Pusher})},708:function(e,t,n){var i,r;i=[n(2),n(509),n(742),n(648)],r=function(e,t,n,i){function r(e,t,n,i){var r=this;r.ANIMATION_TYPE={next:"next",prev:"prev",loading:"loading"},r.TIMING={stateChange:1e3,showTooltip:2e3,hideTooltip:4e3},r.go=function(s,o,a,l){function c(){a===r.ANIMATION_TYPE.next?e.animationClass="velocity-enter-transition-curriculumItemDownIn velocity-leave-transition-curriculumItemUpOut":a===r.ANIMATION_TYPE.prev?e.animationClass="velocity-enter-transition-curriculumItemUpIn velocity-leave-transition-curriculumItemDownOut":a===r.ANIMATION_TYPE.loading&&i.show()}function u(){a===r.ANIMATION_TYPE.loading?i.hide():e.animationClass=null}n.is(s,o)||(c(),t(function(){n.go(s,o,l).then(function(){t(u,r.TIMING.stateChange)})["catch"](u)}))},this.tooltip=function(e,n){return t(e,r.TIMING.showTooltip).then(function(){return t(n,r.TIMING.hideTooltip)})}}var s=e.module("apps.courseTakingV4.animatedStateChange.services",["ui.router",n.name,i.name]).service("AnimatedStateChangeService",r);return r.$inject=["$rootScope","$timeout","$state","loadingScreen"],s}.apply(t,i),!(void 0!==r&&(e.exports=r))},709:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){function i(i){function r(){n.$emit("hotkeyshowhotkeys")}function s(){i.$broadcast("reportabuseshowmodal")}i.isMobileBrowser=t.isMobileBrowser(),i.downloadEnabled=!!i.downloadUrl,i.reportEnabled=i.reportType&&i.reportId&&g["default"].features.report_abuse,i.hasMenuItems=i.hotkeysEnabled||i.reportEnabled,i.reportPopup={open:!1},i.showHotkeys=r,i.showReport=s,i.isFullscreen=e.isFullscreen.bind(e),i.toggleFullscreen=e.toggleFullscreen.bind(e,document.body)}return{restrict:"E",scope:{downloadUrl:"=",hotkeysEnabled:"=",reportType:"=",reportId:"="},link:i,templateUrl:y["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(562),l=i(a),c=n(716),u=i(c),d=n(63),h=i(d),p=n(12),f=i(p),m=n(14),g=i(m),v=n(1225),y=i(v),b=o["default"].module("apps.courseTakingV4.curriculum.curriculumItemControlsDirective",[f["default"].name,l["default"].name,u["default"].name,h["default"].name]).directive("curriculumItemControls",r);r.$inject=["Fullscreen","Mobile","$rootScope"],t["default"]=b},710:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{restrict:"E",scope:{onDelete:"=",readOnly:"=",showNewTab:"=",lectureId:"=?",questionPreload:"=",instructorView:"@"},link:function(t,n){t.$watch("answerFormVisible",function(t){t&&e(function(){n.find("answer-form .redactor-box textarea").redactor("focus.start")},10)})},controller:s,templateUrl:I["default"]}}function s(e,t,n,i,r,s,o,l){function c(){return o.features?o.features.discussions_replies_create:!!e.questionPreload&&(e.questionPreload.course.features&&e.questionPreload.course.features.discussions_replies_create)}function u(){if(!e.questionEditorState.submitDisabled){e.questionEditorState.submitDisabled=!0;var n=e.questionEditorState.formError.ignoreWarnings(e.questionEditorState.body,e.questionEditorState.prevFormValue);e.questionEditorState.prevFormValue=e.questionEditorState.body,t.partial_update({courseId:e.question.course.id,id:e.question.id},{title:e.questionEditorState.title,body:e.questionEditorState.body,lecture:e.lectureId,ignore_warnings:n}).$promise.then(function(t){e.question.body=t.body,e.question.title=t.title,e.questionEditorState.isEditing=!1,e.questionEditorState.formError.reset()},function(t){e.questionEditorState.formError.processResponseError(t)})["finally"](function(){e.questionEditorState.submitDisabled=!1})}}function d(){e.loadingAnswers=!0,i.get({courseId:e.question.course.id,discussionId:e.question.id,"fields[course_discussion_reply]":"@all","fields[course_discussion]":"id,course,user","fields[course]":"id","fields[user]":"@min,image_50x50,url",page:v}).$promise.then(function(t){v++,e.hasMoreAnswers=!!t.next,e.answers=e.answers.concat(t.results),t.results.forEach(function(e){h(e)})})["finally"](function(){e.loadingAnswers=!1})}function h(t){e.answerEditorStates[t.id]=a["default"].copy(y),e.answerEditorStates[t.id].formError=new n,e.answerEditorStates[t.id].title=t.title,e.answerEditorStates[t.id].body=t.body}function p(t){e.answerFormVisible=!1,e.answers=[],e.question=t,e.questionEditorState=a["default"].copy(y),e.questionEditorState.title=e.question.title,e.questionEditorState.body=e.question.body,e.questionEditorState.formError=new n,v=1,t.replies?(e.answers=t.replies,t.replies.forEach(function(e){h(e),e.course_discussion=t})):e.loadAnswers()}function f(){e.questions&&e.questions.activeQuestion&&p(e.questions.activeQuestion)}function m(t){var n=1;t.is_top_answer?e.answers.forEach(function(e){e.id!==t.id&&e.is_top_answer&&(n=0,e.is_top_answer=!1)}):n=-1,e.$emit("topAnswerChange",{answer:t,answeredCountDelta:n})}function g(e){l.go("base.taking.lecture",{id:e.id},l.ANIMATION_TYPE.loading)}var v,y={title:"",body:"",initialize:!1,isEditing:!1,resetValue:!1,submitDisabled:!1,redactorTheme:"simple-image-link-source"};e.me=a["default"].copy(k["default"]),e.me.canEditCourse=s.canEditCourse,e.submitEditQuestion=u,e.markAsTopOnSuccess=m,e.answerEditorStates={},e.questions=r.questions,e.answers=[],e.loadAnswers=d,e.goToLecture=g,e.isInstructor=s.isInstructor,e.replyCreateEnabled=c(),e.supportUrl=_["default"].toSupportContact(),e.$on("editQuestion",function(){e.questionEditorState.initialize=!0,e.questionEditorState.isEditing=!0}),e.$on("editAnswer",function(t,n){e.answerEditorStates[n].initialize=!0,e.answerEditorStates[n].isEditing=!0}),e.cancelEdit=function(){e.questionEditorState.title=e.question.title,e.questionEditorState.body=e.question.body,e.questionEditorState.isEditing=!1},e.submitAddAnswer=function(t){e.question.num_replies+=1,e.answers.push(t),h(t),e.answerFormVisible=!1},e.submitEditAnswer=function(t){var n=e.answers[t],r=e.answerEditorStates[n.id];if(!r.submitDisabled){r.submitDisabled=!0;var s={courseId:n.course_discussion.course.id,discussionId:n.course_discussion.id,id:n.id},o={body:r.body,lecture:e.lectureId,ignore_warnings:r.formError.ignoreWarnings(r.body,r.prevFormValue)};r.prevFormValue=r.body,i.partial_update(s,o).$promise.then(function(n){e.answers[t].body=n.body,r.isEditing=!1,r.formError.reset()},function(e){r.formError.processResponseError(e)})["finally"](function(){r.submitDisabled=!1})}},e.onFocus=function(){e.answerFormVisible=!0,e.$emit("questionDetails.openAnswerTextArea",{question:e.question})},this.deleteAnswer=e.deleteAnswer=function(t){e.question.num_replies-=1,e.answers.splice(e.answers.indexOf(t),1)},e.questionPreload?p(e.questionPreload):f()}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),l=n(540),c=i(l),u=n(715),d=i(u),h=n(580),p=i(h),f=n(607),m=i(f),g=n(523),v=i(g),y=n(12),b=i(y),w=n(34),_=i(w);n(501);var C=n(16),k=i(C),A=n(708),E=i(A),S=n(732),x=i(S),T=n(733),F=i(T),$=n(734),D=i($),B=n(514),M=i(B),P=n(735),L=i(P),j=n(736),O=i(j),R=n(804),I=i(R),q=n(737),N=i(q),U=n(522),z=i(U),H=a["default"].module("apps.courseTakingV4.questionAnswer.questionDetailsDirective",[b["default"].name,c["default"].name,d["default"].name,v["default"].name,z["default"].name,M["default"].name,F["default"].name,D["default"].name,L["default"].name,x["default"].name,O["default"].name,N["default"].name,p["default"].name,m["default"].name,E["default"].name]).directive("questionDetails",r);r.$inject=["$timeout"],s.$inject=["$scope","CourseQuestion","FormError","QuestionReply","QuestionAnswer","ViewMode","CurrentCourse","AnimatedStateChangeService"],t["default"]=H},715:function(e,t,n){var i,r;i=[n(2),n(823)],r=function(e){function t(e,t){return{restrict:"A",priority:10,link:function(n,i,r){n.$watch(r.ngBindHtml,function(){var n=i.find(".prettyprint.linenums");n&&n.length>0&&(e(t.prettyPrint,parseInt(r.prettifyDelay,10)||0),r.prettifyStopPropagation&&r.prettifyStopPropagation.length>0&&n.click(function(e){e.stopPropagation()}))})}}}var n=e.module("directives.common.prettify",[]).directive("prettify",t);return t.$inject=["$timeout","$window"],n}.apply(t,i),!(void 0!==r&&(e.exports=r))},716:function(e,t,n){var i,r;i=[n(2)],r=function(e){function t(){this._propertyMap={fullscreen:["fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement"],fullscreenchange:["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"],requestFullscreen:["requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen"],exitFullscreen:["exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"]},this.getProperty=function(e,t){for(var n=null,i=0;i<this._propertyMap[t].length;i++)if(e[this._propertyMap[t][i]]){n=e[this._propertyMap[t][i]];break}return n},this.isSupported=function(){return!!this.getProperty(document.documentElement,"requestFullscreen")},this.isFullscreen=function(){return!!this.getProperty(document,"fullscreen")},this.requestFullscreen=function(e){return!!this.isSupported()&&this.getProperty(e,"requestFullscreen").call(e)},this.exitFullscreen=function(){return!!this.isSupported()&&this.getProperty(document,"exitFullscreen").call(document)},this.toggleFullscreen=function(e){this.isFullscreen()?this.exitFullscreen():this.requestFullscreen(e)}}var n=e.module("services.fullscreen",[]);return n.service("Fullscreen",t),n}.apply(t,i),!(void 0!==r&&(e.exports=r))},731:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return{restrict:"E",link:function(n,i){n.goToDashboard=function(){e.exitFullscreen(),t.go("base.dashboard.content")}},templateUrl:h["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s);n(509);var a=n(716),l=i(a),c=n(12),u=i(c),d=n(1230),h=i(d),p=o["default"].module("apps.courseTakingV4.lectureView.dashboardButtonDirective",["ui.router",u["default"].name,l["default"].name]).directive("dashboardButton",r);r.$inject=["Fullscreen","$state"],t["default"]=p},732:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return{require:"?^questionDetails",restrict:"E",scope:!0,link:function(i,r,s,o){function a(){return i.answer.user.id===w["default"].id}function l(){return i.answer.user.id===i.me.id||i.me.canEditCourse}function c(){return y["default"].features.report_abuse&&i.answer.user.id!==w["default"].id}i.editAnswerButtonEnabled=a(),i.deleteAnswerButtonEnabled=l(),i.reportAbuseButtonEnabled=c(),i.showMenu=i.editAnswerButtonEnabled||i.deleteAnswerButtonEnabled||i.reportAbuseButtonEnabled,i.editAnswer=function(e){e&&e.preventDefault(),i.$emit("editAnswer",i.answer.id)},i.deleteAnswer=function(){var r={courseId:i.answer.course_discussion.course.id,discussionId:i.answer.course_discussion.id,id:i.answer.id},s=n.getString("Are you sure you want to delete your reply?");e(s).then(function(){t["delete"](r).$promise.then(function(e){o&&o.deleteAnswer(i.answer)})})}},templateUrl:C["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s);n(24);var a=n(508),l=i(a),c=n(511),u=i(c),d=n(523),h=i(d),p=n(12),f=i(p),m=n(46),g=i(m),v=n(14),y=i(v),b=n(16),w=i(b),_=n(799),C=i(_),k=o["default"].module("apps.courseTakingV4.questionAnswer.answerActionMenu",[u["default"].name,f["default"].name,g["default"].name,h["default"].name,l["default"].name]).directive("answerActionMenu",r);r.$inject=["udConfirm","QuestionReply","gettextCatalog"],t["default"]=k},733:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"E",scope:{question:"=",onSubmit:"&"},controller:s,templateUrl:v["default"]}}function s(e,t,n,i){e.editorState={formError:new i,initialize:!0,resetValue:!1,submitDisabled:!1,redactorTheme:"simple-image-link",body:""},e.submitForm=function(){if(!e.editorState.submitDisabled){e.editorState.submitDisabled=!0,e.editorState.resetValue=!1;var i=e.editorState.formError.ignoreWarnings(e.editorState.body,e.editorState.prevFormValue);e.editorState.prevFormValue=e.editorState.body;var r={body:e.editorState.body,ignore_warnings:i};t.save({courseId:e.question.course.id,discussionId:e.question.id,"fields[course_discussion_reply]":"@all","fields[course_discussion]":"id,course,user","fields[course]":"id","fields[user]":"@min,image_50x50,url"},r).$promise.then(function(t){e.question.is_following||n.followQuestion(e.question),e.onSubmit({answer:t}),e.editorState.resetValue=!0,e.editorState.formError.reset(),e.editorState.body=""},function(t){e.editorState.formError.processResponseError(t)})["finally"](function(){e.editorState.submitDisabled=!1})}}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),l=n(540),c=i(l),u=n(529),d=i(u),h=n(523),p=i(h),f=n(12),m=i(f),g=n(800),v=i(g),y=a["default"].module("apps.courseTakingV4.questionAnswer.answerFormDirective",[m["default"].name,p["default"].name,c["default"].name,d["default"].name]).directive("answerForm",r);s.$inject=["$scope","QuestionReply","QuestionAnswer","FormError"],t["default"]=y},734:function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{replace:!0,restrict:"E",scope:{question:"=",disable:"=",answer:"=",shortView:"="},controller:s,templateUrl:v["default"]}}function s(t,n,i){function r(){var e="";return t.userIsAnswerer?t.answer.num_upvotes>0&&(e=i.getString("Helpful")):e=a.is_upvoted?t.shortView?i.getString("Unmark as helpful"):i.getString("Marked as helpful"):i.getString("Mark as helpful"),e+(a.num_upvotes>0&&!t.shortView?" ("+t.answer.num_upvotes+")":"")}function s(){a.is_upvoted=!0,a.num_upvotes+=1}function o(){a.is_upvoted=!1,a.num_upvotes-=1}var a=t.answer,l={courseId:t.question.course.id,discussionId:t.question.id,id:t.answer.id};t.userIsAnswerer=a.user.id===m["default"].id,t.getTextLabel=r,t.toggleUpvote=function(i){var r="";t.disable||t.userIsAnswerer||(a.is_upvoted?(l.userId=m["default"].id,n["delete"](l,null).$promise.then(o),r=e(i.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.un-mark-helpful":"dashboard.tab.detail-view.un-mark-helpful",p["default"].track("coursetaking","question",r,null,null,null,{objectType:"question",objectId:t.question.id})):(l.userId=null,n.save(l,null).$promise.then(s),r=e(i.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.mark-helpful":"dashboard.tab.detail-view.mark-helpful",p["default"].track("coursetaking","question",r,null,null,null,{objectType:"question",objectId:t.question.id})))}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),l=n(523),c=i(l),u=n(12),d=i(u),h=n(501),p=i(h),f=n(16),m=i(f),g=n(801),v=i(g),y=a["default"].module("apps.courseTakingV4.questionAnswer.answerUpvoteDirective",[d["default"].name,c["default"].name]).directive("answerUpvote",r);s.$inject=["$scope","AnswerUpvote","gettextCatalog"],t["default"]=y}).call(t,n(3))},735:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{replace:!0,restrict:"E",scope:{answer:"=",me:"=",disable:"=",onSuccess:"&?"},controller:s,templateUrl:p["default"]}}function s(e,t){function n(){return e.answer.course_discussion.user.id===e.me.id||!!e.me.canEditCourse}function i(){if(!e.disable&&!e.isMarkAsHelpfulSubmitting){e.isMarkAsHelpfulSubmitting=!0;var n={courseId:e.answer.course_discussion.course.id,discussionId:e.answer.course_discussion.id,id:e.answer.id},i={is_top_answer:!e.answer.is_top_answer||null};t.partial_update(n,i).$promise.then(function(){e.answer.is_top_answer=i.is_top_answer,e.onSuccess()})["finally"](function(){e.isMarkAsHelpfulSubmitting=!1})}}e.canUserMarkAnswerAsHelpful=n,e.toggleMarkAsHelpful=i}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),l=n(523),c=i(l),u=n(12),d=i(u),h=n(802),p=i(h),f=a["default"].module("apps.courseTakingV4.questionAnswer.markAsTopAnswer",[d["default"].name,c["default"].name]).directive("markAsTopAnswer",r);s.$inject=["$scope","QuestionReply"],t["default"]=f},736:function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(t,n,i,r){return{require:"?^questionDetails",restrict:"E",scope:{showNewTab:"=",onDelete:"=",question:"=",instructorView:"=",me:"="},link:function(s,a,l){function c(e,t){s.editQuestionButtonEnabled=u(),s.deleteQuestionButtonEnabled=d(),s.reportAbuseButtonEnabled=h(),s.showMenu=s.editQuestionButtonEnabled||s.deleteQuestionButtonEnabled||s.reportAbuseButtonEnabled}function u(){return s.question&&s.question.user.id===s.me.id}function d(){return s.question&&(s.question.user.id===s.me.id||s.me.canEditCourse)}function h(){return g["default"].features.report_abuse&&s.question&&s.question.user.id!==w["default"].id}s.$watch("question",c),s.editQuestion=function(t){var n="";n=e(t.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.edit-question":"dashboard.tab.detail-view.edit-question",y["default"].track("coursetaking","question",n,null,null,null,{objectType:"question",objectId:s.question.id}),s.$emit("editQuestion")},s.deleteQuestion=function(n){var o="";o=e(n.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.delete-question":"dashboard.tab.detail-view.delete-question";var a=i.getString("Are you sure you want to delete your question?");r(a).then(function(){y["default"].track("coursetaking","question",o,null,null,null,{objectType:"question",objectId:s.question.id}),t.deleteQuestion(s.question).then(function(){s.onDelete(s.question)})})},s.toogleReadQuestion=function(e){o["default"].element(e.target).data("denyClickRead",!0);var t=!s.question.is_read;y["default"].track("question","instructor-dashboard.tab.questions.mark-as-read",null,null,{location:"instructor.dashboard.tab",value:t},{objectType:"question",objectId:s.question.id}),s.question.is_read=t,
s.$emit("questionReadStatusChanged",t),n.partial_update({courseId:s.question.course.id,id:s.question.id},{is_read:t}).$promise["catch"](function(){s.question.is_read=!t,s.$emit("questionReadStatusChanged",!t)})}},templateUrl:A["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s);n(24);var a=n(508),l=i(a),c=n(511),u=i(c),d=n(523),h=i(d),p=n(12),f=i(p),m=n(14),g=i(m),v=n(501),y=i(v),b=n(16),w=i(b),_=n(543),C=i(_),k=n(803),A=i(k),E=o["default"].module("apps.courseTakingV4.questionAnswer.questionActionMenu",[f["default"].name,C["default"].name,h["default"].name,l["default"].name,u["default"].name]).directive("questionActionMenu",r,"gettextCatalog");r.$inject=["QuestionAnswer","CourseQuestion","gettextCatalog","udConfirm"],t["default"]=E}).call(t,n(3))},737:function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"E",scope:{disable:"=",question:"=",menuItem:"@"},controller:s,templateUrl:v["default"]}}function s(t,n){function i(i){var r="";t.question.is_following?(n.unfollowQuestion(t.question,p["default"].id),r=e(i.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.unfollow":"dashboard.tab.detail-view.unfollow",d["default"].track("coursetaking","question",r,null,null,null,{objectType:"question",objectId:t.question.id})):(n.followQuestion(t.question),r=e(i.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.follow":"dashboard.tab.detail-view.follow",d["default"].track("coursetaking","question",r,null,null,null,{objectType:"question",objectId:t.question.id}))}t.toggleFollow=i}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),l=n(12),c=i(l),u=n(501),d=i(u),h=n(16),p=i(h),f=n(543),m=i(f),g=n(805),v=i(g),y=a["default"].module("apps.courseTakingV4.questionAnswer",[c["default"].name,m["default"].name]).directive("questionFollow",r);s.$inject=["$scope","QuestionAnswer"],t["default"]=y}).call(t,n(3))},738:function(e,t,n){var i,r;i=[n(2),n(847)],r=function(e,t){function n(t,n,i,r){this.courseId=null,this.quizId=null,this.initQuiz=function(e,t){this.courseId=e,this.quizId=t},this.getLatestCodingExerciseAnswer=function(e){return r.get({courseId:this.courseId,attemptId:e})},this.getLatestAttempt=function(){return t.get({courseId:this.courseId,quizId:this.quizId,attemptId:"latest","fields[user_attempted_quiz]":"@default,completed_assessments"}).$promise.then(function(e){return e},function(){return null})},this.getAttemptStats=function(e){return t.get({courseId:this.courseId,quizId:this.quizId,attemptId:e,action:"stats"})},this.createNewAttempt=function(){return t.save({courseId:this.courseId,quizId:this.quizId},{})},this.loadQuestions=function(){return n.get({quizId:this.quizId,page_size:250,"fields[assessment]":"@all"}).$promise.then(function(t){return t=t.results,e.forEach(t,function(t,n){if(t.questionIndex=n+1,t.attempts=0,t.prompt.question=t.prompt.question.trim(),t.answers=[],"multiple-choice"==t.assessment_type){var i="a".charCodeAt(0);e.forEach(t.prompt.answers,function(e,n){var r=String.fromCharCode(i+n),s="";t.prompt.feedbacks&&t.prompt.feedbacks.length==t.prompt.answers.length&&(s=t.prompt.feedbacks[n]),t.answers.push({id:r,text:e,feedback:s,correct:r==t.correct_response[0]})})}else"fill-in-the-blanks"==t.assessment_type&&e.forEach(t.correct_response,function(e){t.answers.push({fill:"",correct:e})})}),t})},this.answerQuestion=function(e,t,n,r){return i.save({courseId:this.courseId,attemptId:e},{assessment_id:t,duration:r,response:JSON.stringify(n)})},this.saveCodingExercise=function(e,t,n,i){return r.save({courseId:this.courseId,attemptId:e},{assessment_id:t,response:n,pusher_channel:i.pusherChannel,check_solution_id:i.checkSolutionId})}}return e.module("apps.courseTakingV4.quizView.assessmentService",[t.name]).service("assessmentService",["AttemptedQuiz","Question","Answer","CodingExerciseAnswer",n])}.apply(t,i),!(void 0!==r&&(e.exports=r))},739:function(e,t,n){var i,r;i=[n(2),n(703),n(702),n(14),n(169)],r=function(e,t,n,i,r){function s(e,n){var s=function(){var s=this;s.solutionPassed=!1,s.checkSolutionError=!1,s.checkSolutionOutput={},s.checkSolutionWaiting=!1;var o,a=0,l=[],c=12e3,u={},d=new t(i.third_party.pusher.key,{}),h=i.third_party.pusher.coding_exercise_event,p=Math.floor(Math.random()*Math.pow(10,12)+(new Date).getTime()).toString();e(d).subscribe(p).bind(h,function(e){if(l.indexOf(e.checkSolutionId)===-1){var t=e.output.evaluator_logs||e.output.compile_logs,i=e.output.user_logs;s.solutionPassed=e.success,s.checkSolutionError=!1,s.checkSolutionWaiting=!1,s.checkSolutionOutput={evaluatorFeedback:t,userOutput:i},n.cancel(o),(u[e.checkSolutionId]||function(){})(e.success,t,i)}}),s.evaluate=function(e){if(!s.checkSolutionWaiting){var t={checkSolutionId:++a,pusherChannel:p},i=function(t){"timeout"===t?r.increment("quiz.coding_exercise.frontend.evaluate.timeout"):r.increment("quiz.coding_exercise.frontend.evaluate.error"),l.push(a),s.checkSolutionError=!0,s.checkSolutionWaiting=!1,s.checkSolutionOutput={},(e.error||function(){})(t)};s.checkSolutionWaiting=!0,n.cancel(o),o=n(i.bind(null,"timeout"),c),u[a]=e.success,r.increment("quiz.coding_exercise.frontend.evaluate.start"),e.request(t).then(function(){},i)}},s.destroy=function(){e(d).disconnect(),n.cancel(o)}};return function(){return new s}}var o=e.module("apps.courseTakingV4.quizView.pusherService",["pusher-angular"]).service("CodingExerciseEvaluatorService",s);return s.$inject=["$pusher","$timeout"],o}.apply(t,i),!(void 0!==r&&(e.exports=r))},740:function(e,t,n){var i,r;i=[n(2),n(182)],r=function(e,t){function n(e){this.quizId=null,this.initQuiz=function(e){this.quizId=e},this.clickedShowAnswer=function(t,n){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,assessment:n,log_action:"showed-answer"})},this.skippedQuestion=function(t,n){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,assessment:n,log_action:"skipped-question"})},this.seenRelatedLecture=function(t,n){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,assessment:n,log_action:"seen-related-lecture"})},this.seenResultPage=function(t){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,log_action:"viewed-result-page"})},this.startedQuizAttempt=function(t,n){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,num_questions:n,log_action:"started-quiz-attempt"})},this.answeredQuestion=function(t,n,i,r){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,question_id:n,answer:i,duration:r,log_action:"answered-question"})}}return e.module("apps.courseTakingV4.quizView.quizTrackingService",[t.name]).service("quizTrackingService",["PageEvent",n])}.apply(t,i),!(void 0!==r&&(e.exports=r))},741:function(e,t,n){var i,r;i=[n(2),n(840),n(650)],r=function(e,t,n){var i=e.module("apps.courseTakingV4.userActivityCheck",[t.name,n.name]);return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},742:function(e,t,n){var i,r;i=[n(2),n(83),n(3),n(11)],r=function(e,t,n,i){var r={curriculumItemDownIn:{defaultDuration:800,calls:[[{translateY:"100%",opacity:"1"},.05,{easing:"linear"}],[{translateY:"0%"},.95,{easing:"linear"}]]},curriculumItemUpOut:{defaultDuration:800,calls:[[{translateY:"0%"},.05,{easing:"linear"}],[{translateY:"-100%"},.95,{easing:"linear"}]]},curriculumItemUpIn:{defaultDuration:800,calls:[[{translateY:"-100%",opacity:"1"},.05,{easing:"linear"}],[{translateY:"0%"},.95,{easing:"linear"}]]},curriculumItemDownOut:{defaultDuration:800,calls:[[{translateY:"0%"},.05,{easing:"linear"}],[{translateY:"100%"},.95,{easing:"linear"}]]}};return i(r).each(function(e,t){var i=n.Velocity||window.$.Velocity||window.Velocity;i.RegisterEffect.packagedEffects["transition."+t]=e,i.RegisterEffect("transition."+t,i.RegisterEffect.packagedEffects["transition."+t])}),e.module("apps.courseTakingV4.velocityAnimations",["angular-velocity"])}.apply(t,i),!(void 0!==r&&(e.exports=r))},761:function(e,t,n){var i,r;i=[n(2),n(175),n(16)],r=function(e,t,n){return e.module("services.activity",[t.name]).factory("Activity",["$http","UserCourseSettings",function(t,i){var r=function(t){e.extend(this,t)};return r.defaultParams={"fields[user]":"url,image_50x50,title,job_title","fields[course]":"id","fields[actstream_action]":"@default,timestamp,num_likes,is_liked,num_follows,is_following,comments,url","fields[course_discussion]":"@default,user,lecture,num_replies","fields[activity_comment]":"@default,-action","fields[lecture]":"@min,object_index,url"},r.getAll=function(n,i){var r={};return i&&i.length&&(r.id_in=i.join(",")),t({url:"/api-2.0/courses/"+n+"/activities",method:"GET",params:e.extend({},this.defaultParams,r)})},r.get=function(n,i){var r={};return t({url:"/api-2.0/courses/"+n+"/activities/"+i,method:"GET",params:e.extend({},this.defaultParams,r)})},r.getAnnouncements=function(n,i,r){var s={action_object_object_type:"course_announcement"};return i&&(s.timestamp__lt=i),r&&(s.timestamp__gt=r),t({url:"/api-2.0/courses/"+n+"/activities",method:"GET",params:e.extend({},this.defaultParams,s)})},r.disableWelcomeMessageForCourse=function(e){return i.save({course_id:e},{setting:"welcomeMessageVisible",value:"off"})},r.getDiscussions=function(n,i,r){var s={action_object_object_type:"course_discussion"};return i&&(s.timestamp__lt=i),r&&(s.timestamp__gt=r),t({url:"/api-2.0/courses/"+n+"/activities",method:"GET",params:e.extend({},this.defaultParams,s)})},r.getLectureDiscussions=function(n,i,r){var s={action_object_object_type:"course_discussion"};return n&&(s.timestamp__lt=n),i&&(s.timestamp__gt=i),t({url:"/api-2.0/lectures/"+r+"/activities",method:"GET",params:e.extend({},this.defaultParams,s)})},r.deleteActivity=function(e){return t({url:"/api-2.0/courses/"+e.target.id+"/activities/"+e.id,method:"DELETE"})},r.createComment=function(e,n,i){return t({url:"/api-2.0/courses/"+e+"/activities/"+n+"/comments",method:"POST",params:{"fields[activity_comment]":"@default,-action","fields[user]":"url,image_50x50,title"},data:{body:i}})},r.updateComment=function(e,n,i,r){return t({url:"/api-2.0/courses/"+e+"/activities/"+n+"/comments/"+i,method:"PUT",params:{"fields[activity_comment]":"@default,-action","fields[user]":"url,image_50x50,title"},data:{body:r}})},r.deleteComment=function(e,n,i){return t({url:"/api-2.0/courses/"+e+"/activities/"+n+"/comments/"+i,method:"DELETE"})},r.likeActivity=function(e){return t({url:"/api-2.0/courses/"+e.target.id+"/activities/"+e.id+"/likers",method:"POST"})},r.unlikeActivity=function(e){return t({url:"/api-2.0/courses/"+e.target.id+"/activities/"+e.id+"/likers/"+n.id,method:"DELETE"})},r.followActivity=function(e){return t({url:"/api-2.0/courses/"+e.target.id+"/activities/"+e.id+"/followers",method:"POST"})},r.unfollowActivity=function(e){return t({url:"/api-2.0/courses/"+e.target.id+"/activities/"+e.id+"/followers/"+n.id,method:"DELETE"})},r}])}.apply(t,i),!(void 0!==r&&(e.exports=r))},790:function(e,t,n){(function(t){n(552);t.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(e){if(t.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var n=function(e,n,i){if(t.isDefined(i.workerPath)){var r=window.ace.require("ace/config");r.set("workerPath",i.workerPath)}t.isDefined(i.require)&&i.require.forEach(function(e){window.ace.require(e)}),t.isDefined(i.showGutter)&&e.renderer.setShowGutter(i.showGutter),t.isDefined(i.useWrapMode)&&n.setUseWrapMode(i.useWrapMode),t.isDefined(i.showInvisibles)&&e.renderer.setShowInvisibles(i.showInvisibles),t.isDefined(i.showIndentGuides)&&e.renderer.setDisplayIndentGuides(i.showIndentGuides),t.isDefined(i.useSoftTabs)&&n.setUseSoftTabs(i.useSoftTabs),t.isDefined(i.showPrintMargin)&&e.setShowPrintMargin(i.showPrintMargin),t.isDefined(i.disableSearch)&&i.disableSearch&&e.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}]),t.isString(i.theme)&&e.setTheme("ace/theme/"+i.theme),t.isString(i.mode)&&n.setMode("ace/mode/"+i.mode),t.isDefined(i.firstLineNumber)&&(t.isNumber(i.firstLineNumber)?n.setOption("firstLineNumber",i.firstLineNumber):t.isFunction(i.firstLineNumber)&&n.setOption("firstLineNumber",i.firstLineNumber()));var s,o;if(t.isDefined(i.advanced))for(s in i.advanced)o={name:s,value:i.advanced[s]},e.setOption(o.name,o.value);if(t.isDefined(i.rendererOptions))for(s in i.rendererOptions)o={name:s,value:i.rendererOptions[s]},e.renderer.setOption(o.name,o.value);t.forEach(i.callbacks,function(n){t.isFunction(n)&&n(e)})};return{restrict:"EA",require:"?ngModel",link:function(i,r,s,o){var a,l,c=e.ace||{},u=t.extend({},c,i.$eval(s.uiAce)),d=window.ace.edit(r[0]),h=d.getSession(),p=function(){var e=arguments[0],n=Array.prototype.slice.call(arguments,1);t.isDefined(e)&&i.$evalAsync(function(){if(!t.isFunction(e))throw new Error("ui-ace use a function as callback.");e(n)})},f={onChange:function(e){return function(t){var n=h.getValue();!o||n===o.$viewValue||i.$$phase||i.$root.$$phase||i.$evalAsync(function(){o.$setViewValue(n)}),p(e,t,d)}},onBlur:function(e){return function(){p(e,d)}}};s.$observe("readonly",function(e){d.setReadOnly(!!e||""===e)}),o&&(o.$formatters.push(function(e){if(t.isUndefined(e)||null===e)return"";if(t.isObject(e)||t.isArray(e))throw new Error("ui-ace cannot use an object or an array as a model");return e}),o.$render=function(){h.setValue(o.$viewValue)});var m=function(e,r){e!==r&&(u=t.extend({},c,i.$eval(s.uiAce)),u.callbacks=[u.onLoad],u.onLoad!==c.onLoad&&u.callbacks.unshift(c.onLoad),h.removeListener("change",a),a=f.onChange(u.onChange),h.on("change",a),d.removeListener("blur",l),l=f.onBlur(u.onBlur),d.on("blur",l),n(d,h,u))};i.$watch(s.uiAce,m,!0),m(c),r.on("$destroy",function(){d.session.$stopWorker(),d.destroy()}),i.$watch(function(){return[r[0].offsetWidth,r[0].offsetHeight]},function(){d.resize(),d.renderer.updateFull()},!0)}}}]),e.exports=window.ace}).call(t,n(2))},799:function(e,t){var n="/ng/apps/course-taking-v4/question-answer/answer-action-menu-directive.ng-template.html",i='<div class="dropdown answer-action-menu" ng-if=showMenu> <button class="btn btn-tertiary btn-xs" id="answerActionMenu{{ answer.id }}" type=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <i class="fa fa-ellipsis-v"></i> </button> <ul class="dropdown-menu dropdown-menu-right a11" role=menu aria-labelledby="answerActionMenu{{ answer.id }}"> <li role=presentation ng-if=editAnswerButtonEnabled> <a ng-click=editAnswer($event) role=menuitem tabindex=-1 href=javascript:void(0)> <span translate>Edit</span> </a> </li> <li role=presentation ng-if=deleteAnswerButtonEnabled> <a role=menuitem tabindex=-1 href=javascript:void(0) ng-click=deleteAnswer()> <span translate>Delete</span> </a> </li> <li role=presentation class=report-abuse-button ng-if=reportAbuseButtonEnabled> <a role=menuitem tabindex=-1 href=javascript:void(0) ng-click="showReportAbusePopup=true"> <report-abuse show-popup=showReportAbusePopup show-tooltip=false object-type=coursediscussionreply object-id=answer.id style=margin-top:-5px></report-abuse> <span translate>Report abuse</span> </a> </li> </ul> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},800:function(e,t){var n="/ng/apps/course-taking-v4/question-answer/answer-form-directive.ng-template.html",i='<form-alert ng-if=editorState.formError.getMessage() error=editorState.formError.getCurrent() class="mb5 p10"></form-alert> <ud-wysiwyg request-editor-init=editorState.initialize request-reset-value=editorState.resetValue placeholder-text="{{\'Write your response\' | translate}}" redactor-theme={{editorState.redactorTheme}} editor-value=editorState.body></ud-wysiwyg> <div class=submit-row> <button type=submit class="btn btn-sm btn-success" ng-disabled=editorState.submitDisabled ng-click=submitForm()> <span ng-show="editorState.formError.getType() === \'warning\'" translate> Proceed </span> <span ng-show="editorState.formError.getType() !== \'warning\'" translate> Add an answer </span> </button> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},801:function(e,t){var n="/ng/apps/course-taking-v4/question-answer/answer-upvote-directive.ng-template.html",i="<a class=upvote ng-class=\"{'upvoted': answer.is_upvoted, 'not-upvoted': !answer.is_upvoted, 'owner': userIsAnswerer, 'disabled': disable}\" href=javascript:void(0) ng-click=toggleUpvote($event) ng-show=\"!userIsAnswerer || answer.num_upvotes > 0\"> <span translate>{{ getTextLabel() }}</span> </a>";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},802:function(e,t){var n="/ng/apps/course-taking-v4/question-answer/mark-as-top-answer.ng-template.html",i="<a href=javascript:void(0) ng-show=canUserMarkAnswerAsHelpful() ng-class=\"{'disabled':disable }\" ng-click=toggleMarkAsHelpful() ng-disable=isMarkAsHelpfulSubmitting> <span ng-if=!answer.is_top_answer translate> Mark as top answer </span> <span ng-if=answer.is_top_answer translate> Unmark as top answer </span> </a>";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},803:function(e,t){var n="/ng/apps/course-taking-v4/question-answer/question-action-menu-directive.ng-template.html",i='<div class="dropdown question-action-menu" ng-if=showMenu> <button class="btn btn-tertiary btn-xs" data-deny-click-read=true id="questionActionMenu{{ question.id }}" type=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <i data-deny-click-read=true class="fa fa-ellipsis-v"></i> </button> <ul class="dropdown-menu dropdown-menu-right a11" role=menu aria-labelledby="questionActionMenu{{ question.id }}"> <li role=presentation ng-if=showNewTab> <a role=menuitem tabindex=-1 target=_blank ui-sref="base.dashboard.question-details({id: question.id })" translate> Open in new tab </a> </li> <li role=presentation ng-if=instructorView> <a role=menuitem data-deny-click-read=true tabindex=-1 href=javascript:void(0) ng-click=toogleReadQuestion($event)> <span translate ng-show=question.is_read> Mark as unread</span> <span translate ng-show=!question.is_read>Mark as read</span> </a> </li> <li role=presentation ng-if=instructorView> <question-follow class=question-follow menu-item=true disable=readOnly ng-if=instructorView ng-show=!questionEditorState.isEditing question=question></question-follow> </li> <li role=presentation ng-if=editQuestionButtonEnabled> <a role=menuitem ng-click=editQuestion($event) tabindex=-1 href=javascript:void(0)> <span translate>Edit</span> </a> </li> <li role=presentation ng-if=deleteQuestionButtonEnabled> <a role=menuitem tabindex=-1 href=javascript:void(0) ng-click=deleteQuestion($event)> <span translate>Delete</span> </a> </li> <li role=presentation class=report-abuse-button ng-if=reportAbuseButtonEnabled> <a role=menuitem tabindex=-1 href=javascript:void(0) ng-click="showReportAbusePopup=true"> <report-abuse show-popup=showReportAbusePopup show-tooltip=false object-type=coursediscussion object-id=question.id style=margin-top:-5px></report-abuse> <span translate>Report abuse</span> </a> </li> </ul> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},804:function(e,t){var n="/ng/apps/course-taking-v4/question-answer/question-details-directive.ng-template.html",i='<div class=question-details ng-cloak><div class="original-question fx fx-lt"> <img ng-src="{{ question.user.image_50x50 }}" ng-class="{\'img-circle\':!question.is_instructor}"/> <div class="question__info a11 fx"> <question-action-menu show-new-tab=showNewTab instructor-view=instructorView on-delete=onDelete question=question me=me class="dib fr"></question-action-menu> <div ng-if=!instructorView ng-show=!questionEditorState.isEditing class="a10 bold">{{ question.title }}</div> <a ng-href="{{ question.user.url }}" target=_blank>{{ question.user.name }}</a> <div ng-if=instructorView> <i translate translate-comment="date that the user posted the question for the first time" ng-if="!question.last_activity || question.last_activity === question.created">Posted {{ question.created | fromNow }}</i> <i translate translate-comment="last time the user updated the question" ng-if="question.last_activity && question.last_activity !== question.created">Updated {{ question.last_activity | fromNow }}</i> </div> <div ng-if=instructorView ng-show=!questionEditorState.isEditing class="question__title a10 bold mt5 mb5">{{ question.title }}</div> <a ng-if=question.lecture.object_index ui-sref="base.taking.lecture({id: question.lecture.id})" ng-click=goToLecture(question.lecture) translate> &middot; Lecture {{ question.lecture.object_index }} </a> <a ng-if=question.quiz.object_index ui-sref="base.taking.quiz({id: question.quiz.id})" translate> &middot; Quiz {{ question.quiz.object_index }} </a> <span ng-if=!instructorView> &middot; {{ question.created | fromNow }} </span> <input ng-model=questionEditorState.title ng-if=questionEditorState.isEditing type=text class="form-control input-sm mb15 mt10" placeholder="{{\'Edit your question title here.\' | translate}}"> <div ng-if=!instructorView ng-show=!questionEditorState.isEditing class=question__body ng-bind-html="question.body | openBlankTarget" prettify> </div> <view-more ng-if=instructorView ng-show=!questionEditorState.isEditing class=question__body text="question.body | openBlankTarget" prettify filter-html=true not-isolate=true style=""></view-more> <div class="question__editor mt15" ng-show=questionEditorState.isEditing ng-cloak> <form-alert ng-if=questionEditorState.formError.getMessage() error=questionEditorState.formError.getCurrent() class="mb5 p10"></form-alert> <ud-wysiwyg request-editor-init=questionEditorState.initialize request-reset-value=questionEditorState.resetValue placeholder-text="{{\'Edit your question here.\' | translate}}" editor-value=questionEditorState.body redactor-theme={{questionEditorState.redactorTheme}}> </ud-wysiwyg> <button ng-click=submitEditQuestion() ng-disabled=questionEditorState.submitDisabled class="btn btn-sm btn-primary" type=button> <span ng-show="questionEditorState.formError.getType() === \'warning\'" translate> Proceed </span> <span ng-show="questionEditorState.formError.getType() !== \'warning\'" translate> Save </span> </button> <button ng-click=cancelEdit() class="btn btn-sm btn-tertiary" type=button translate>Cancel</button> </div> <question-follow disable=readOnly ng-if=!instructorView ng-show=!questionEditorState.isEditing question=question></question-follow> </div> </div> <div class=answer-list> <div class=answers> <div class="answer fx fx-lt" ng-repeat="answer in answers" ng-class="{\'top-answer\': answer.is_top_answer}"> <img ng-class="{\'img-circle\':!answer.is_instructor}" ng-src="{{ answer.user.image_50x50 }}"/> <div class="answer__info fx"> <answer-action-menu class="dib fr"></answer-action-menu> <a ng-href="{{ answer.user.url }}" target=_blank>{{ answer.user.name }}</a> <span class=instructor-tag ng-show=answer.is_instructor translate> &mdash; Instructor </span> <small> &middot; {{ answer.created | fromNow }} </small> <span class=top-answer-badge ng-if=answer.is_top_answer> <i class="fa fa-star"></i> <span translate>Answer</span> </span> <br/> <span ng-if=instructorView class=mb10> <i translate translate-comment="date that the user posted the answer for the first time" ng-if="!answer.last_activity || answer.last_activity === answer.created">Posted {{ answer.created | fromNow }}</i> <i translate translate-comment="last time the user updated the answer" ng-if="answer.last_activity && answer.last_activity !== answer.created">Updated {{ answer.last_activity | fromNow }}</i> </span> <div ng-if="answer.user.id === me.id" class="answer__editor mt15" ng-show=answerEditorStates[answer.id].isEditing> <form-alert ng-if=answerEditorStates[answer.id].formError.getMessage() error=answerEditorStates[answer.id].formError.getCurrent() class="mb5 p10"></form-alert> <ud-wysiwyg request-editor-init=answerEditorStates[answer.id].initialize request-reset-value=answerEditorStates[answer.id].resetValue placeholder-text="{{\'Edit your question here.\' | translate}}" editor-value=answerEditorStates[answer.id].body redactor-theme={{answerEditorStates[answer.id].redactorTheme}}> </ud-wysiwyg> <button ng-click=submitEditAnswer($index) ng-disabled=answerEditorStates[answer.id].submitDisabled class="btn btn-sm btn-primary" type=button> <span ng-show="answerEditorStates[answer.id].formError.getType() === \'warning\'" translate> Proceed </span> <span ng-show="answerEditorStates[answer.id].formError.getType() !== \'warning\'" translate> Save </span> </button> <button ng-click="answerEditorStates[answer.id].isEditing = false" class="btn btn-sm btn-tertiary" type=button translate>Cancel</button> </div> <div ng-if=!instructorView ng-show=!answerEditorStates[answer.id].isEditing class="answer__body a11" ng-bind-html="answer.body | openBlankTarget" prettify> </div> <view-more ng-if=instructorView ng-show=!answerEditorStates[answer.id].isEditing class="answer__body a11" text="answer.body | openBlankTarget" prettify filter-html=true not-isolate=true style=""></view-more> <div class="answer__actions a11"> <answer-upvote disable=readOnly class=mr10 question=question answer=answer></answer-upvote> <mark-as-top-answer answer=answer me=me on-success=markAsTopOnSuccess(answer)></mark-as-top-answer> </div> </div> </div> </div> <div class="fx-c mb10"> <button class="btn btn-primary" ng-click=loadAnswers() ng-disabled=loadingAnswers ng-show=hasMoreAnswers translate>Load more answers</button> </div> <div class=add-answer> <div ng-if="isInstructor && !replyCreateEnabled" class="alert alert-danger"> <h3><i class="fa fa-exclamation-triangle"></i><span translate>Trust &amp; Safety Alert</span></h3> <p translate> Your access to the Q&amp;A replying feature is temporarily suspended. Please contact <a ng-href="{{ supportUrl }}">support</a> for more information. </p> </div> <div ng-if="!isInstructor || replyCreateEnabled"> <div ng-show=!answerFormVisible ng-click="answerFormVisible = !readOnly" class="fx fx-lc"> <img ng-class="{\'img-circle\':!isInstructor}" ng-src="{{ me.image_50x50 }}"/> <input class="ml15 form-control" placeholder="{{\'Add an answer\' | translate}}" ng-focus=onFocus() ng-disabled=readOnly> </div> <answer-form class=answer-form ng-class="{\'visible\': answerFormVisible}" ng-animate-disabled question=question on-submit=submitAddAnswer(answer)></answer-form> </div> </div> </div></div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},805:function(e,t){var n="/ng/apps/course-taking-v4/question-answer/question-follow-directive.ng-template.html",i='<button type=button class="btn btn-secondary" ng-if="!menuItem && question" ng-disabled=disable ng-class="{\'question-following\': question.is_following}" ng-click=toggleFollow($event)> <span translate class=text-medium-grey ng-if=!question.is_following> Follow Responses </span> <span translate class="text-link-blue bold" ng-if=question.is_following> Following Responses </span> </button> <a href=javascript:void(0) ng-if="menuItem && question" ng-disabled=disable ng-click=toggleFollow($event)> <span translate ng-if=!question.is_following> Follow responses </span> <span translate ng-if=question.is_following> Unfollow responses </span> </a>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},806:function(e,t){var n="/ng/apps/my-courses/views/discovery-units.ng-template.html",i='<courses-list ng-repeat="unit in recommendationUnits" card-width=235 action="{{ unit.action }}" source=unit.source exclude=unit.exclude title="{{ unit.title }}" tracking-context="{{ unit.trackingContext }}" tracking-subcontext="{{ unit.trackingSubcontext }}" source-page="{{ unit.sourcePage }}" after-load=unit.afterLoad() type=recommendations> </courses-list>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},813:function(e,t){var n="/ng/directives/common/view-more.ng-template.html",i='<div ng-if=filterHtml class="view-more view-more--{{style}}"> <div ng-bind-html=text class=view-more__text></div> <div ng-transclude></div> </div> <div ng-if=!filterHtml class="view-more view-more--{{style}}"> <div ng-bind-html=text class=view-more__text>{{ text }}</div> <div ng-transclude></div> </div> <div ng-if=showToggle> <a href class=view-more__button ng-click=showMore($event) ng-show=isCollapsed translate>Show more</a> <a href class=view-more__button ng-click=showLess($event) ng-hide=isCollapsed translate>Show less</a> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},821:function(e,t){var n="/ng/directives/settings/email-setting.ng-template.html",i="<a role=menuitem tabindex=-1 class=email-settings ng-click=updateCourseSetting()> <span class=email-settings__title>{{ settingText | translate }}</span> <input type=checkbox class=ud-checkbox id={{settingKey}} autocomplete=off ng-checked=settingValue ng-disabled=disabled> <label for={{settingKey}}>&nbsp;</label> </a>";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},823:function(e,t,n){var i,r;!function(){var s=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function o(e){function t(e){var t=e.charCodeAt(0);if(92!==t)return t;var n=e.charAt(1);return(t=d[n])?t:"0"<=n&&n<="7"?parseInt(e.substring(1),8):"u"===n||"x"===n?parseInt(e.substring(2),16):e.charCodeAt(1)}function n(e){return e<32?(e<16?"\\x0":"\\x")+e.toString(16):(e=String.fromCharCode(e),"\\"===e||"-"===e||"]"===e||"^"===e?"\\"+e:e)}function i(e){var i=e.substring(1,e.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),e=[],r="^"===i[0],s=["["];r&&s.push("^");for(var r=r?1:0,o=i.length;r<o;++r){var a=i[r];if(/\\[bdsw]/i.test(a))s.push(a);else{var l,a=t(a);r+2<o&&"-"===i[r+1]?(l=t(i[r+2]),r+=2):l=a,e.push([a,l]),l<65||a>122||(l<65||a>90||e.push([32|Math.max(65,a),32|Math.min(l,90)]),l<97||a>122||e.push([Math.max(97,a)&-33,Math.min(l,122)&-33]))}}for(e.sort(function(e,t){return e[0]-t[0]||t[1]-e[1]}),i=[],o=[],r=0;r<e.length;++r)a=e[r],a[0]<=o[1]+1?o[1]=Math.max(o[1],a[1]):i.push(o=a);for(r=0;r<i.length;++r)a=i[r],s.push(n(a[0])),a[1]>a[0]&&(a[1]+1>a[0]&&s.push("-"),s.push(n(a[1])));return s.push("]"),s.join("")}function r(e){for(var t=e.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),r=t.length,a=[],l=0,c=0;l<r;++l){var u=t[l];"("===u?++c:"\\"===u.charAt(0)&&(u=+u.substring(1))&&(u<=c?a[u]=-1:t[l]=n(u))}for(l=1;l<a.length;++l)-1===a[l]&&(a[l]=++s);for(c=l=0;l<r;++l)u=t[l],"("===u?(++c,a[c]||(t[l]="(?:")):"\\"===u.charAt(0)&&(u=+u.substring(1))&&u<=c&&(t[l]="\\"+a[u]);for(l=0;l<r;++l)"^"===t[l]&&"^"!==t[l+1]&&(t[l]="");if(e.ignoreCase&&o)for(l=0;l<r;++l)u=t[l],e=u.charAt(0),u.length>=2&&"["===e?t[l]=i(u):"\\"!==e&&(t[l]=u.replace(/[A-Za-z]/g,function(e){return e=e.charCodeAt(0),"["+String.fromCharCode(e&-33,32|e)+"]"}));return t.join("")}for(var s=0,o=!1,a=!1,l=0,c=e.length;l<c;++l){var u=e[l];if(u.ignoreCase)a=!0;else if(/[a-z]/i.test(u.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){o=!0,a=!1;break}}for(var d={b:8,t:9,n:10,v:11,f:12,r:13},h=[],l=0,c=e.length;l<c;++l){if(u=e[l],u.global||u.multiline)throw Error(""+u);h.push("(?:"+r(u)+")")}return RegExp(h.join("|"),a?"gi":"g")}function a(e,t){function n(e){var l=e.nodeType;if(1==l){if(!i.test(e.className)){for(l=e.firstChild;l;l=l.nextSibling)n(l);l=e.nodeName.toLowerCase(),"br"!==l&&"li"!==l||(r[a]="\n",o[a<<1]=s++,o[a++<<1|1]=e)}}else 3!=l&&4!=l||(l=e.nodeValue,l.length&&(l=t?l.replace(/\r\n?/g,"\n"):l.replace(/[\t\n\r ]+/g," "),r[a]=l,o[a<<1]=s,s+=l.length,o[a++<<1|1]=e))}var i=/(?:^|\s)nocode(?:\s|$)/,r=[],s=0,o=[],a=0;return n(e),{a:r.join("").replace(/\n$/,""),d:o}}function l(e,t,n,i){t&&(e={
a:t,e:e},n(e),i.push.apply(i,e.g))}function c(e){for(var t=void 0,n=e.firstChild;n;n=n.nextSibling)var i=n.nodeType,t=1===i?t?e:n:3===i&&S.test(n.nodeValue)?e:t;return t===e?void 0:t}function u(e,t){function n(e){for(var s=e.e,o=[s,"pln"],c=0,u=e.a.match(i)||[],d={},h=0,p=u.length;h<p;++h){var m,g=u[h],v=d[g],y=void 0;if("string"==typeof v)m=!1;else{var b=r[g.charAt(0)];if(b)y=g.match(b[1]),v=b[0];else{for(m=0;m<a;++m)if(b=t[m],y=g.match(b[1])){v=b[0];break}y||(v="pln")}!(m=v.length>=5&&"lang-"===v.substring(0,5))||y&&"string"==typeof y[1]||(m=!1,v="src"),m||(d[g]=v)}if(b=c,c+=g.length,m){m=y[1];var w=g.indexOf(m),_=w+m.length;y[2]&&(_=g.length-y[2].length,w=_-m.length),v=v.substring(5),l(s+b,g.substring(0,w),n,o),l(s+b+w,m,f(v,m),o),l(s+b+_,g.substring(_),n,o)}else o.push(s+b,v)}e.g=o}var i,r={};!function(){for(var n=e.concat(t),a=[],l={},c=0,u=n.length;c<u;++c){var d=n[c],h=d[3];if(h)for(var p=h.length;--p>=0;)r[h.charAt(p)]=d;d=d[1],h=""+d,l.hasOwnProperty(h)||(a.push(d),l[h]=s)}a.push(/[\S\s]/),i=o(a)}();var a=t.length;return n}function d(e){var t=[],n=[];e.tripleQuotedStrings?t.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,s,"'\""]):e.multiLineStrings?t.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,s,"'\"`"]):t.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,s,"\"'"]),e.verbatimStrings&&n.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,s]);var i=e.hashComments;if(i&&(e.cStyleComments?(i>1?t.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,s,"#"]):t.push(["com",/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\n\r]*)/,s,"#"]),n.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,s])):t.push(["com",/^#[^\n\r]*/,s,"#"])),e.cStyleComments&&(n.push(["com",/^\/\/[^\n\r]*/,s]),n.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,s])),i=e.regexLiterals){var r=(i=i>1?"":"\n\r")?".":"[\\S\\s]";n.push(["lang-regex",RegExp("^(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*("+("/(?=[^/*"+i+"])(?:[^/\\x5B\\x5C"+i+"]|\\x5C"+r+"|\\x5B(?:[^\\x5C\\x5D"+i+"]|\\x5C"+r+")*(?:\\x5D|$))+/")+")")])}return(i=e.types)&&n.push(["typ",i]),i=(""+e.keywords).replace(/^ | $/g,""),i.length&&n.push(["kwd",RegExp("^(?:"+i.replace(/[\s,]+/g,"|")+")\\b"),s]),t.push(["pln",/^\s+/,s," \r\n\t"]),i="^.[^\\s\\w.$@'\"`/\\\\]*",e.regexLiterals&&(i+="(?!s*/)"),n.push(["lit",/^@[$_a-z][\w$@]*/i,s],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,s],["pln",/^[$_a-z][\w$@]*/i,s],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,s,"0123456789"],["pln",/^\\[\S\s]?/,s],["pun",RegExp(i),s]),u(t,n)}function h(e,t,n){function i(e){var t=e.nodeType;if(1!=t||s.test(e.className)){if((3==t||4==t)&&n){var l=e.nodeValue,c=l.match(o);c&&(t=l.substring(0,c.index),e.nodeValue=t,(l=l.substring(c.index+c[0].length))&&e.parentNode.insertBefore(a.createTextNode(l),e.nextSibling),r(e),t||e.parentNode.removeChild(e))}}else if("br"===e.nodeName)r(e),e.parentNode&&e.parentNode.removeChild(e);else for(e=e.firstChild;e;e=e.nextSibling)i(e)}function r(e){function t(e,n){var i=n?e.cloneNode(!1):e,r=e.parentNode;if(r){var r=t(r,1),s=e.nextSibling;r.appendChild(i);for(var o=s;o;o=s)s=o.nextSibling,r.appendChild(o)}return i}for(;!e.nextSibling;)if(e=e.parentNode,!e)return;for(var n,e=t(e.nextSibling,0);(n=e.parentNode)&&1===n.nodeType;)e=n;c.push(e)}for(var s=/(?:^|\s)nocode(?:\s|$)/,o=/\r\n?|\n/,a=e.ownerDocument,l=a.createElement("li");e.firstChild;)l.appendChild(e.firstChild);for(var c=[l],u=0;u<c.length;++u)i(c[u]);t===(0|t)&&c[0].setAttribute("value",t);var d=a.createElement("ol");d.className="linenums";for(var t=Math.max(0,t-1|0)||0,u=0,h=c.length;u<h;++u)l=c[u],l.className="L"+(u+t)%10,l.firstChild||l.appendChild(a.createTextNode("")),d.appendChild(l);e.appendChild(d)}function p(e,t){for(var n=t.length;--n>=0;){var i=t[n];T.hasOwnProperty(i)?g.console&&console.warn("cannot override language handler %s",i):T[i]=e}}function f(e,t){return e&&T.hasOwnProperty(e)||(e=/^\s*</.test(t)?"default-markup":"default-code"),T[e]}function m(e){var t=e.h;try{var n=a(e.c,e.i),i=n.a;e.a=i,e.d=n.d,e.e=0,f(t,i)(e);var r=/\bMSIE\s(\d+)/.exec(navigator.userAgent),r=r&&+r[1]<=8,t=/\n/g,s=e.a,o=s.length,n=0,l=e.d,c=l.length,i=0,u=e.g,d=u.length,h=0;u[d]=o;var p,m;for(m=p=0;m<d;)u[m]!==u[m+2]?(u[p++]=u[m++],u[p++]=u[m++]):m+=2;for(d=p,m=p=0;m<d;){for(var v=u[m],y=u[m+1],b=m+2;b+2<=d&&u[b+1]===y;)b+=2;u[p++]=v,u[p++]=y,m=b}u.length=p;var w,_=e.c;_&&(w=_.style.display,_.style.display="none");try{for(;i<c;){var C,k=l[i+2]||o,A=u[h+2]||o,b=Math.min(k,A),E=l[i+1];if(1!==E.nodeType&&(C=s.substring(n,b))){r&&(C=C.replace(t,"\r")),E.nodeValue=C;var S=E.ownerDocument,x=S.createElement("span");x.className=u[h+1];var T=E.parentNode;T.replaceChild(x,E),x.appendChild(E),n<k&&(l[i+1]=E=S.createTextNode(s.substring(b,k)),T.insertBefore(E,x.nextSibling))}n=b,n>=k&&(i+=2),n>=A&&(h+=2)}}finally{_&&(_.style.display=w)}}catch(F){g.console&&console.log(F&&F.stack||F)}}var g=window,v=["break,continue,do,else,for,if,return,while"],y=[[v,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],b=[y,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],w=[y,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],_=[w,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],y=[y,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],C=[v,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],k=[v,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],A=[v,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],v=[v,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],E=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,S=/\S/,x=d({keywords:[b,_,y,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",C,k,v],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),T={};p(x,["default-code"]),p(u([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),p(u([["pln",/^\s+/,s," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,s,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),p(u([],[["atv",/^[\S\s]+/]]),["uq.val"]),p(d({keywords:b,hashComments:!0,cStyleComments:!0,types:E}),["c","cc","cpp","cxx","cyc","m"]),p(d({keywords:"null,true,false"}),["json"]),p(d({keywords:_,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:E}),["cs"]),p(d({keywords:w,cStyleComments:!0}),["java"]),p(d({keywords:v,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),p(d({keywords:C,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),p(d({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),p(d({keywords:k,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),p(d({keywords:y,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),p(d({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),p(d({keywords:A,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),p(u([],[["str",/^[\S\s]+/]]),["regex"]);var F=g.PR={createSimpleLexer:u,registerLangHandler:p,sourceDecorator:d,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:g.prettyPrintOne=function(e,t,n){var i=document.createElement("div");return i.innerHTML="<pre>"+e+"</pre>",i=i.firstChild,n&&h(i,n,!0),m({h:t,j:n,c:i,i:1}),i.innerHTML},prettyPrint:g.prettyPrint=function(e,t){function n(){for(var t=g.PR_SHOULD_USE_CONTINUATION?d.now()+250:1/0;f<o.length&&d.now()<t;f++){for(var i=o[f],a=k,l=i;l=l.previousSibling;){var u=l.nodeType,A=(7===u||8===u)&&l.nodeValue;if(A?!/^\??prettify\b/.test(A):3!==u||/\S/.test(l.nodeValue))break;if(A){a={},A.replace(/\b(\w+)=([\w%+\-.:]+)/g,function(e,t,n){a[t]=n});break}}if(l=i.className,(a!==k||y.test(l))&&!b.test(l)){for(u=!1,A=i.parentNode;A;A=A.parentNode)if(C.test(A.tagName)&&A.className&&y.test(A.className)){u=!0;break}if(!u){if(i.className+=" prettyprinted",u=a.lang,!u){var E,u=l.match(v);!u&&(E=c(i))&&_.test(E.tagName)&&(u=E.className.match(v)),u&&(u=u[1])}if(w.test(i.tagName))A=1;else var A=i.currentStyle,S=r.defaultView,A=(A=A?A.whiteSpace:S&&S.getComputedStyle?S.getComputedStyle(i,s).getPropertyValue("white-space"):0)&&"pre"===A.substring(0,3);S=a.linenums,(S="true"===S||+S)||(S=!!(S=l.match(/\blinenums\b(?::(\d+))?/))&&(!S[1]||!S[1].length||+S[1])),S&&h(i,S,A),p={h:u,c:i,j:S,i:A},m(p)}}}f<o.length?setTimeout(n,250):"function"==typeof e&&e()}for(var i=t||document.body,r=i.ownerDocument||document,i=[i.getElementsByTagName("pre"),i.getElementsByTagName("code"),i.getElementsByTagName("xmp")],o=[],a=0;a<i.length;++a)for(var l=0,u=i[a].length;l<u;++l)o.push(i[a][l]);var i=s,d=Date;d.now||(d={now:function(){return+new Date}});var p,f=0,v=/\blang(?:uage)?-([\w.]+)(?!\S)/,y=/\bprettyprint\b/,b=/\bprettyprinted\b/,w=/pre|xmp/i,_=/^code$/i,C=/^(?:pre|code|xmp)$/i,k={};n()}};n(124)&&(i=[],r=function(){return F}.apply(t,i),!(void 0!==r&&(e.exports=r)))}()}()},831:function(e,t,n){var i,r;i=[n(2),n(168),n(678),n(501)],r=function(e,t,n,i){function r(t,n,i){this._lectureRequests={},this.lectureBookmarks={},this.reverseIndex={},this.getCourseBookmarks=function(e){if("undefined"==typeof this._courseRequest){var t={page_size:100,courseId:e,"fields[lecture]":"id","fields[note]":"@default,lecture,created"};this._courseRequest=this._getBookmarks(n,t)}return this._courseRequest},this.getLectureBookmarks=function(e,t){if("undefined"==typeof this._lectureRequests[t])if("undefined"!=typeof this._courseRequest)this._lectureRequests[t]=this._courseRequest;else{var n={page_size:100,courseId:e,lectureId:t,"fields[note]":"@default,created"};this._lectureRequests[t]=this._getBookmarks(i,n)}return this._lectureRequests[t]},this._getBookmarks=function(n,i){return n.get(i).$promise.then(function(r){this._pushBookmarks(r.results,i.lectureId);for(var s=2,o=r.results.length,a=Math.ceil(r.count/o),l=[];s<=a;)l.push(n.get(e.extend({},i,{page:s,page_size:o})).$promise.then(function(e){this._pushBookmarks(e.results,i.lectureId)}.bind(this),e.noop)),s+=1;return t.all(l)}.bind(this))},this._pushBookmarks=function(t,n){e.forEach(t,function(e){this._pushBookmark(e,n||e.lecture.id)}.bind(this))},this._pushBookmark=function(e,t){return"undefined"==typeof this.lectureBookmarks[t]&&(this.lectureBookmarks[t]=[]),"undefined"==typeof this.reverseIndex[e.id]?(this.reverseIndex[e.id]=this.lectureBookmarks[t].length,this.lectureBookmarks[t].push(e)):this.lectureBookmarks[t][this.reverseIndex[e.id]]=e,e},this.createBookmark=function(e,t,n){return i.save({courseId:e,lectureId:t},{body:n.content,position:Math.floor(n.time)}).$promise.then(function(e){return this._pushBookmark(e,t)}.bind(this))},this.updateBookmark=function(e,t,n){return i.update({courseId:e,lectureId:t,id:n.id},{body:n.content,position:Math.floor(n.time)}).$promise.then(function(e){return this._pushBookmark(e,t)}.bind(this))},this.deleteBookmark=function(t,n,r){r.id&&i.remove({courseId:t,lectureId:n,id:r.id}).$promise.then(function(){"undefined"!=typeof this.lectureBookmarks[n]&&"undefined"!=typeof this.reverseIndex[r.id]&&(this.lectureBookmarks[n].splice(this.reverseIndex[r.id],1),delete this.reverseIndex[r.id],e.forEach(this.lectureBookmarks[n],function(e,t){this.reverseIndex[e.id]=t}.bind(this)))}.bind(this))}}var s=e.module("apps.courseTakingV4.bookmarks.bookmarkService",[t.name,n.name]).service("Bookmark",r);return r.$inject=["$q","CourseNote","LectureNote"],s}.apply(t,i),!(void 0!==r&&(e.exports=r))},832:function(e,t,n){var i,r;i=[n(2),n(46)],r=function(e,t){function n(e){var t=function(t){switch(this.id=t.id,this.type=t._class,this.isLocked=!1,this.type){case"lecture":this.localizedType=e.getString("Lecture");break;case"quiz":this.quizType=t.type,"coding-exercise"===this.quizType?this.localizedType=e.getString("Coding Exercise"):this.localizedType=e.getString("Quiz");break;case"chapter":this.localizedType=e.getString("Section");break;default:this.localizedType=this.type}this.assetType=t.asset&&t.asset.asset_type,this.isPublished=t.is_published,this.objectIndex=t.object_index,this.progressStatus=t.progress_status,this.sortOrder=t.sort_order,"Video"===this.assetType||"Audio"===this.assetType||"VideoMashup"===this.assetType?this.length=t.asset.length||0:this.length=t.length,this.title=t.title,this.current=!1,this.supplementaryAssets=t.supplementary_assets||[],this.data=t,this.isSupported=function(){if("chapter"===this.type)return!0;var e=["Audio","Video","VideoMashup","Article","Presentation"];return!("lecture"!==this.type||!this.data.asset||e.indexOf(this.data.asset.asset_type)===-1)},this.isCompleted=function(){switch(this.type){case"lecture":case"quiz":return"completed"===this.progressStatus;default:return!1}},this.getIconCssClass=function(){if(this.isLocked)return"fa fa-lock";var e="";"lecture"===this.type?e=this.assetType:"quiz"==this.type&&(e=this.quizType);var t={Audio:"ud_icon-play",Video:"ud_icon-play",VideoMashup:"ud_icon-play",Article:"ud_icon-article",Presentation:"ud_icon-presentation","simple-quiz":"ud_icon-activity","coding-exercise":"ud_curly-braces-bold"};return t[e]||"fa fa-ellipsis-h"},this.getTranslatedEnum=function(t){var n={sectionNumber:t,itemNumber:this.objectIndex};return"lecture"===this.type?e.getString("Section {{ sectionNumber }}, Lecture {{ itemNumber }}",n):"quiz"===this.type?"coding-exercise"===this.quizType?e.getString("Section {{ sectionNumber }}, Coding Exercise {{ itemNumber }}",n):e.getString("Section {{ sectionNumber }}, Quiz {{ itemNumber }}",n):""},this.getTranslatedTitle=function(){return"lecture"===this.type?this.objectIndex+". "+this.title:this.localizedType+" "+this.objectIndex+": "+this.title}};return t}var i=e.module("apps.courseTakingV4.curriculum.curriculumItemFactory",[t.name]).factory("CurriculumItem",n);return n.$inject=["gettextCatalog"],i}.apply(t,i),!(void 0!==r&&(e.exports=r))},833:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){function n(n){function i(e,t){var n=o["default"].element("<a/>");n.css({display:"none"}),o["default"].element(document.body).append(n),n.attr({href:e,target:t})[0].click(),n.remove()}n.limit=o["default"].isDefined(n.initialLimit)?n.initialLimit:3,n.isFreePreviewer=t.isFreePreviewer,n.requestDownloadResource=function(r,s){t.isFreePreviewer||(s.loading=!0,s.external_url?(i(s.external_url,"_blank"),delete s.loading):e.get({courseId:n.courseId,lectureId:n.lectureId,id:s.id,"fields[asset]":"download_urls"}).$promise.then(function(e){i(e.download_urls[s.asset_type][0].file,"_self"),delete s.loading}))},n.getResourceTrackingAction=function(e){var t={ExternalLink:"resource website",SourceCode:"resource code"};return t[e.asset_type]||"resource file-download"}}return{scope:{courseId:"=",lectureId:"=",initialLimit:"=",resources:"="},link:n,replace:!0,restrict:"E",templateUrl:h["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(678),l=i(a),c=n(12),u=i(c),d=n(1229),h=i(d),p=n(839),f=i(p),m=n(522),g=i(m),v=o["default"].module("apps.courseTakingV4.curriculum.resourcesListDirective",[u["default"].name,l["default"].name,f["default"].name,g["default"].name]).directive("resourcesList",r);r.$inject=["SupplementaryAsset","ViewMode"],t["default"]=v},834:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r,s){function o(e){return e.shiftKey?"SHIFT":""}function a(a,d){function p(e){c[e]&&(a.iconClass=c[e],r.addClass(d,"hotkey-feedback-activated"),s(function(){r.removeClass(d,"hotkey-feedback-activated")},300))}function m(){w||(w=document.getElementsByClassName(a.focusElementClass)[0]),w&&w.focus()}function v(e){if(!u)return!0;var t=e.relatedTarget||e.toElement||document.activeElement,n=["input","textarea"].indexOf(t.tagName.toLowerCase())!==-1,i=t.classList.contains("redactor-editor");return n||i}function y(t){if(!v(t)){var n=t.keyCode?t.keyCode:t.which?t.which:t.charCode,i=o(t),r=l[i+n];r?(e.$broadcast(r),p(i+n),e.$apply()):e.$broadcast("hotkey"+a.hotkeysType+"event",n,i)}}function b(){var t;_||(_=!0,t="lecture"==a.hotkeysType?f["default"]:g["default"],n.open({scope:a,windowClass:"full-overlay slide-from-bottom",templateUrl:t}).result["finally"](function(){_=!1,e.$broadcast("modalclosed")}),e.$broadcast("modalopened"))}var w=null,_=!1;a.iconClass="";var C=e.$on("showhotkeyfeedback",function(e,t){p(t)});a.$on("$destroy",C);var k=e.$on("curriculumnavigationclosed",m);a.$on("$destroy",k);var A=e.$on("modalclosed",function(){u=!0,m()});a.$on("$destroy",A);var E=e.$on("modalopened",function(){u=!1});a.$on("$destroy",E);var S=e.$on("hotkeyshowhotkeys",function(){b(),h["default"].track("playercontrol",t("capitalize")(a.hotkeysType),"resource hotkeys-show hotkey")});a.$on("$destroy",S),i.on("keyup",y),a.$on("$destroy",function(){i.off("keyup",y)})}var l={27:"hotkeyclose",66:"hotkeyaddbookmark",67:"hotkeytogglecurriculum",81:"hotkeytogglebrowsequestions",SHIFT191:"hotkeyshowhotkeys"},c={77:"ud_i_menu",bookmarkadded:"ud_icon-bookmark",play:"icon-vjs-play",pause:"icon-vjs-pause",rewind:"icon-vjs-rewind rewind-15",speeddown:"icon-minus",forward:"icon-vjs-forward forward-15",speedup:"icon-plus",volume:"icon-vjs-volume",enterfullscreen:"icon-vjs-fullscreen",exitfullscreen:"icon-vjs-fullscreen-collapse"},u=!0;return{restrict:"E",link:a,scope:{focusElementClass:"@",hotkeysType:"@"},template:'<div class="hotkey-feedback"><div ng-class="iconClass"></div></div>'}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s);n(116);var a=n(521),l=i(a),c=n(12),u=i(c),d=n(501),h=i(d),p=n(1250),f=i(p),m=n(1265),g=i(m),v=o["default"].module("apps.courseTakingV4.hotkeysDirective",["ui.bootstrap",u["default"].name,l["default"].name]).directive("hotkeys",r);r.$inject=["$rootScope","$filter","$modal","$document","$animate","$timeout"],t["default"]=v},835:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"E",scope:{readOnly:"=",lecture:"=",quiz:"="},controller:s,templateUrl:E["default"]}}function s(e,t,n,i,r){function s(){e.isPanelOpen?l():o()}function o(){e.isPanelOpen||(e.isPanelOpen=!0,t.$broadcast("questionspanelopened"))}function l(){e.isPanelOpen&&(e.isPanelOpen=!1,t.$broadcast("questionspanelclosed"))}function c(){l(),n(d,500)}function u(){e.questions.isDetailsOpen=!1,e.questions.activeQuestion=null}function d(){e.editorState=a["default"].copy(h),e.questions=r.init(),e.lecture&&e.lecture.id?e.questions.params.lecture_id=e.lecture.id:e.quiz&&e.quiz.id&&(e.questions.params.quiz_id=e.quiz.id),e.questions.params.ordering="-is_me, -created",e.questions.loadQuestions()}var h={title:"",initialize:!0,isEditing:!1,resetValue:!1,submitDisabled:!1,redactorTheme:"simple-image-link-source",body:"",formError:new i};e.isPanelOpen=!1,e.displayType="questionsPanel",d(),e.back=u,e.toggle=s,e.open=o,e.minimize=l,e.close=this.close=c,e.$on("questionspanelopen",e.open),e.$on("hotkeytogglebrowsequestions",e.toggle),e.$on("hotkeyclose",e.close),e.$on("$destroy",function(){r.init()})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),l=n(540),c=i(l),u=n(503),d=i(u),h=n(523),p=i(h),f=n(12),m=i(f),g=n(543),v=i(g),y=n(971),b=i(y),w=n(710),_=i(w),C=n(972),k=i(C),A=n(1257),E=i(A),S=n(973),x=i(S),T=a["default"].module("apps.courseTakingV4.questionAnswer.questionsPanelDirective",[d["default"].name,m["default"].name,c["default"].name,p["default"].name,x["default"].name,b["default"].name,k["default"].name,_["default"].name,v["default"].name]).directive("questionsPanel",r);s.$inject=["$scope","$rootScope","$timeout","FormError","QuestionAnswer"],t["default"]=T},836:function(e,t,n){var i,r;i=[n(2),n(556),n(522),n(604),n(16)],r=function(e,t,n,i,r){function s(e,t,n,i,s,o){this._askFeedbackAtSecondsCompleted=null,this._initialInterval=720,this._delayInterval=3600,this._midPointPassed=!1,this.courseReview=s,this.reviewLocations={courseTakingInitial:"course_taking__initial",courseTakingInitialEnd:"course_taking__initial--end",courseTakingMiddle:"course_taking__middle",courseTakingFinal:"course_taking__final"},this.doesReviewExist=function(){return!!this.courseReview.rating},this.initService=function(){o.loadForCourseIdAndUserId(n.courseId,r.id).then(function(e){this.courseReview.set(e)}.bind(this)),n.ensureCurriculumLoaded().then(function(){var e=n.totalVideoLength,t=n.getCompletedVideoLength();if(e/2<=t&&(this._midPointPassed=!0),null===this._askFeedbackAtSecondsCompleted){var i=Math.floor((t-this._initialInterval)/this._delayInterval)+1;this._askFeedbackAtSecondsCompleted=this._initialInterval+i*this._delayInterval}}.bind(this))},this.canShowReviewScreen=function(t){if(i.isInstructor||i.isFreePreviewer||e.areReviewsDisabled)return!1;var r=this.doesReviewExist(),s=n.totalVideoLength,o=n.getCompletedVideoLength(),a=!n.getNextCurriculumItem(t),l=this._getReviewLocation(r,s,o,a);return!!l&&(this.courseReview.location=l,!0)},this._getReviewLocation=function(e,n,i,r){var s=t.search();if(s.review_prompt_id)return s.review_prompt_id;if(r){if(e){if(n>this._delayInterval)return this.reviewLocations.courseTakingFinal}else if(n<this._delayInterval)return this.reviewLocations.courseTakingInitialEnd;return null}return n>=7200&&n/2<=i&&!this._midPointPassed?(this._midPointPassed=!0,e?this.reviewLocations.courseTakingMiddle:null):i>=this._askFeedbackAtSecondsCompleted&&!e?(this._askFeedbackAtSecondsCompleted=i+this._delayInterval,this.reviewLocations.courseTakingInitial):null}}var o=e.module("apps.courseTakingV4.review.reviewPromptService",[t.name,n.name,i.name]).service("reviewPromptService",s);return s.$inject=["$rootScope","$location","Curriculum","ViewMode","courseReviewState","courseReviewService"],o}.apply(t,i),!(void 0!==r&&(e.exports=r))},837:function(e,t,n){var i,r;i=[n(2),n(12),n(838),n(993)],r=function(e,t,n,i){return e.module("apps.courseTakingV4.sidenav.module",[t.name,n.name,i["default"].name])}.apply(t,i),!(void 0!==r&&(e.exports=r))},838:function(e,t,n){var i,r;i=[n(2),n(12)],r=function(e,t){function n(){function e(e,t){return r[e]=t,n}function t(e){return r[e]}function n(e){delete r[e]}function i(){for(var e in r)r[e].close()}var r={};this.register=e,this.get=t,this.closeAll=i}var i=e.module("apps.courseTakingV4.sidenav.sidenavService",[t.name]).service("SidenavService",n);return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},839:function(e,t,n){var i,r;i=[n(2),n(501)],r=function(e,t){function n(){return{restrict:"A",scope:{},link:function(e,n,i){function r(){i.trackingCategory&&i.trackingAction&&t.track("coursetaking",i.trackingCategory,i.trackingAction)}n.on("click",r),e.$on("$destroy",function(){n.off("click",r)})}}}var i=e.module("apps.courseTakingV4.trackingDirective",[]).directive("courseTakingTracking",n);return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},840:function(e,t,n){var i,r;i=[n(2),n(63),n(11)],r=function(e,t,n){function i(t,i,r){function s(e,i){var s=null,o=800;this._isEnabled=!r.isMobileBrowser();var a=!1,l=!1,c={x:null,y:null};this.setActive=function(){this._isEnabled&&(this.cancelInactiveTimeout(),i.removeClass("user-inactive"),i.addClass("user-active"))},this.setInactiveAfterTimeout=function(e){if(this._isEnabled&&!l)return e=e||o,s=t(function(){i.addClass("user-inactive"),i.removeClass("user-active")},e),l=!0,s},this.mouseMoveCallback=function(e){this.setActive(),this.setInactiveAfterTimeout(e)},this.addMouseMoveEvent=function(t){a||(i.on("mousemove",n.throttle(function(n){var i={x:n.clientX,y:n.clientY};c.x===i.x&&c.y===i.y||(this.mouseMoveCallback(t),e.$apply()),c=i}.bind(this),300,{trailing:!1})),a=!0)}.bind(this),this.removeMouseMoveEvent=function(){this.cancelInactiveTimeout(),i.off("mousemove"),a=!1}.bind(this),this.cancelInactiveTimeout=function(){t.cancel(s),l=!1}}return s.$inject=["$scope","$element"],{restrict:"A",require:"userActivityCheck",controller:s,link:function(t,n,i,r){!e.isUndefined(i.userActivityCheckEnabled)&&r._isEnabled&&(r._isEnabled=!!t.$eval(i.userActivityCheckEnabled)),r._isEnabled&&(n.addClass("user-activity-check"),n.addClass("user-active"),r.setInactiveAfterTimeout(4e3),r.addMouseMoveEvent(),t.$on("useractive",function(){r.mouseMoveCallback()}),t.$on("$destroy",function(){r.removeMouseMoveEvent()}))}}}var r=e.module("apps.courseTakingV4.userActivityCheck.userActivityCheckDirective",[t.name]).directive("userActivityCheck",i);return i.$inject=["$timeout","$window","Mobile"],r}.apply(t,i),!(void 0!==r&&(e.exports=r))},847:function(e,t,n){var i,r;i=[n(2),n(41)],r=function(e){function t(e){return e("/api-2.0/courses/:courseId/quizzes/:id")}function n(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/quizzes/:quizId/user-attempted-quizzes/:attemptId/:action")}function i(e){return e("/api-2.0/quizzes/:quizId/assessments")}function r(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/user-attempted-quizzes/:attemptId/assessment-answers")}function s(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/user-attempted-quizzes/:attemptId/coding-exercise-answers")}return e.module("services.v2.quizResources",["ngResource"]).factory("Quiz",["$resource",t]).factory("AttemptedQuiz",["$resource",n]).factory("Question",["$resource",i]).factory("Answer",["$resource",r]).factory("CodingExerciseAnswer",["$resource",s])}.apply(t,i),!(void 0!==r&&(e.exports=r))},945:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"E",controller:s,templateUrl:p["default"]}}function s(e,t,n,i){function r(){n.getCourseBookmarks(i.courseId)["finally"](s)}function s(){e.bookmarkExist=!1,a["default"].forEach(e.sections,function(t){t.noteCount=0,a["default"].forEach(t.items,function(i){"lecture"===i.type&&(i.notes=n.lectureBookmarks[i.id]||[],t.noteCount+=i.notes.length,i.notes.length>0&&(e.bookmarkExist=!0))})}),e.bookmarksLoading=!1}e.bookmarksLoading=!0,i.ensureCurriculumLoaded().then(function(){e.sections=i.sections}),r()}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),l=n(174),c=i(l),u=n(12),d=i(u);n(501);var h=n(1222),p=i(h),f=n(831),m=i(f),g=a["default"].module("apps.courseTakingV4.bookmarks.bookmarksListDirective",[d["default"].name,c["default"].name,m["default"].name]).directive("bookmarksList",r);s.$inject=["$scope","$state","Bookmark","Curriculum"],t["default"]=g},946:function(e,t,n){var i,r;i=[n(2),n(116),n(556),n(648),n(63),n(521),n(501),n(514),n(522)],r=function(e,t,n,i,r,s,o,a,l){function c(e,t,n,i,r,s,a,l,c){e.loadCurriculum(),n.isMobileBrowser=s.isMobileBrowser(),n.isInstructor=c.isInstructor;var u=n.$on("contentready",function(){r.hide()});t.$on("$destroy",u);var d=n.$on("$stateChangeStart",function(){i.dismissAll()});t.$on("$destroy",d);var h=n.$on("reportabusemodalopened",function(e,t){o.track("coursetaking",a("capitalize")(t.objectType),"report visit")});t.$on("$destroy",h),o.setCourseId(l.id),o.setCourseType(l.is_paid?"Paid":"Free"),o.setUserType(c.isInstructor?"Instructor":"Student"),o.setCTVersion(o.R1)}var u=e.module("apps.courseTakingV4.courseController",["ui.bootstrap",n.name,i.name,r.name,s.name,a.name,l.name]).controller("CourseController",c);return c.$inject=["Curriculum","$scope","$rootScope","$modalStack","loadingScreen","Mobile","$filter","CurrentCourse","ViewMode"],u}.apply(t,i),!(void 0!==r&&(e.exports=r))},947:function(e,t,n){var i,r;i=[n(2),n(570),n(522),n(836),n(63),n(501),n(837),n(557)],r=function(e,t,n,i,r,s,o,a){function l(e,t,n,i,r,o,a,l,c){function u(){t.$broadcast("playcontent")}function d(){t.$broadcast("pausecontent")}t.isMobileApp=o.isMobileApp(),r.initService(),e.sections=n.sections,e.currentSection=n.currentSection,e.currentSectionItem=n.currentSectionItem;var h=t.$on("gotointerstitial",function(e,t){function o(e){var t=n.getCurriculumItem(e.type,e.id),r=n.getNextCurriculumItem(t),s="base.taking.interstitial_v2",o={id:t.id,type:t.type},a={location:!1},l=i.ANIMATION_TYPE.next,c=!r||!e.showInterstitial;c&&(r?(s="base.taking.".concat(r.type),a=null,o={id:r.id,type:r.type}):(s="base.dashboard.questions",a=null,o=null,l=i.ANIMATION_TYPE.loading)),i.go(s,o,l,a)}return t._forceInterstitial?o(t):void(a.isFreePreviewer?n.ensureCurriculumLoaded().then(function(){var e=n.getCurrentCurriculumItem(),t=n.getNextCurriculumItemFiltered(e,n.isFreeFilter);i.go("base.taking.lecture",{id:t.id,type:t.type},i.ANIMATION_TYPE.next)}):r.canShowReviewScreen({id:t.id,type:t.type})?(s.track("coursetaking","Review","prompt",null,null,{location:r.courseReview.location},{objectType:"review",objectId:r.courseReview.id}),i.go("base.taking.review",{curriculumItem:{id:t.id,type:t.type}},i.ANIMATION_TYPE.next,{location:!1})):o(t))});e.$on("$destroy",h),t.$on("$stateChangeStart",function(){l.closeAll()});var p=t.$on("curriculumnavigationopened",function(){t.$broadcast("hideplayercontrols"),d()});e.$on("$destroy",p);var f=t.$on("modalopened",d);e.$on("$destroy",f);var m=t.$on("curriculumnavigationclosed",function(){t.$broadcast("showplayercontrols"),u()});e.$on("$destroy",m);var g=t.$on("modalclosed",u);e.$on("$destroy",g)}var c=e.module("apps.courseTakingV4.reviewController",[t.name,n.name,i.name,r.name,o.name,a.name]).controller("CourseTakingController",l);return l.$inject=["$scope","$rootScope","Curriculum","AnimatedStateChangeService","reviewPromptService","Mobile","ViewMode","SidenavService","ExperimentService"],
c}.apply(t,i),!(void 0!==r&&(e.exports=r))},948:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i){function r(r){function s(){r.goToInterstitial?r.$emit("gotointerstitial",r.curriculumItem):i.go("base.taking."+r.nextCurriculumItem.type,r.nextCurriculumItem,i.ANIMATION_TYPE.next),r.completeLecture&&r.completeLecture()}o["default"].isUndefined(r.goToInterstitial)&&(r.goToInterstitial=!0),t.ensureCurriculumLoaded().then(function(){r.curriculumItem=t.getCurriculumItem(r.objectType,r.objectId),n.isFreePreviewer?r.nextCurriculumItem=t.getNextCurriculumItemFiltered(r.curriculumItem,t.isFreeFilter):r.nextCurriculumItem=t.getNextCurriculumItem(r.curriculumItem)}),r.buttonText=n.isFreePreviewer?e.getString("Next Free Lecture"):e.getString("Continue"),r.continueCourse=s}return{restrict:"E",scope:{completeLecture:"&?",goToInterstitial:"=?",objectType:"=",objectId:"=",buttonClasses:"@"},link:r,templateUrl:h["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(12),l=i(a),c=n(570),u=i(c),d=n(1224),h=i(d),p=n(555),f=i(p),m=n(522),g=i(m),v=o["default"].module("apps.courseTakingV4.curriculum.continueButtonDirective",[l["default"].name,f["default"].name,g["default"].name,u["default"].name]).directive("continueButton",r);r.$inject=["gettextCatalog","Curriculum","ViewMode","AnimatedStateChangeService"],t["default"]=v},949:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){function n(n,i){function r(){function e(e,t,n,i){var r=t.offsetTop,s=n.offsetTop+n.offsetHeight+i,o=e.offsetHeight;return s-r<=o}if(l){n.currentSection.isOpen=!0;var t=a.find("nav")[0],i=t.getElementsByClassName("current-section")[0],r=i.getElementsByClassName("lecture__item current")[0];e(t,i,r,60)?t.scrollTop=i.offsetTop-60:t.scrollTop=r.offsetTop-a[0].offsetHeight/2,l=!1}}o["default"].isUndefined(n.showTitle)&&(n.showTitle=!0);var s=i.get("left-curriculum-nav"),a=s.getElement(),l=!0;n.sidenavInView=s.isOpen(),n.course=t,this.close=function(t){return n.sidenavInView=!1,s.close().then(function(){e.$broadcast("curriculumnavigationclosed",{isHotkeyPressed:!!t})})},this.open=function(t){return n.sidenavInView=!0,s.open().then(function(){r(),e.$broadcast("curriculumnavigationopened",{isHotkeyPressed:!!t})})},this.toggle=function(e){return this.isOpen()?this.close(e):this.open(e)},this.isOpen=function(){return s.isOpen()},n.$on("hotkeytogglecurriculum",this.toggle.bind(this,!0)),n.$on("hotkeyclose",this.close.bind(this,!0))}return n.$inject=["$scope","SidenavService"],{restrict:"E",scope:{currentSection:"=",currentSectionItem:"=",isFreePreviewer:"=",showTitle:"=?"},templateUrl:f["default"],controller:n,controllerAs:"curriculumNavigationButtonController"}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(521),l=i(a),c=n(12),u=i(c),d=n(514),h=i(d),p=n(1226),f=i(p),m=n(837),g=i(m),v=n(741),y=i(v),b=o["default"].module("apps.courseTakingV4.curriculumNavigation.curriculumNavigationButton",[u["default"].name,l["default"].name,y["default"].name,h["default"].name,g["default"].name]).directive("curriculumNavigationButton",r);r.$inject=["$rootScope","CurrentCourse"],t["default"]=b},950:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return{restrict:"E",scope:{courseId:"=",sections:"="},templateUrl:h["default"],link:function(e){o["default"].forEach(e.sections,function(e){"undefined"==typeof e.isOpen&&(e.isOpen=!!e.current)})}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s);n(121);var a=n(521),l=i(a),c=n(12),u=i(c),d=n(1227),h=i(d),p=n(951),f=i(p),m=n(650),g=i(m),v=o["default"].module("apps.courseTakingV4.curriculumNavigation.curriculumNavigationDirective",["ngAnimate",u["default"].name,l["default"].name,f["default"].name,g["default"].name]).directive("curriculumNavigation",r);r.$inject=["$animate","$rootScope"],t["default"]=v},951:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){function i(e){e.collapsibleContentId="collapsible-content-"+e.section.objectIndex,e.sectionId="lecture-"+e.section.objectIndex,e.getItemCssClass=function(e){var t=e.current?"current":"";switch(e.isLocked&&(t+=" disabled"),e.progressStatus){case"started":return t+" started";case"completed":return t+" completed";default:return t}}}return i.$inject=["$scope"],{restrict:"E",templateUrl:u["default"],link:function(n,i,r){n.goToItem=function(n){if(!n.isLocked){e.current.name==="base.taking."+n.type&&String(e.params.id)===String(n.id)||t.show();var i=n.data.last_watched_second,r="base.taking."+n.type+(i?".start":"");e.go(r,{id:n.id,start:i})["catch"](function(){t.hide()})}}},scope:{section:"="},controller:i}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(12),l=i(a),c=n(1228),u=i(c),d=n(648),h=i(d),p=n(833),f=i(p),m=n(839),g=i(m),v=n(522),y=i(v),b=o["default"].module("apps.courseTakingV4.curriculumNavigation.curriculumNavigationSectionDirective",[l["default"].name,h["default"].name,g["default"].name,f["default"].name,y["default"].name]).directive("curriculumNavigationSection",r);r.$inject=["$state","loadingScreen","ViewMode"],t["default"]=b},952:function(e,t,n){var i,r;i=[n(2),n(832)],r=function(e,t){function n(t){var n=function(n,i){t.apply(this,[n]),this.courseId=i,this.items=[],this.numCompletedItems=0,this.numCompletedItemsByType={},this.calculateStats=function(){this.numCompletedItems=0,this.numCompletedItemsByType={},this.completedVideoLength=0,e.forEach(this.items,function(e){"completed"===e.progressStatus&&(this.numCompletedItems+=1,this.numCompletedItemsByType[e.type]=(this.numCompletedItemsByType[e.type]||0)+1,"Video"!==e.assetType&&"VideoMashup"!==e.assetType||(this.completedVideoLength+=e.length))}.bind(this))},this.isCompleted=function(){return!0}};return n.prototype=t.prototype,n}var i=e.module("apps.courseTakingV4.curriculum.curriculumSectionFactory",[t.name]).factory("CurriculumSection",n);return n.$inject=["CurriculumItem"],i}.apply(t,i),!(void 0!==r&&(e.exports=r))},953:function(e,t,n){var i,r;i=[n(2),n(14),n(12),n(16),n(514),n(168),n(174),n(562),n(1116)],r=function(e,t,n,i,r,s,o,a,l){function c(n,r,s,o,a){function l(){r.announcementsLoading=!0;var e={courseId:r.course.id,is_promotional:!1,"fields[course_announcement]":"@default,created,action","fields[course]":"id","fields[user]":"@min,image_50x50,url","fields[actstream_action]":"@min,target,comments","fields[activity_comment]":"@default"};r.announcement_ids&&(e.ids=r.announcement_ids),a.get(e).$promise.then(function(e){r.announcements=e.results}).then(function(){r.showComments=t.brand.is_feed_commenting_enabled&&r.course.features.announcements_comments_view})["finally"](function(){r.announcementsLoading=!1})}r.course=o,r.announcements=[],r.reportAbusePopup={enabled:t.features.report_abuse,open:!1},r.udMe=i,r.showComments=!1,r.announcement_ids=s.params.ids,r.num_announcements=r.announcement_ids?r.announcement_ids.split(",").length:0,r.previewAnnouncement=s.params.preview_announcement,n.me=i,n.expandAll=!0,n.report_abuse=r.reportAbusePopup.enabled,r.previewAnnouncement?(n.report_abuse=!1,r.reportAbusePopup.enabled=!1,r.announcements=[{title:s.params.preview_announcement_title,content:s.params.preview_announcement_content,created:new Date,user:e.extend({},r.udMe,{name:r.udMe.title.split(" ")[0]})}]):l()}var u=e.module("apps.courseTakingV4.dashboard.announcementsController",[n.name,r.name,s.name,o.name,a["default"].name,l["default"].name]).controller("AnnouncementsController",c);return c.$inject=["$rootScope","$scope","$state","CurrentCourse","CourseAnnouncement"],u}.apply(t,i),!(void 0!==r&&(e.exports=r))},954:function(e,t,n){var i,r;i=[n(2),n(12),n(555),n(63),n(514)],r=function(e,t,n,i,r){function s(t,n,i,r,s){function o(){t.activeState="search",l(!0),u()}function a(e){t.activeState=e?"expand":"collapse",l(e),u()}function l(t){e.forEach(n.sections,function(n,i){f[i]||(f[i]=e.copy(n)),m&&m.id===f[i].id?f[i].isOpen=!0:f[i].isOpen=t})}function c(){t.activeState="resources",l(!0),u()}function u(){var i=p(t.searchPhrase),r=["resources","search"].indexOf(t.activeState)!==-1;t.filterResults=0,e.forEach(n.sections,function(n,s){f[s]||(f[s]=e.copy(n)),f[s].items=n.items.filter(function(e){return t.enableViewResources=t.enableViewResources||!!e.supplementaryAssets.length,"resources"===t.activeState?d(e):"search"===t.activeState?h(i,e):(t.searchPhrase="",!0)}),t.filterResults+=f[s].items.length,f[s].calculateStats(),r&&0===f[s].items.length&&delete f[s]}),t.sections=f}function d(e){return e.supplementaryAssets.length>0}function h(e,t){var n=p(t.title);if(n.indexOf(e)!==-1)return!0;for(var i=0;i<t.supplementaryAssets.length;i++){n=p(t.supplementaryAssets[i].title);var r=p(t.supplementaryAssets[i].filename);if(n.indexOf(e)!==-1||r.indexOf(e)!==-1)return!0}return!1}function p(e){return(e||"").trim().toLowerCase()}var f={};t.isMobileBrowser=i.isMobileBrowser(),t.searchPhrase="",t.setSearch=o,t.setOpenAll=a,t.setFilterResources=c,t.enableViewResources=!1,t.activeState="collapse";var m=null;n.ensureCurriculumLoaded().then(function(){return t.enableExpandSections=Object.keys(n.sections).length>1,s(u)}).then(function(){return r.getProgressOfUser()}).then(function(t){var i=t.next_curriculum_object;m=n.getSectionOfCurriculumItem(i._class,i.id),e.forEach(f,function(e){e.isOpen=m&&m.id===e.id})}),t.$watch("sections",function(n,i){if("resources"!==t.activeState&&""===p(t.searchPhrase)){t.activeState="search";var r,s=0;e.forEach(f,function(e,t){e.isOpen&&(++s,r=e)}),s===Object.keys(f).length?t.activeState="expand":1===s&&m&&m.id===r.id&&(t.activeState="collapse")}},!0)}var o=e.module("apps.courseTakingV4.dashboard.contentController",[t.name,n.name,i.name,r.name]).controller("ContentController",s);return s.$inject=["$scope","Curriculum","Mobile","CurrentCourse","$timeout"],o}.apply(t,i),!(void 0!==r&&(e.exports=r))},955:function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(t,n,i,r,s,o,a,l,c,u,d,h,p,f,m,g){function v(e){i.progressInfo={numCompletedItems:e.num_completed_items,numPublishedItems:e.num_published_items,completionRatio:100*e.num_completed_items/e.num_published_items,progressString:E(e.num_completed_items,e.num_published_items)},i.showReminders&&0===i.progressInfo.completionRatio&&i.openRemindersModal(),i.nextCurriculumObject=new s(e.next_curriculum_object),l.ensureCurriculumLoaded().then(function(){l.setCurrentItem(i.nextCurriculumObject),i.currentSection=l.currentSection}),i.ctaOverlayClass=F(),i.course.has_certificate&&a.getCertificateOfUser().then(function(){h.search().animateTrophy&&$(),100===i.progressInfo.completionRatio&&D()})}function b(){var e="base.taking."+i.nextCurriculumObject.type,t={id:i.nextCurriculumObject.id};i.nextCurriculumObject.data.last_watched_second&&(e+=".start",t.start=i.nextCurriculumObject.data.last_watched_second),p.go(e,t,p.ANIMATION_TYPE.loading)}function _(){return o.isInstructor?j["default"]:R["default"]}function k(e){function t(){window.location.href="/home/my-courses/learning"}function n(){w["default"].Feedback.fromText(u.getString("Oops, something went wrong! Please try again later."),w["default"].MessageType.error)}e.preventDefault();var i=u.getString("By selecting this option, you will be permanently removed from the course and will no longer have access to its contents. Are you sure?");g(i).then(function(){a.unenroll().$promise.then(t,n)})}function E(e,t){var n={completed:e,total:t};return u.getPlural(t,"<b>{{ completed }}</b> of <b>{{ total }}</b> item complete","<b>{{ completed }}</b> of <b>{{ total }}</b> items complete",n)}function x(){n.go("base.dashboard.overview").then(function(){e("#dLabel").dropdown("toggle"),r(function(){d("course-instructor")})})}function T(){return i.course.is_refundable?y["default"].toSupportContact():""}function F(){return"play-icon"}function $(){if(!M){M=!0;var t=e(".fa-trophy").addClass("greenify"),n=t.clone().appendTo("body").addClass("animate greenify");t.velocity({opacity:0},100),n.css("left",(e("body").width()-n.width())/2),n.velocity("transition.bounceIn").velocity({rotateZ:"60deg"},100).velocity({rotateZ:"-60deg"},{loop:4,duration:150}).velocity("reverse").velocity({rotateZ:"0deg"},100).velocity({rotateZ:"0deg"},300,function(){var e=t[0].getBoundingClientRect();n.velocity({left:e.left+window.scrollX,top:e.top+window.scrollY,"font-size":t.css("font-size")},400).velocity({opacity:0},100,function(){n.detach()}),t.velocity({opacity:1},{delay:400,duration:100})})}}function D(){a.certificate?a.certificate.is_ready||(a.getCertificateOfUser(),r(D,15e3,!1),$()):(a.createCertificate(),r(D,15e3,!1),$())}function B(){return o.isFreePreviewer?"certificate-not-ready":i.course.has_certificate&&a.certificate?(i.certificate=a.certificate,a.certificate.is_ready?"certificate-ready":"certificate-in-progress"):"certificate-not-ready"}a.loadExtraData({"fields[course]":["favorite_time","archive_time","notification_settings","num_subscribers","num_published_lectures","instructional_level","content_info","locale","has_closed_caption","has_coding_exercise","has_certificate","description","headline","visible_instructors","prerequisites","objectives","target_audiences","image_480x270","gift_url","is_private","avg_rating_recent"].join(","),"fields[user]":["url","title","job_title","image_200_H","description","url_twitter","url_google","url_facebook","url_linkedin","url_youtube","url_personal_website"].join(","),"fields[locale]":"simple_english_title"}),a.refreshProgressOfUser().then(v),i.course=a,i.showRemindersTip=!1,i.gotoNextCurriculumObject=b,i.optionsDropdownTemplateUrl=_(),i.unenrollFromCourse=k,i.scrollToInstructor=x,i.getCourseRefundUrl=T,i.supportHomeUrl=y["default"].toSupportHome(),i.isInstructor=o.isInstructor,i.isFreePreviewer=o.isFreePreviewer,i.getCertificateStatusClass=B,i.autoOpenReviewPopup=n.params.show_review_popup,i.isGiftCourseEnabled=C["default"].features.gift_course,i.currentStateName=n.current.data.tabName,i.navbarCollapsed=!0,i.$on("$stateChangeStart",function(e,t){i.currentStateName=t.data?t.data.tabName:""}),i.showReminders=m.getValue("show_reminders"),i.reportAbusePopup={enabled:C["default"].features.report_abuse,open:!1},S["default"].trackPageview(a.analytics_tracking_code,"instructor",a.url+"course-dashboard"),t.$broadcast("contentready"),i.showReminders&&f.get({courseId:a.id},function(e){var t=e.results[0];t||(i.showRemindersTip=!0)});var M=!1;i.dismissRemindersTip=function(e,t){i.showRemindersTip=!1,e&&(e.preventDefault(),e.stopPropagation()),t&&i.openRemindersModal()},i.openRemindersModal=function(){A["default"].track("coursetaking","Reminder","open-modal"),i.showRemindersTip=!1,c.open({templateUrl:q["default"],controller:"RemindersModalController",windowClass:"reminders-modal"})},n.params.show_reminders_popup&&(A["default"].track("coursetaking","Reminder","email-clicked"),i.openRemindersModal()),t.$on("courseEmailSettingChanged",function(e,t){A["default"].track("coursetaking","Dashboard",t.value)})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s);n(116),n(509);var a=n(605),l=i(a),c=n(193),u=i(c),d=n(168),h=i(d),p=n(511),f=i(p),m=n(12),g=i(m),v=n(34),y=i(v),b=n(498),w=i(b),_=n(14),C=i(_),k=n(501),A=i(k),E=n(64),S=i(E),x=n(570),T=i(x),F=n(514),$=i(F),D=n(556),B=i(D),M=n(557),P=i(M),L=n(1234),j=i(L),O=n(1235),R=i(O),I=n(1239),q=i(I),N=n(522),U=i(N),z=o["default"].module("apps.courseTakingV4.dashboard.controller",["ui.router",g["default"].name,B["default"].name,U["default"].name,$["default"].name,u["default"].name,l["default"].name,h["default"].name,f["default"].name,T["default"].name,P["default"].name]).controller("DashboardController",r);r.$inject=["$rootScope","$state","$scope","$timeout","CurriculumItem","ViewMode","CurrentCourse","Curriculum","$modal","gettextCatalog","$anchorScroll","$location","AnimatedStateChangeService","UserCourseReminders","ExperimentService","udConfirm"],t["default"]=z}).call(t,n(3))},956:function(e,t,n){var i,r;i=[n(2),n(514),n(557),n(14),n(583),n(168),n(171),n(580),n(543),n(23),n(559)],r=function(e,t,n,i,r,s,o,a,l,c,u){function d(e,t,n,r,s,o,a,l){if(e.course=t,e.features=i.features,e.questions=s.init(),e.questions.loadQuestions(),e.loadingAnnouncements=!0,r.get({is_promotional:!1,courseId:e.course.id,"fields[course_announcement]":"@min,user","fields[user]":"@min,image_50x50,url"}).$promise.then(function(t){e.loadingAnnouncements=!1,e.announcements=t.results}),o.getValue("course_taking_discovery")){var c=e.course;e.recommendationUnits=[{action:"enroll",title:a.getString(a.strings.recommendationSingleEnrollmentBasedTitle,{title:c.title}),trackingContext:l.courseTakingContext,trackingSubcontext:l.courseTakingOverview,sourcePage:"overview",source:c,exclude:[c],afterLoad:function(){}}]}var u=e.$watch("course.visible_instructors",function(e){e&&(e.forEach(function(e){e.socialProfiles=[{iconType:"fa-twitter",url:e.url_twitter},{iconType:"fa-google-plus",url:e.url_google},{iconType:"fa-facebook",url:e.url_facebook},{iconType:"fa-linkedin",url:e.url_linkedin},{iconType:"fa-youtube",url:e.url_youtube},{iconType:"fa-globe",url:e.url_personal_website}]}),u())});n.createiOSLinkWithDesktop({data:{courseId:e.course.id}}).then(function(t){e.iosLink=t}),n.createAndroidLinkWithDesktop({data:{courseId:e.course.id}}).then(function(t){e.androidLink=t})}var h=e.module("apps.courseTakingV4.overview.controller",[t.name,n.name,r.name,s.name,o.name,a["default"].name,l.name,c["default"].name,u.name]).controller("OverviewController",d);return d.$inject=["$scope","CurrentCourse","branchMetricsService","CourseAnnouncement","QuestionAnswer","ExperimentService","shoppingCartConfig","FunnelTrackingConstants"],h}.apply(t,i),!(void 0!==r&&(e.exports=r))},957:function(e,t,n){var i,r;i=[n(2),n(543)],r=function(e){function t(e,t,n){e.questions=n.questions||n.init(),n.loadQuestion(t.params.id),e.onDelete=e.back=function(){e.questions.isDetailsOpen=!1,t.go("base.dashboard.questions")}}var n=e.module("apps.courseTakingV4.dashboard.questionDetailsController",[]).controller("QuestionDetailsController",t);return t.$inject=["$scope","$state","QuestionAnswer"],n}.apply(t,i),!(void 0!==r&&(e.exports=r))},958:function(e,t,n){var i,r;i=[n(2),n(12),n(14),n(16),n(543),n(522),n(710),n(168),n(501)],r=function(e,t,n,i,r,s,o,a,l){function c(t,n,r,s,o,a){function c(e,n){var i=t.questions.params;i[e]=i[e]===n?null:n;var r="dashboard.tab.filter-".concat(null!==i[e]?e:"undo-".concat(e));l.track("coursetaking","question",r),delete t.questions.params.search,t.reloadQuestions()}t.me=e.copy(i),t.me.canEditCourse=a.canEditCourse,t.questions=s.questions||s.init(),t.questions.isDetailsOpen=!1;var u=parseInt(n.params.num_replies,10);t.questions.params.num_replies=u>=0&&u<1/0?u:null,t.editorState={title:t.questions.params.search||"",initialize:!0,isEditing:!1,resetValue:!1,submitDisabled:!1,redactorTheme:"simple-image-link",body:"",formError:new o},t.orderOptions=[{name:r.getString("Sort by popular"),value:"-popularity,-created"},{name:r.getString("Sort by recency"),value:"-created,-last_activity"}],t.reloadQuestions=function(){t.questions.params.page=1,t.questions.loadQuestions()},t.sortQuestions=function(){t.reloadQuestions(),l.track("coursetaking","question","dashboard.tab.sort-by-"+t.questions.params.ordering)},t.filterFollowedQuestions=function(){c("followed",t.me.id)},t.filterRespondedQuestions=function(){c("num_replies",0)},t.onSelect=function(e){t.questions.onSelect(e),n.go("base.dashboard.question-details",{id:e.id})}}var u=e.module("apps.courseTakingV4.dashboard.questionsController",[t.name,r.name,s.name,o["default"].name,a.name]).controller("QuestionsController",c);return c.$inject=["$scope","$state","gettextCatalog","QuestionAnswer","FormError","ViewMode"],u}.apply(t,i),!(void 0!==r&&(e.exports=r))},959:function(e,t,n){var i,r;(function(s){"use strict";i=[n(2),n(46),n(514),n(65),n(501),n(168),n(116)],r=function(e,t,n,i,r,o){function a(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function l(e,t){var n=e<12?"AM":"PM",i=e>12?e-12:e;return i=0==i?12:i,i+":"+a(t,2)+" "+n}function c(e,t){var n=[];return t.forEach(function(e,t){e&&n.push(t)}),[e.minute,e.hour,"*","*",n.join(",")].join(" ")}function u(t,n,o,a,u){function d(e,t){return{hour:e,minute:t,display:n.getString(l(e,t))}}function h(e){var t=e.split(" "),n=t[4].split(","),i=[],r=parseInt(t[1],10),s=parseInt(t[0],10);return n.forEach(function(e){i[e]=!0}),{setDays:i,selectedTime:d(r,s)}}t.setDays=[],t.loading=!0,t.tz=i.tz.guess();var p;u.get({courseId:o.id}).$promise.then(function(n){p=n.results[0],p&&e.extend(t,h(p.trigger_crontab))})["finally"](function(){t.loading=!1}),t.dayLabels=[],t.dayLabels[0]=n.getString("Su"),t.dayLabels[1]=n.getString("M"),t.dayLabels[2]=n.getString("Tu"),t.dayLabels[3]=n.getString("W"),t.dayLabels[4]=n.getString("Th"),t.dayLabels[5]=n.getString("F"),t.dayLabels[6]=n.getString("Sa"),t.timeOptions=[];for(var f=0;f<24;++f)t.timeOptions.push(d(f,0)),t.timeOptions.push(d(f,30)),9==f&&(t.selectedTime=t.timeOptions.slice(-2)[0]);t.setTime=function(e){t.selectedTime=e},t.$watch("selectedTime",function(e,t){var n=s(".dropdown.time .dropdown-menu");n.css("display","block"),n.children().each(function(t,n){s(n).find("span").text()===e.display&&n.scrollIntoView()}),n.css("display","")}),t.$watch("setDays",function(e,n){t.showDeleteAction=t.setDays.some(function(e){return e})},!0),t.saveReminder=function(){var e={courseId:o.id};if(t.setDays.some(function(e){return e})){var n;p?(r.track("coursetaking","Reminder","update"),n=u.update,e.reminderId=p.id):(r.track("coursetaking","Reminder","save"),n=u.save,p={}),p.trigger_crontab=c(t.selectedTime,t.setDays),p.time_zone=t.tz,n(e,p)}else p&&(r.track("coursetaking","Reminder","delete"),e.reminderId=p.id,u["delete"](e));a.close()},t.deleteReminder=function(){t.setDays=[],t.saveReminder()}}var d=e.module("apps.courseTakingV4.remindersModal.controller",[t.name,n.name,o.name]).controller("RemindersModalController",u);return u.$inject=["$scope","gettextCatalog","CurrentCourse","$modalInstance","UserCourseReminders"],d}.apply(t,i),!(void 0!==r&&(e.exports=r))}).call(t,n(3))},960:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){function n(n){var i=function(){var t={};if(!e.location.search)return t;for(var n=e.location.search.replace(/(^\?)/,"").split("&"),i=0;i<n.length;i++){var r=n[i].split("=");t[r[0]]=r[1]}return t}(),r=o["default"].extend({"fields[course]":"checkout_url,discount_price,price"},i);t.loadExtraData(r),n.course=t,n.closePreview=function(){t.endPreview().then(function(){n.reloadPage()})},n.reloadPage=function(){e.location.reload()}}return{link:n,replace:!0,restrict:"E",templateUrl:u["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(514),l=i(a),c=n(1240),u=i(c),d=o["default"].module("apps.courseTakingV4.freePreview.freePreviewHeaderDirective",[l["default"].name]).directive("freePreviewHeader",r);r.$inject=["$window","CurrentCourse"],t["default"]=d},961:function(e,t,n){var i,r;i=[n(2),n(960)],r=function(e,t){return e.module("apps.courseTakingV4.freePreview",[t["default"].name])}.apply(t,i),!(void 0!==r&&(e.exports=r))},962:function(e,t,n){var i,r;i=[n(2),n(509),n(16),n(556),n(570),n(1138),n(175),n(731)],r=function(e,t,n,i,r,s,o,a){function l(e,t,i,r,s,o,a,l){function c(e,t){o.go("base.taking."+e.type,{id:e.id},t)}function u(e){var n=e.data.last_watched_second,i="base.taking."+e.type+(n?".start":"");return t.href(i,{id:e.id,start:n})}function d(){e.countdown.toggle();var t=e.countdown.isRunning?"on":"off",n={setting:"interstitialAutoNext",value:t};l.save(n)}e.sections=r.sections,e.currentCurriculumItem=r.getCurriculumItem(i.type,i.id),e.nextCurriculumItem=r.getNextCurriculumItem(e.currentCurriculumItem),r.setCurrentItem(e.currentCurriculumItem),e.currentSection=r.currentSection,e.goToItem=c,e.getItemLink=u,e.autoNextTimerOnChange=d,e.animationType={next:o.ANIMATION_TYPE.next,prev:o.ANIMATION_TYPE.prev},a(function(){e.currentItemClass="current"},1e3);var h=null;e.countdown=s.getInstance(5e3,1e3),e.countdown.onComplete(function(){c(e.nextCurriculumItem,e.animationType.next)}),"off"!==n.settings.interstitialAutoNext&&e.countdown.start(),e.$on("$destroy",function(){e.countdown.stop()}),e.$on("curriculumnavigationopened",function(){h=e.countdown.isRunning,e.countdown.stop()}),e.$on("curriculumnavigationclosed",function(){h&&e.countdown.start()})}var c=e.module("apps.courseTakingV4.interstitial.interstitialV2Controller",["ngAnimate",i.name,r.name,s.name,o.name,a["default"].name]).controller("InterstitialV2Controller",l);return l.$inject=["$scope","$state","$stateParams","Curriculum","simpleCountdownFactory","AnimatedStateChangeService","$timeout","UserSettings"],c}.apply(t,i),!(void 0!==r&&(e.exports=r))},963:function(e,t,n){var i,r;i=[n(2),n(962)],r=function(e,t){var n=e.module("apps.courseTakingV4.interstitial",[t.name]);return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},964:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"E",scope:{},controller:s,templateUrl:v["default"]}}function s(e,t,n,i,r){e.me=m["default"],e.hideTooltip=function(){var t={setting:"course_taking_v4_new_features_tips",value:"off"};i.save(t).$promise.then(function(t){e.me.settings.course_taking_v4_new_features_tips=t.value})},e.openModal=function(){p["default"].track("coursetaking","learntips","open-modal"),e.hideTooltip(),t.$broadcast("modalopened"),n.open({scope:e,windowClass:"learntips-modal",controller:"learntipsModalController",templateUrl:b["default"]}).result["finally"](function(){p["default"].track("coursetaking","learntips","close-modal"),t.$broadcast("modalclosed")})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o);n(116);var l=n(175),c=i(l),u=n(12),d=i(u),h=n(501),p=i(h),f=n(16),m=i(f),g=n(1242),v=i(g),y=n(1243),b=i(y),w=n(965),_=i(w),C=a["default"].module("apps.courseTakingV4.learnTipsDirective",["ui.bootstrap",d["default"].name,c["default"].name,_["default"].name]).directive("learntips",r);s.$inject=["$scope","$rootScope","$modal","UserSettings","NG_APPS_URL"],t["default"]=C},965:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){e.learntipsIntroVideoUrl=t.learntipsIntroVideoUrl,e.tipModal={},e.tipIndex=0,e.tipPartials=[g["default"],C["default"],y["default"],w["default"],A["default"]],u["default"].brand.is_discussions_enabled&&n.features.discussions_view||e.tipPartials.splice(e.tipPartials.indexOf(A["default"]),1),e.nextTip=function(){h["default"].track("coursetaking","learntips","view-tip"),e.tipIndex=(e.tipIndex+1)%e.tipPartials.length}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(12),l=i(a),c=n(14),u=i(c),d=n(501),h=i(d),p=n(514),f=i(p),m=n(1244),g=i(m),v=n(1245),y=i(v),b=n(1246),w=i(b),_=n(1247),C=i(_),k=n(1248),A=i(k),E=o["default"].module("apps.courseTakingV4.learntipsModalController",[l["default"].name,f["default"].name]).controller("learntipsModalController",r);r.$inject=["$scope","$rootScope","CurrentCourse"],t["default"]=E},966:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return{scope:{lecture:"=",resources:"="},restrict:"E",link:function(n,i){function r(e){var t=o["default"].element("<div>"+e+"</div>");return t.find("a").attr("target","_blank"),t.find("img").attr("align","middle"),t.html()}function s(){t.ensureCurriculumLoaded().then(function(){var e={position:1,total:1,context:{type:"Article"}};t.updateLectureProgress(n.lecture,e),t.markLectureAsCompleted(n.lecture)})}n.content=r(n.lecture.view_html),n.completeLecture=s,t.ensureCurriculumLoaded().then(function(){var e=t.currentSection.objectIndex,i=t.getCurriculumItem("lecture",n.lecture.id);n.curriculumItemEnum=i.getTranslatedEnum(e)}),n.$emit("contentready");var a=e(s,1e4);n.$on("$destroy",function(){e.cancel(a)})},templateUrl:u["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(12),l=i(a),c=n(1249),u=i(c),d=n(556),h=i(d),p=n(649),f=i(p),m=o["default"].module("apps.courseTakingV4.lectureView.articleViewerDirective",[l["default"].name,h["default"].name,f["default"].name]).directive("articleViewer",r);r.$inject=["$timeout","Curriculum"],t["default"]=m},967:function(e,t,n){var i,r;i=[n(2),n(116),n(509),n(556),n(966),n(969),n(647),n(649),n(835),n(176),n(522),n(650),n(570),n(834),n(501),n(964),n(64),n(731)],r=function(e,t,n,i,r,s,o,a,l,c,u,d,h,p,f,m,g,v){function y(e,t,n,i,r,s,o,a,l){function c(){if(g.trackPageview(l.analytics_tracking_code,"instructor",l.url+"course-taking/lecture/"+e.lecture.id),e.lecture.asset){var t=e.lecture.asset.asset_type.toLowerCase();"videomashup"===t&&(t="mashup"),t="lecture "+t+"-view",f.track("coursetaking","Lecture",t)}}function u(t){r.ensureCurriculumLoaded().then(function(){r.updateLectureProgress(e.lecture,t)})}function d(){var e=o,i=null;s.canEditCourse&&(e=a),s.isPreviewingAsSubscriber&&(i="student_v4");var r=e.get({id:n.id,courseId:l.id,"fields[lecture]":"@default,view_html,course","fields[course]":"id,is_paid,url","fields[asset]":"@min,download_urls,external_url,slide_urls",page_config:"ct_v4",instructorPreviewMode:i}).$promise.then(h)["catch"](function(){return t.go("base.dashboard.content")});return r}function h(e){if(e.asset&&e.asset.download_urls){var t=e.asset.download_urls[e.asset.asset_type];t&&t.length>0&&(e.download_url=t[0].file)}return e.asset&&"Video"===e.asset.asset_type&&e.asset.external_url&&(e.asset.asset_type="ImportContent"),e}d().then(function(t){return e.lecture=t,e.updateProgress=u,e.isFreePreviewer=s.isFreePreviewer,e.showResourcesAvailableTooltip=!1,e.lecture.asset?(e.lectureViewClass="lecture-view--"+e.lecture.asset.asset_type.toLowerCase(),["Video","VideoMashup","Audio"].indexOf(e.lecture.asset.asset_type)!==-1?e.userActivityCheckEnabled=!0:(e.lectureViewClass+=" theme-white",e.userActivityCheckEnabled=!1)):(e.lectureViewClass="lecture-view theme-white",e.userActivityCheckEnabled=!1),f.setCurriculumObject("Lecture",e.lecture.id),c(),r.ensureCurriculumLoaded()}).then(function(){e.curriculumItem=r.getCurriculumItem("lecture",e.lecture.id),e.lecture.asset&&"ImportContent"===e.lecture.asset.asset_type&&(e.curriculumItem.assetType="ImportContent"),r.setCurrentItem(e.curriculumItem),e.sections=r.sections,e.currentSection=r.currentSection,i.tooltip(function(){e.showResourcesAvailableTooltip=e.curriculumItem.supplementaryAssets.length>0},function(){e.showResourcesAvailableTooltip=!1}),r.markLectureAsViewed(e.curriculumItem)}),e.onPlayerEnded=function(t){e.$emit("gotointerstitial",{type:"lecture",id:e.lecture.id,isAutoPlay:t,showInterstitial:!0})},e.$on("curriculumnavigationopened",function(e,t){var n="video.open-curriculum"+(t.isHotkeyPressed?".hotkey":"");f.track("coursetaking","content",n)}),e.$on("curriculumnavigationclosed",function(e,t){var n="video.close-curriculum"+(t.isHotkeyPressed?".hotkey":"");f.track("coursetaking","content",n)}),e.$on("questionspanelopened",function(){e.$broadcast("pausecontent"),e.questionsPanelOpen=!0}),e.$on("questionspanelclosed",function(){e.$broadcast("playcontent"),e.questionsPanelOpen=!1}),e.$on("$stateChangeSuccess",function(e,t,n,i){i.name||f.track("coursetaking","Lecture","direct-visit")})}var b=e.module("apps.courseTakingV4.lectureViewController",["ui.bootstrap","ui.router",c.name,i.name,r["default"].name,s["default"].name,o.name,a.name,l["default"].name,u.name,d.name,h.name,p["default"].name,m["default"].name,v["default"].name]).controller("LectureViewController",y);return y.$inject=["$scope","$state","$stateParams","AnimatedStateChangeService","Curriculum","ViewMode","SubscribedLecture","TaughtLecture","CurrentCourse"],b}.apply(t,i),!(void 0!==r&&(e.exports=r))},968:function(e,t,n){var i,r;i=[n(2),n(967),n(961),n(970)],r=function(e,t,n,i){return e.module("apps.courseTakingV4.lectureView",[t.name,n.name,i["default"].name])}.apply(t,i),!(void 0!==r&&(e.exports=r));
},969:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{scope:{slideUrls:"=",updateProgress:"="},restrict:"E",transclude:!0,templateUrl:h["default"],link:function(t,n){function i(){e.toggleFullscreen(document.body)}function r(){t.prevDisabled()||o(t.currSlide-1)}function s(){t.nextDisabled()||o(t.currSlide+1)}function o(e){if(e!==t.currSlide&&!c){c=!0;var i,r=n[0].getElementsByClassName("slide--center"),s=r[t.currSlide-1],o=r[e-1];if(e<t.currSlide)for(s.classList.add("slide--right"),o.classList.remove("slide--left"),i=e;i<t.currSlide-1;i++)r[i].classList.add("slide--right"),r[i].classList.remove("slide--left");else for(s.classList.add("slide--left"),o.classList.remove("slide--right"),i=t.currSlide;i<e-1;i++)r[i].classList.add("slide--left"),r[i].classList.remove("slide--right");t.currSlide=e,a(),c=!1}}function a(){if(t.updateProgress){var e={position:t.currSlide,total:t.numSlides,context:{type:"Presentation"}};t.updateProgress(e)}}var l,c=!1,u={70:i,37:r,39:s};t.currSlide=1,t.numSlides=t.slideUrls.length,t.showDefaultRightControls=0===n.find("ng-transclude").children().length,l=100/t.numSlides,t.progressUnitWidths=function(){for(var e=[],n=1;n<t.numSlides;n++)e.push(l+"%");var i=100-l*(t.numSlides-1);return e.push(i+"%"),e}(),t.currentProgressWidth=function(){var e=100;return t.currSlide<t.numSlides&&(e=l*t.currSlide),e+"%"},t.isFullscreen=e.isFullscreen.bind(e),t.toggleFullscreen=i,t.prevDisabled=function(){return 1===t.currSlide||c},t.nextDisabled=function(){return t.currSlide>=t.numSlides||c},t.prev=r,t.next=s,t.skipTo=o,t.hotkey=function(e){var t=u[e.keyCode];t&&t()},t.$emit("contentready"),n[0].getElementsByClassName("container--presentation")[0].focus(),a()}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(716),l=i(a),c=n(12),u=i(c),d=n(1252),h=i(d),p=o["default"].module("apps.courseTakingV4.lectureView.presentationPlayerDirective",[u["default"].name,l["default"].name]).directive("presentationPlayer",r);r.$inject=["Fullscreen"],t["default"]=p},970:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){function e(e,t,n,i){function r(e,t,n){return a(e,!0)["finally"](function(){h(t,n)})}function s(e,t,n){return h(t,n),a(e,!1)}function a(t,i){if(!e.handling)return e.handling=!0,t.preventDefault(),n.ensureCurriculumLoaded().then(function(){return n.markLectureAsCompleted(e.lecture,!!i)})["finally"](function(){e.handling=!1})}function l(n){var i={"e-book":t.getString("Download PDF"),audio:t.getString("Download Audio"),file:t.getString("Download File"),iframe:t.getString("Open in New Window"),importcontent:t.getString("Open in New Window"),upcoming:t.getString("Mark as Complete")};e.actionLabel=i[n]||""}function c(t){e.actionHref="",e.actionTarget="_self",["e-book","audio","file"].indexOf(t)!==-1?(e.actionHandler=r,e.actionHref=e.lecture.download_url):"upcoming"===t?e.actionHandler=a:e.lecture.asset&&e.lecture.asset.external_url&&(e.actionHandler=s,e.actionHref=e.lecture.asset.external_url,e.actionTarget="_blank")}function u(n){if(!e.lecture.asset&&i.isInstructor)e.actionInfo=t.getString("Attention: This part of the course has nothing to show right now.");else if("upcoming"!==n||i.isInstructor)if(e.lecture.description)e.actionInfo="";else{var r={iframe:t.getString("Visit and review the website provided by your instructor for this lecture."),importcontent:t.getString("Visit and review the website provided by your instructor for this lecture."),"e-book":t.getString("Download and review the PDF provided by your instructor for this lecture."),audio:t.getString("Download and review the audio file provided by your instructor for this lecture."),file:t.getString("Download and review the file provided by your instructor for this lecture.")};e.actionInfo=r[n]||""}else e.actionInfo=t.getString("The instructor has not added content to this lecture.")}function d(){var t="";e.lecture.asset&&(t=e.lecture.asset.asset_type.toLowerCase()),l(t),c(t),u(t)}function h(e,t){var n=o["default"].element("<a/>");n.css({display:"none"}),o["default"].element(document.body).append(n),n.attr({href:e,target:t})[0].click(),n.remove()}n.ensureCurriculumLoaded().then(function(){var t=n.getSectionOfCurriculumItem("lecture",e.lecture.id).objectIndex;e.curriculumItem=n.getCurriculumItem("lecture",e.lecture.id),e.curriculumItemEnum=e.curriculumItem.getTranslatedEnum(t)}),d(),e.$emit("contentready"),e.handling=!1}return e.$inject=["$scope","gettextCatalog","Curriculum","ViewMode"],{restrict:"E",replace:!0,templateUrl:g["default"],scope:{course:"=",lecture:"=",resources:"="},controller:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(12),l=i(a),c=n(570),u=i(c),d=n(556),h=i(d),p=n(833),f=i(p),m=n(1253),g=i(m),v=n(649),y=i(v),b=n(522),w=i(b),_=o["default"].module("apps.courseTakingV4.naScreen",[l["default"].name,u["default"].name,f["default"].name,h["default"].name,w["default"].name,y["default"].name]).directive("naScreen",r);t["default"]=_},971:function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"E",controller:s,templateUrl:v["default"]}}function s(t,n,i,r){function s(n){n.preventDefault(),t.editorState.resetValue=!0,t.editorState.isEditing=!0,t.showConfirmationBox=!1,setTimeout(function(){e("question-body-form input").focus(),""!=t.editorState.title&&e("question-body-form .redactor-editor").focus()},100)}t.isInstructor=r.isInstructor,t.replyCreateEnabled=i.features&&i.features.discussions_replies_create,t.supportUrl=d["default"].toSupportContact(),t.addQuestion=function(t){s(t);var n;n=e(t.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.add-question":"dashboard.tab.detail-view.add-question",p["default"].track("coursetaking","question",n)},t.editQuestion=function(t){s(t);var n;n=e(t.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.edit-question":"dashboard.tab.detail-view.edit-question",p["default"].track("coursetaking","question",n)},t.submitQuestion=function(i){if(!t.editorState.submitDisabled){t.editorState.submitDisabled=!0,t.editorState.resetValue=!1;var r=t.editorState.formError.ignoreWarnings(t.editorState.body,t.editorState.prevFormValue);t.editorState.prevFormValue=t.editorState.body,n.save(t.questions.params,{title:t.editorState.title,body:t.editorState.body,lecture:t.lecture?t.lecture.id:null,quiz:t.quiz?t.quiz.id:null,ignore_warnings:r}).$promise.then(function(n){t.questions.showNew=!0,t.questions.params.search=null,t.questions.count++,t.questions.listData.unshift(n),t.questions.data=t.questions.listData,t.editorState.isEditing=!1,t.editorState.title="",t.editorState.resetValue=!0,t.editorState.formError.reset();var r;r=e(i.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.submit-question":"dashboard.tab.detail-view.submit-question",p["default"].track("coursetaking","question",r)},function(e){t.editorState.formError.processResponseError(e)})["finally"](function(){t.editorState.submitDisabled=!1})}}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),l=n(529),c=i(l),u=n(34),d=i(u);n(14);var h=n(501),p=i(h),f=n(514),m=i(f),g=n(1254),v=i(g),y=n(522),b=i(y),w=a["default"].module("apps.courseTakingV4.questionAnswer.questionBodyFormDirective",[c["default"].name,m["default"].name,b["default"].name]).directive("questionBodyForm",r);s.$inject=["$scope","CourseQuestion","CurrentCourse","ViewMode"],t["default"]=w}).call(t,n(3))},972:function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"E",scope:{questions:"=",showResponses:"=?",onSelect:"&"},controller:s,templateUrl:v["default"]}}function s(t){t.questions.initialized||t.questions.loading||t.questions.loadQuestions(),t.closeConfirmationBox=function(e){e.preventDefault(),e.stopPropagation(),t.questions.showNew=!1},t.openDetails=function(n,i){t.questions.showNew=!1,t.onSelect()(i);var r;r=e(n.currentTarget).closest(".questions-panel").length?"video.question-panel.open-detail":"dashboard.tab.open-detail",m["default"].track("coursetaking","question",r,null,null,null,{objectType:"question",objectId:i.id})},t.loadMore=function(){t.questions.params.page++,t.questions.loadQuestions()},t.showRaiseHand=function(){return t.questions.initialized&&!t.questions.loading&&(!t.questions.params.search&&0===t.questions.count||t.questions.params.search&&0===t.questions.searchCount)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),l=n(607),c=i(l),u=n(521),d=i(u),h=n(12),p=i(h),f=n(501),m=i(f),g=n(1255),v=i(g),y=a["default"].module("apps.courseTakingV4.questionAnswer.questionsListDirective",[c["default"].name,p["default"].name,d["default"].name]).directive("questionList",r);s.$inject=["$scope"],t["default"]=y}).call(t,n(3))},973:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"E",controller:s,templateUrl:v["default"]}}function s(e,t,n){e.createEnabled=n.features.discussions_create,e.supportUrl=p["default"].toSupportContact(),e.searchQuestions=c["default"].debounce(function(){t.questions.searchCount=0,t.questions.params.search=e.editorState.title,t.questions.params.page=1,t.questions.loadQuestions()},300)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),l=n(11),c=i(l),u=n(666),d=i(u),h=n(34),p=i(h),f=n(514),m=i(f),g=n(1256),v=i(g),y=a["default"].module("apps.courseTakingV4.questionAnswer.questionTitleFormDirective",[d["default"].name,m["default"].name]).directive("questionTitleForm",r);s.$inject=["$scope","QuestionAnswer","CurrentCourse"],t["default"]=y},974:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{restrict:"E",scope:{file:"=",updateFile:"=",updateCursorPosition:"=",registerResizeHandler:"="},templateUrl:u["default"],link:function(t,n){function i(e){return(e.file_name||"").split(".").pop()}function r(n){var i=n.getCursorPosition();e(function(){t.updateCursorPosition(i.row+1,i.column+1)})}function s(){var n=l["default"].edit("editor");return n.setTheme("ace/theme/IDLE"),n.setHighlightActiveLine(!1),n.setHighlightGutterLine(!0),n.setShowPrintMargin(!1),n.setDisplayIndentGuides(!0),n.setFontSize("12px"),n.commands.removeCommand("gotoline"),n.renderer.setScrollMargin(20,20),n.$blockScrolling=1/0,n.on("change",function(){e(function(){t.updateFile(t.file,n.getValue())})}),n}function o(e,t){var n=a[t.file_name];if(n)return e.setSession(n),void n.setValue(t.content);var s=c[i(t)];n=a[t.file_name]=new l["default"].EditSession(t.content,"ace/mode/"+s),n.setUndoManager(new l["default"].UndoManager),n.setUseSoftTabs(!0),n.setUseWrapMode(!0),n.getSelection().on("changeCursor",r.bind(null,e)),e.setSession(n),r(e)}var a={},c={c:"c_cpp",clj:"clojure",cpp:"c_cpp",cs:"csharp",css:"css",erl:"erlang",htm:"html",html:"html",hs:"haskell",java:"java",js:"javascript",php:"php",pl:"perl",py:"python",r:"r",rb:"ruby",sc:"scala",scala:"scala"},u=s();t.$watch("file",function(e){e&&o(u,e)}),t.registerResizeHandler(function(){u.resize()})}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(552),l=i(a),c=n(1259),u=i(c);t["default"]=o["default"].module("apps.courseTakingV4.quizView.codingExerciseEditorDirective",[]).directive("codingExerciseEditor",["$timeout",r])},975:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{restrict:"E",scope:{line:"=",column:"=",reset:"=",savingStatus:"="},templateUrl:l["default"],link:function(t,n){t.openResetModal=function(){e.open({scope:t,windowClass:"coding-exercise__reset-modal",templateUrl:u["default"]})}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(1258),l=i(a),c=n(1263),u=i(c);t["default"]=o["default"].module("apps.courseTakingV4.quizView.codingExerciseEditorFooterDirective",[]).directive("codingExerciseEditorFooter",["$modal",r])},976:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{restrict:"E",scope:{files:"=",activeFile:"=",selectFile:"="},templateUrl:l["default"],link:function(e,t){}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(1260),l=i(a);t["default"]=o["default"].module("apps.courseTakingV4.quizView.codingExerciseFilesDirective",[]).directive("codingExerciseFiles",["NG_APPS_URL",r])},977:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{restrict:"E",scope:{},templateUrl:f["default"],link:function(t,n){t.me=h["default"],t.hideTooltip=function(){var n={setting:"coding_exercise_hint",value:"off"};e.save(n).$promise.then(function(e){t.me.settings.coding_exercise_hint=e.value})}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(175),l=i(a),c=n(12),u=i(c),d=n(16),h=i(d),p=n(1261),f=i(p);t["default"]=o["default"].module("apps.courseTakingV4.quizView.quizCodingExerciseHintDirective",[u["default"].name,l["default"].name]).directive("codingExerciseHint",["UserSettings",r])},978:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{restrict:"E",scope:{output:"=",solutionPassed:"=",error:"=",previewFiles:"=",checkedSolutionOnce:"=",showPreview:"="},templateUrl:u["default"],link:function(t,n){l["default"].alias="window.runnerWindow.protect";var i=function(e){function n(e){return(e.file_name||"").split(".").pop()}function i(e){return t.previewFiles.filter(function(t){return n(t)===e}).map(function(e){return e.content}).join("\n")}var r=t.previewFiles.filter(function(e){var t=n(e);return"html"===t||"htm"===t})[0];if(r){var s=document.createElement("html");s.innerHTML=r.content;var o=s.getElementsByTagName("head")[0];o||(o=document.createElement("head"),s.appendChild(o));var a=document.createElement("style");a.innerHTML=i("css"),o.appendChild(a);var c=s.getElementsByTagName("body")[0];c||(c=document.createElement("body"),s.appendChild(c));var u=document.createElement("script");u.type="text/javascript";var d=i("js");if(e)try{d=(0,l["default"])(d)}catch(h){}return u.innerHTML=d,c.appendChild(u),s.outerHTML}},r=1e3,s=null,o=function(){s&&e.cancel(s),s=e(function(){var e=n.find("iframe")[0];e&&e.contentWindow.postMessage(JSON.stringify({type:"render",data:{source:i(!0),options:{requested:!0}}}),"*")},r)};e(function(){var e=n.find("iframe")[0];e&&(e.onload=o)}),t.$watch(function(){return i(!1)},o)}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(1411),l=i(a),c=n(1262),u=i(c);t["default"]=o["default"].module("apps.courseTakingV4.quizView.codingExerciseOutputDirective",[]).directive("codingExerciseOutput",["$timeout",r])},979:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{restrict:"E",scope:{instructions:"=",title:"="},templateUrl:u["default"],link:function(e,t){}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(715),l=i(a),c=n(1264),u=i(c);t["default"]=o["default"].module("apps.courseTakingV4.quizView.codingExerciseStatementDirective",[l["default"].name]).directive("codingExerciseStatement",[r])},980:function(e,t,n){var i,r;i=[n(2),n(989)],r=function(e,t){return e.module("apps.courseTakingV4.quizView",[t.name])}.apply(t,i),!(void 0!==r&&(e.exports=r))},981:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i){return{restrict:"E",scope:{quiz:"=",question:"=",quizAttempt:"=",studentFiles:"="},templateUrl:$["default"],controller:["$scope",function(r){r.evaluator=i(),r.checkSolution=function(){r.evaluator.evaluate({request:function(e){var i={files:r.studentFiles};return t.answeredQuestion(r.quizAttempt.id,r.question.id,i,0),n.saveCodingExercise(r.quizAttempt.id,r.question.id,i,e).$promise},error:function(){l["default"].increment("coding_exercise",{error:"check-solution"}),r.checkedSolutionOnce=!0},success:function(){r.checkedSolutionOnce=!0}})},r.$on("$destroy",function(){r.evaluator.destroy()});var s=function(){function t(e){var t={files:r.studentFiles},i={pusherChannel:null};n.saveCodingExercise(r.quizAttempt.id,r.question.id,t,i).$promise.then(function(t){e("success")},function(t){e("error")})}function i(){return o=null,"waiting"===r.savingStatus?void(l=!0):(r.savingStatus="waiting",void t(function(e){r.savingStatus=e,l&&(l=!1,s())}))}var o=null,a=2e3,l=!1;return function(){o&&e.cancel(o),o=e(i,a)}}(),a=function(e){return(e.file_name||"").split(".").pop()};r.selectFile=function(e){r.activeFile=e},r.reset=function(){r.studentFiles=o["default"].copy(r.question.prompt.initial_files),r.selectFile(r.studentFiles[0]),s()},r.updateCursorPosition=function(e,t){r.currentLine=e,r.currentColumn=t},r.updateFile=function(e,t){e.content!==t&&(e.content=t,s())},r.$watch("studentFiles",function(e){e&&(e.length||(r.studentFiles=o["default"].copy(r.question.prompt.initial_files)),r.selectFile(e[0]),r.showPreview="html"===r.question.prompt.language.toLowerCase()&&e.reduce(function(e,t){return e||"html"===a(t)||"htm"===a(t)},!1))}),r.savingStatus="success",r.resizeHandlers=[],r.registerResizeHandler=function(e){r.resizeHandlers.push(e)}}],link:function(t,n){!function(){var e=function(){t.resizeHandlers.forEach(function(e){e()})},i=function(){n.find("coding-exercise-output").find("iframe").css("pointer-events","none")},r=function(){n.find("coding-exercise-output").find("iframe").css("pointer-events","initial")};n.find("coding-exercise-statement").resizable({handles:"s",resize:e,start:i,stop:r}),n.find("coding-exercise-files").resizable({handles:"e",resize:e}),t.makeOutputPaneResizable=function(){n.find("coding-exercise-output").resizable({handles:"w",resize:e,start:i,stop:r})}}(),e(function(){var e=n.find("coding-exercise-statement");e.height(e.prop("scrollHeight"))},1e3),t.$on("questionspanelopened",function(){t.questionsPanelOpen=!0}),t.$on("questionspanelclosed",function(){t.questionsPanelOpen=!1})}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s);n(3),n(81);var a=n(169),l=i(a),c=n(738),u=i(c),d=n(974),h=i(d),p=n(975),f=i(p),m=n(739),g=i(m),v=n(976),y=i(v),b=n(977),w=i(b),_=n(978),C=i(_),k=n(979),A=i(k),E=n(649),S=i(E),x=n(835),T=i(x),F=n(1266),$=i(F),D=n(740),B=i(D);t["default"]=o["default"].module("apps.courseTakingV4.quizView.quizCodingExercisePageDirective",[S["default"].name,T["default"].name,h["default"].name,f["default"].name,y["default"].name,C["default"].name,A["default"].name,w["default"].name,g["default"].name,u["default"].name,B["default"].name]).directive("quizCodingExercisePage",["$timeout","quizTrackingService","assessmentService","CodingExerciseEvaluatorService",r])},982:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i,r){return{scope:!0,restrict:"E",link:function(s,a){function c(e){var t="js",n=e.match(/\.([^\.]+)$/);switch(n&&(t=n[1]),t){case"htm":case"html":return"ace/mode/html";case"js":return"ace/mode/javascript";case"css":return"ace/mode/css";case"php":return"ace/mode/php";case"rb":return"ace/mode/ruby";case"py":return"ace/mode/python";case"java":return"ace/mode/java";default:return"ace/mode/text"}}function u(t){e(function(){s.$root.$$phase||s.$root.$apply()},t||0)}var d=s.question.prompt;s.initialFiles=o["default"].copy(d.initial_files),s.solutionFiles=d.solution_files,s.solutionFile=s.solutionFiles[0].content,s.hints=d.hints,s.instructions=d.instructions,s.activeFile=0,s.activeSolutionFile=0,s.showSolution=!1,s.resultSrc="",s.defaultMessage=t.getString("Something went wrong.  Do you need help?"),s.nextLecture=function(){s.transitionToNextItem=!0,n.ensureCurriculumLoaded().then(function(){s.$emit("gotointerstitial",n.currentSectionItem)})},s.resetAction=function(){s.studentFiles=o["default"].copy(s.initialFiles),s.setInputFile(s.activeFile)},s.reset=function(){var e=t.getString("Are you sure? You will lose the changes you have done in this file.");r(e).then(function(){s.resetAction()})},s.runCode=function(){s.showMessage=!1,s.showSolution=!1,s.executingCallback=!0,s.answerQuestion({files:s.studentFiles}).$promise.then(function(e){var t=e.result;s.executingCallback=!1,s.showMessage=!0,s.showYes=!t.passed,s.success=t.passed,s.message=t.evaluation_message,s.resultSrc=i.trustAsResourceUrl(t.url)},function(e){s.executingCallback=!1})},s.clickShowSolution=function(){s.showMessage=!1,s.showSolution=!0,u()},s.clickMoreHelp=function(){s.showYes=!1},s.clickClose=function(){s.showMessage=!1,s.editor.focus()},s.setInputFile=function(e){s.activeFile=e,s.inputFile=s.studentFiles[e],s.editor&&(s.editor.session.setMode(c(s.studentFiles[e].file_name)),s.editor.focus())},s.resetAction(),e(function(){var e=a.find(".js-ace-code-editor");s.editor=l["default"].edit(e[0]),s.editor.setTheme("ace/theme/IDLE"),s.editor.$blockScrolling=1/0,s.setInputFile(s.activeFile),e=a.find(".js-ace-code-editor-static"),s.staticEditor=l["default"].edit(e[0]),s.staticEditor.setTheme("ace/theme/IDLE"),s.staticEditor.session.setMode(c(s.solutionFiles[0].file_name)),u(1e3)})},templateUrl:y["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(790),l=i(a),c=n(12),u=i(c),d=n(46),h=i(d),p=n(511),f=i(p),m=n(555),g=i(m),v=n(1267),y=i(v);t["default"]=o["default"].module("apps.courseTakingV4.quizView.quizQuestionCPDirective",[u["default"].name,g["default"].name,h["default"].name,f["default"].name,"ui.ace"]).directive("quizQuestionCp",["$timeout","gettextCatalog","Curriculum","$sce","udConfirm",r])},983:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{scope:!0,restrict:"E",link:function(t,n){t.question.fill_count=0;var i=function(){var i=n.find("question");i.html(t.question.prompt.question),e(i.contents())(t)},r=function(){var e=[];o["default"].forEach(t.question.answers,function(t){t.fill=t.correct,t.result=null,e.push(t.fill)}),t.answerQuestion(e)};t.answerQuestionFITB=function(){var e=!0,n=[];o["default"].forEach(t.question.answers,function(t){n.push(t.fill),t.fill==t.correct?t.result="correct":(t.result="wrong",e=!1)}),e?t.question.answered=!0:t.question.attempts+=1,t.answerQuestion(n).$promise["catch"](function(){o["default"].forEach(t.question.answers,function(e){e.result=null}),t.question.answered=!1,e||(t.question.attempts-=1)})},t.showAnswerFITB=function(){t.question.answered=!0,r(),t.showAnswer()},t.$watch("question",i)},templateUrl:h["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(12),l=i(a),c=n(647),u=i(c),d=n(1268),h=i(d),p=n(991),f=i(p);t["default"]=o["default"].module("apps.courseTakingV4.quizView.quizQuestionFITBDirective",[l["default"].name,u["default"].name,f["default"].name]).directive("quizQuestionFitb",["$compile",r])},984:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{scope:{quizAttempt:"=",questionOutcome:"="},restrict:"E",link:function(e){e.questionList=e.quizAttempt.stats.summary[e.questionOutcome],e.revisitQuestion=function(t){e.$emit("revisitQuestionClicked",t)}},templateUrl:u["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(12),l=i(a),c=n(1269),u=i(c);t["default"]=o["default"].module("apps.courseTakingV4.quizView.quizQuestionListDirective",[l["default"].name]).directive("quizQuestionList",r)},985:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{scope:!0,restrict:"E",link:function(e){var t=function(){o["default"].forEach(e.question.answers,function(e){e.result||e.correct||(e.result="incorrect")})},n=function(){o["default"].forEach(e.question.answers,function(e){"incorrect"==e.result&&(e.result=null)})},i=function(){o["default"].forEach(e.question.answers,function(e){e.correct&&(e.clicked=!0,e.result="correct",e.autofilled=!0)})};e.answerQuestionMC=function(r){e.question.checking||(e.question.checking=!0,r.correct?(r.result="correct",t(),e.question.answered=!0):(r.result="wrong",e.question.attempts+=1),e.answerQuestion([r.id]).$promise.then(function(){r.correct||e.question.answers.length-e.question.attempts!=1||(i(),e.question.answered=!0)})["catch"](function(){r.result=null,e.question.answered=!1,r.correct?n():e.question.attempts-=1})["finally"](function(){e.question.checking=!1}))},e.showAnswerMC=function(){t(),e.showAnswer()},e.$on("hotkeyquizevent",function(t,n,i){if(!i&&n>=49&&n<=57||"SHIFT"==i&&n>=48&&n<=53){var r=("SHIFT"==i?10:0)+n-49;if(e.question.answers.length>r){var s=e.question.answers[r];e.answerQuestionMC(s)}}})},templateUrl:f["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(580),l=i(a),c=n(12),u=i(c),d=n(647),h=i(d),p=n(1270),f=i(p);t["default"]=o["default"].module("apps.courseTakingV4.quizView.quizQuestionMCDirective",[u["default"].name,h["default"].name,l["default"].name]).directive("quizQuestionMc",r)},986:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i){return{scope:{quiz:"=",question:"=",quizAttempt:"="},restrict:"E",link:function(r,s){var a=new Date,c=function(){var e=s.find("question img");o["default"].forEach(e,function(e){var t=(0,l["default"])(e);if(!t.next().hasClass(".quiz__fancybox")){var n=(0,l["default"])('<a class="fancybox quiz__fancybox"><span class="ud_icon-zoomIn"></span></a>');n.attr("href",t.attr("src")),n.fancybox(),t.after(n)}})};r.answerQuestion=function(e){var t=Math.floor((new Date-a)/1e3);return i.answeredQuestion(r.quizAttempt.id,r.question.id,e,t),n.answerQuestion(r.quizAttempt.id,r.question.id,e,t)},r.showAnswer=function(){r.question.answer_shown=!0,i.clickedShowAnswer(r.quizAttempt.id,r.question.id)},r.nextQuestion=function(){r.question.nextQuestionIndex?r.$emit("nextQuestionClicked"):r.showResults()},r.showResults=function(){r.$emit("showResultsClicked")},r.backToResults=function(){r.$emit("backToResultsClicked")},r.skipQuestion=function(){r.nextQuestion(),i.skippedQuestion(r.quizAttempt.id,r.question.id)},r.$on("seenRelatedLecture",function(){i.seenRelatedLecture(r.quizAttempt.id,r.question.id)}),r.$watch("question",function(){a=new Date,t(c)});var u=e.$on("hotkeyquizevent",function(e,t,n){39==t&&("SHIFT"==n?r.skipQuestion():r.question.answered&&r.nextQuestion())});r.$on("$destroy",u)},templateUrl:S["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s);n(118),n(120);var a=n(3),l=i(a),c=n(580),u=i(c),d=n(12),h=i(d),p=n(738),f=i(p),m=n(709),g=i(m),v=n(647),y=i(v),b=n(982),w=i(b),_=n(983),C=i(_),k=n(985),A=i(k),E=n(1271),S=i(E),x=n(740),T=i(x),F=n(990),$=i(F),D=n(650),B=i(D);t["default"]=o["default"].module("apps.courseTakingV4.quizView.quizQuestionPageDirective",["ngRoute",h["default"].name,y["default"].name,g["default"].name,B["default"].name,A["default"].name,w["default"].name,C["default"].name,$["default"].name,f["default"].name,T["default"].name,u["default"].name]).directive("quizQuestionPage",["$rootScope","$timeout","assessmentService","quizTrackingService",r])},987:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{scope:{quiz:"=",quizAttempt:"="},restrict:"E",link:function(t){t.retryQuiz=function(){t.$emit("retryQuizClicked")},t.continueCourse=function(){t.transitionToNextItem=!0,e.ensureCurriculumLoaded().then(function(){t.$emit("gotointerstitial",e.currentSectionItem)})};var n=function(e){var n=t.quizAttempt.questions[e];o["default"].forEach(n.answers,function(e){e.correct?(e.result="correct",e.clicked=!0):e.result="incorrect"}),n.answered=!0};o["default"].forEach(t.quizAttempt.stats.summary.correct,function(e){n(e)}),o["default"].forEach(t.quizAttempt.stats.summary.wrong,function(e){n(e)})},templateUrl:y["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(1125),l=i(a),c=n(12),u=i(c),d=n(709),h=i(d),p=n(555),f=i(p),m=n(984),g=i(m),v=n(1272),y=i(v);t["default"]=o["default"].module("apps.courseTakingV4.quizView.quizResultsPageDirective",[u["default"].name,f["default"].name,h["default"].name,g["default"].name,l["default"].name]).directive("quizResultsPage",["Curriculum",r])},988:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{scope:{quiz:"=",quizAttempt:"="},restrict:"E",link:function(t){t.quiz.description=t.quiz.description.replace(/\s/g," "),t.startQuiz=function(){t.$emit("startQuizClicked")},t.skipQuiz=function(){t.transitionToNextItem=!0,e.ensureCurriculumLoaded().then(function(){t.$emit("gotointerstitial",e.currentSectionItem)})}},templateUrl:g["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(1118),l=i(a),c=n(12),u=i(c),d=n(709),h=i(d),p=n(555),f=i(p),m=n(1273),g=i(m);t["default"]=o["default"].module("apps.courseTakingV4.quizView.quizStartPageDirective",[u["default"].name,f["default"].name,h["default"].name,l["default"].name]).directive("quizStartPage",["Curriculum",r])},989:function(e,t,n){var i,r;i=[n(2),n(509),n(555),n(834),n(650),n(738),n(740),n(988),n(986),n(981),n(987),n(64),n(731)],r=function(e,t,n,i,r,s,o,a,l,c,u,d,h){function p(t,n,i,r,s,o,a,l,c,u,h,p){function f(){i.latestQuizAttempt||i.createNewAttempt(),i.latestAttemptLoaded.promise.then(function(){i.showFirstQuestion(),l.ensureCurriculumLoaded().then(function(){var e=l.getCurriculumItem("quiz",i.quiz.id);l.markCurriculumItemAsStarted(e)})}),i.mobileReload("start-quiz-clicked")}function m(){var e=h.get({courseId:p.id,id:t.id,"fields[quiz]":"@min,description,sort_order,object_index,num_assessments,course","fields[course]":"id,url"}).$promise["catch"](function(){return n.go("base.dashboard.content")});return e}function g(){i.latestQuizAttempt?c.getLatestCodingExerciseAnswer(i.latestQuizAttempt.id).$promise.then(function(e){var t=e.results;i.studentFiles=t.length>0?t[0].response.files:[],i.quizState="question_page"}):c.createNewAttempt().$promise.then(function(e){i.latestQuizAttempt=e,g()})}i.startQuizClicked=f,m().then(function(e){return i.isNewCodingExercise="coding-exercise"===e.type&&(p.features||{}).coding_exercise_view,i.quiz=e,i.quiz.questions=[],i.quizState="start_page",i.quizStartQuestionIndex=0,i.init(),d.trackPageview(p.analytics_tracking_code,"instructor",p.url+"course-taking/quiz/"+i.quiz.id),l.ensureCurriculumLoaded()}).then(function(){i.curriculumItem=l.getCurriculumItem("quiz",i.quiz.id),l.setCurrentItem(i.curriculumItem),i.sections=l.sections,i.currentSection=l.currentSection}),i.init=function(){c.initQuiz(i.quiz.course.id,i.quiz.id),u.initQuiz(i.quiz.id),i.loadQuestions(),i.loadLatestAttempt(),i.questionsLoaded.then(function(){i.latestAttemptLoaded.promise.then(function(){i.copyQuestionsToAttempt(),i.$emit("contentready"),"coding-exercise"===i.quiz.type&&(i.isNewCodingExercise?g():i.startQuizClicked())})})},i.loadQuestions=function(){i.questionsLoaded=c.loadQuestions(),i.questionsLoaded.then(function(e){i.quiz.questions=e,i.quiz.questionIdsMap=i.quiz.questions.map(function(e){return e.id})})},i.loadLatestAttempt=function(){i.latestAttemptLoaded=r.defer(),c.getLatestAttempt().then(function(e){e?(i.latestQuizAttempt=e,i.latestQuizAttempt.completion_time&&!i.isNewCodingExercise?i.showResultsPage():i.latestAttemptLoaded.resolve()):i.latestAttemptLoaded.resolve()})},i.copyQuestionsToAttempt=function(){i.latestQuizAttempt&&(i.latestQuizAttempt.questions=e.copy(i.quiz.questions),i.latestQuizAttempt.completion_time||e.forEach(i.latestQuizAttempt.completed_assessments,function(e){var t=i.quiz.questionIdsMap.indexOf(e);i.latestQuizAttempt.questions[t].answered=!0}))},i.createNewAttempt=function(){i.latestAttemptLoaded=r.defer(),c.createNewAttempt().$promise.then(function(e){i.latestQuizAttempt=e,i.copyQuestionsToAttempt(),i.latestAttemptLoaded.resolve(),u.startedQuizAttempt(i.latestQuizAttempt.id,i.latestQuizAttempt.questions.length)})},i.showResultsPage=function(){c.getAttemptStats(i.latestQuizAttempt.id).$promise.then(function(e){i.latestQuizAttempt.stats=e,i.quizState="results_page",i.latestAttemptLoaded.resolve(),
u.seenResultPage(i.latestQuizAttempt.id),0===e.user_num_skipped_answers&&l.ensureCurriculumLoaded().then(function(){var e=l.getCurriculumItem("quiz",i.quiz.id);l.markCurriculumItemAsCompleted(e)})})},i.getNextQuestion=function(e){for(var t=e;t<i.latestQuizAttempt.questions.length;t++)if(!i.latestQuizAttempt.questions[t].answered)return t;return null},i.showQuestion=function(e,t){i.currentQuestion=i.latestQuizAttempt.questions[e],i.currentQuestion.show=!1,t?i.currentQuestion.revisiting=!0:i.currentQuestion.nextQuestionIndex=i.getNextQuestion(e+1),i.quizState="question_page",a(function(){i.currentQuestion.show=!0,i.$emit("applyViewMore")},1e3)},i.showFirstQuestion=function(){var e=0;i.latestQuizAttempt&&(e=i.getNextQuestion(0)),null!==e?i.showQuestion(e):i.showResultsPage()},i.mobileReload=function(e){"mobile_app"===s.search().display_type&&"true"===s.search().notify_mobile&&(s.search("mobile_event",e),o.open(s.absUrl()))},i.$on("retryQuizClicked",function(){i.latestQuizAttempt=null,i.quizState="start_page",i.mobileReload("start")}),i.$on("startQuizClicked",f),i.$on("nextQuestionClicked",function(e){i.showQuestion(i.currentQuestion.nextQuestionIndex),i.mobileReload("next-question-clicked")}),i.$on("showResultsClicked",function(){i.showResultsPage(),i.mobileReload("show-results-clicked")}),i.$on("backToResultsClicked",function(){i.quizState="results_page",i.mobileReload("back-to-results-clicked")}),i.$on("revisitQuestionClicked",function(e,t){i.showQuestion(t,!0),i.mobileReload("revisit-question-clicked")}),i.$on("questionspanelopened",function(){i.questionsPanelOpen=!0}),i.$on("questionspanelclosed",function(){i.questionsPanelOpen=!1})}var f=e.module("apps.courseTakingV4.quizViewController",["ui.router",n.name,i["default"].name,r.name,s.name,o.name,a["default"].name,l["default"].name,c["default"].name,u["default"].name,h["default"].name]).controller("QuizViewController",p);return p.$inject=["$stateParams","$state","$scope","$q","$location","$window","$timeout","Curriculum","assessmentService","quizTrackingService","Quiz","CurrentCourse"],f}.apply(t,i),!(void 0!==r&&(e.exports=r))},990:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return{scope:{quiz:"=",question:"="},restrict:"E",link:function(n){n.lecture=n.question.related_lectures[0],n.relatedLectureType=null,n.video_lecture=null,n.toggleRelatedLecture=function(){n.relatedLectureType?n.relatedLectureType=null:n.video_lecture||"Video"!=n.lecture.asset.asset_type&&"VideoMashup"!=n.lecture.asset.asset_type?n.showRelatedLecture():t.get({id:n.lecture.id,courseId:n.quiz.course.id,"fields[lecture]":"@default,object_index,view_html",page_config:"embed"}).$promise.then(function(e){n.video_lecture=e,n.showRelatedLecture()})},n.showRelatedLecture=function(){n.video_lecture?n.relatedLectureType=n.video_lecture.asset.asset_type:e.open(n.lecture.url,"_blank"),n.$emit("seenRelatedLecture")},n.$watch("question",function(){n.relatedLectureType=null})},templateUrl:f["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(678),l=i(a),c=n(12),u=i(c),d=n(647),h=i(d),p=n(1275),f=i(p);t["default"]=o["default"].module("apps.courseTakingV4.quizView.relatedLectureDirective",[u["default"].name,h["default"].name,l["default"].name]).directive("relatedLecture",["$window","SubscribedLecture",r])},991:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return{scope:!0,restrict:"E",link:function(e,t){e.blankIndex=t.attr("data-order"),e.blank=e.question.answers[e.blankIndex],e.blank.empty=!0,e.fillChanged=function(){e.blank.fill&&e.blank.empty?(e.blank.empty=!1,e.question.fill_count+=1):e.blank.fill||e.blank.empty||(e.blank.empty=!0,e.question.fill_count-=1)}},templateUrl:u["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s),a=n(12),l=i(a),c=n(1276),u=i(c);t["default"]=o["default"].module("apps.courseTakingV4.quizView.uBlankDirective",[l["default"].name]).directive("uBlank",r)},992:function(e,t,n){var i,r;i=[n(2),n(3),n(605),n(836),n(570)],r=function(e,t,n,i,r){function s(e,t,n,i,r){e.course=n;var s=function(){i.courseReview.location===i.reviewLocations.courseTakingFinal?r.go("base.dashboard.questions",null,r.ANIMATION_TYPE.loading):e.$emit("gotointerstitial",{id:t.curriculumItem.id,type:t.curriculumItem.type,_forceInterstitial:!0})},o=e.$on("reviewCompleted",s);e.$on("$destroy",function(){o()})}return e.module("apps.courseTakingV4.review.reviewPromptController",[n["default"].name,i.name,r.name]).controller("ReviewPromptController",["$scope","$stateParams","CurrentCourse","reviewPromptService","AnimatedStateChangeService","ExperimentService",s])}.apply(t,i),!(void 0!==r&&(e.exports=r))},993:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){function e(e,t,n,i,r){function s(){return n.isOpen=!0,e.setClass(t,"nav-open","nav-close")}function o(){return n.isOpen=!1,e.setClass(t,"nav-close","nav-open")}function a(){return u.isOpen()?u.close():u.open()}function l(){return n.isOpen}function c(){return t}var u=this;u.open=s,u.close=o,u.toggle=a,u.isOpen=l,u.getElement=c;var d=r.register(i.sidenavId,u);n.$on("$destroy",function(){d()})}return e.$inject=["$animate","$element","$scope","$attrs","SidenavService"],{restrict:"E",replace:!0,transclude:!0,scope:{isOpen:"=?"},templateUrl:h["default"],controller:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),o=i(s);n(121);var a=n(12),l=i(a),c=n(838),u=i(c),d=n(1278),h=i(d),p=o["default"].module("apps.courseTakingV4.sidenav.sidenavDirective",["ngAnimate",l["default"].name,u["default"].name]).directive("sidenav",r);t["default"]=p},1116:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=i(r),o=n(761),a=i(o),l=n(46),c=i(l),u=n(1399),d=i(u),h=n(1117),p=i(h);t["default"]=s["default"].module("directives.activity.activityComments",[c["default"].name,p["default"].name,a["default"].name]).directive("activityComments",["Activity","$rootScope",function(e,t){var n=function(t){t.loadMoreComments=function(){t.visibleComments=t.invisibleComments.splice(0-t.pageSize).concat(t.visibleComments)},t.addComment=function(n){var i={user:t.me,body:n};t.visibleComments.push(i),t.comments.push(i);var r=e.createComment(t.activity.target.id,t.activity.id,n);r.success(function(e){var n=e;t.visibleComments.pop(),t.visibleComments.push(n),t.comments.pop(),t.comments.push(n)})},t.updateComment=function(n,i,r){var s=e.updateComment(t.activity.target.id,t.activity.id,n,i);s.success(function(e){r&&r(e.body)})},t.deleteComment=function(n){var i;for(i in t.visibleComments)t.visibleComments[i].id==n&&t.visibleComments.splice(i,1);for(i in t.comments)t.comments[i].id==n&&t.comments.splice(i,1);e.deleteComment(t.activity.target.id,t.activity.id,n)}};return n.$inject=["$scope"],{controller:n,restrict:"E",replace:!0,transclude:!0,scope:{me:"=",activity:"="},templateUrl:d["default"],link:function(e){e.pageSize=5,e.comments=e.activity.comments,t.expandAll?(e.visibleComments=e.activity.comments.slice(0),e.invisibleComments=[]):(e.visibleComments=e.activity.comments.slice(-3),e.invisibleComments=e.activity.comments.slice(0,-3))}}}])},1117:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=i(r);n(1407);var o=n(511),a=i(o),l=n(46),c=i(l),u=n(1400),d=i(u);t["default"]=s["default"].module("directives.activity.comment",[a["default"].name,c["default"].name,"ui.keypress"]).directive("comment",function(){var e=function(e,t,n){e.enterPressed=function(t){t.preventDefault();var n=e.commentText&&e.commentText.trim();n&&(e.commentText=n,e.comment?(e.comment.body=e.commentText,e.showForm=!1,e.updateCommentFn({commentId:e.comment.id,commentText:e.commentText,callbackFn:function(t){e.comment.body=t}})):(e.addCommentFn({commentText:e.commentText}),e.commentText=""))},e.escPressed=function(t){t.preventDefault(),e.comment?e.showForm=!1:e.shouldBlur=!0},e.onCommentEdit=function(){setTimeout(function(){var t=e.element.find("textarea").eq(0);t.css("height",t[0].scrollHeight)},100),e.commentText=e.comment.body,e.showForm=!0,e.editEnabled=!0,e.shouldFocus=!0},e.onCommentDelete=function(){var i=t.getString("Are you sure you want to delete?");n(i).then(function(){e.deleteCommentFn({commentId:e.comment.id})})},e.$watch("focusForm",function(t){t&&(e.shouldFocus=!0)})};return e.$inject=["$scope","gettextCatalog","udConfirm"],{controller:e,restrict:"E",replace:!0,transclude:!0,scope:{comment:"=",courseId:"=",showImage:"@",showForm:"@",addCommentFn:"&",updateCommentFn:"&",deleteCommentFn:"&",focusForm:"="},link:function(e,t){e.element=t},templateUrl:d["default"]}})},1118:function(e,t,n){var i,r;i=[n(2)],r=function(e){return e.module("directives.common.autofocus",[]).directive("autofocus",["$timeout",function(e){return{restrict:"A",link:function(t,n){e(function(){n[0].focus()},500)}}}])}.apply(t,i),!(void 0!==r&&(e.exports=r))},1125:function(e,t,n){var i,r;i=[n(2)],r=function(e){function t(t){function n(n,i,r){function s(){Math.abs(a[0].getBoundingClientRect().top)>a[0].clientHeight-l[0].clientHeight/2?a.hasClass(u)||a.addClass(u):a.hasClass(u)&&a.removeClass(u)}var o=e.element(t),a=i.find("header"),l=e.element('<div class="sticky-header"></div>'),c="ng-sticky-fixed",u=r.stickyNav||c;a.append(l),o.bind("resize",function(){a.removeClass(u),s()}),i.bind("scroll",function(){s()})}return{scope:{},restrict:"A",link:n}}return e.module("common.stickyNavDirective",[]).directive("stickyNav",["$window",t])}.apply(t,i),!(void 0!==r&&(e.exports=r))},1138:function(e,t,n){var i,r;i=[n(2)],r=function(e){function t(t){var n=function(n,i){function r(){a()}function s(){u.isRunning=!1,h=(new Date).getTime(),t.cancel(f),f=void 0}function o(){e.isUndefined(f)?u.start():u.stop()}function a(){if(!p){u.isRunning=!0;var e=h?h-d:0;f=t(function(){u.countdown-=i,u.countdown<=0&&(p=!0,c()),a()},i-e),d=(new Date).getTime(),h=null}}function l(e){m.push(e)}function c(){for(var e in m)m[e]()}var u=this,d=null,h=null,p=!1,f=void 0,m=[];u.isRunning=!1,u.countdown=n,u.start=r,u.stop=s,u.toggle=o,u.onComplete=l};return{getInstance:function(e,t){return new n(e,t)}}}var n=e.module("services.simpleCountdownFactory",[]).factory("simpleCountdownFactory",t);return t.$inject=["$timeout"],n}.apply(t,i),!(void 0!==r&&(e.exports=r))},1222:function(e,t){var n="/ng/apps/course-taking-v4/bookmarks/bookmarks.ng-template.html",i='<div class="fullscreen content__bookmarks"> <div class="bookmarks__loading fx-c" ng-if=bookmarksLoading> <div class="ud_circle-loader ud_icon--large"></div> </div> <div class="bookmarks__empty fx-c" ng-if="!bookmarksLoading && !bookmarkExist"> <div class=tac> <i class=ud_icon-bookmark></i> <div class=a1 translate>No bookmarks created yet</div> <p translate> Add bookmarks while watching lectures to save moments of a course for later. Bookmarks you\'ve saved will show up here. </p> <p translate> Hint: Use the keyboard shortcut "b" to create bookmarks while watching video lectures. </p> </div> </div> <div class=bookmarks__nonempty ng-if="!bookmarksLoading && bookmarkExist"> <div class=curriculum-navigation> <div ng-repeat="section in sections" ng-if=section.noteCount class="panel curriculum-navigation__section"> <div class=panel-heading> <div class=p20-30> <div class=curriculum-navigation__section__status translate translate-comment="Example: Section 1"> Section {{ section.objectIndex }} </div> <div class=curriculum-navigation__section__title>{{ section.title }}</div> </div> </div> <ul class="panel-body lecture"> <li class=lecture__item ng-repeat="item in section.items" ng-show="item.notes.length > 0"> <div class="lecture__item__link fx-jsb bold mb5"> <span class=mr5>{{ item.objectIndex }}.</span> <span class="lecture__item__link__name db fx">{{ item.title }}</span> </div> <a ng-repeat="note in item.notes | orderBy:\'position\'" class="note lecture__item__link fx-jsb mt5" href=javascript:void(0) ui-sref="base.taking.lecture.start({id:item.id, start:note.position})" course-taking-tracking tracking-category=bookmark tracking-action=dashboard.bookmark-tab.goto-bookmark> <div class=note__position>{{ note.position | humanize }}</div> <div class="note__info fx"> <div class=note__moment>{{ note.created | fromNow }}</div> <div class=note__body>{{ note.body }}</div> </div> </a> </li> </ul> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1223:function(e,t){var n="/ng/apps/course-taking-v4/curriculum-item-taking.ng-template.html",i='<sidenav sidenav-id=left-curriculum-nav> <curriculum-navigation course-id=course.id sections=sections></curriculum-navigation> </sidenav> <div ui-view class="timeline-item-taking {{animationClass}}" data-ng-class="{\'course-taking-mobile-app\': isMobileApp}"> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1224:function(e,t){var n="/ng/apps/course-taking-v4/curriculum/continue-button-directive.ng-template.html",i='<button class=tooltip-container ng-click=continueCourse() ng-disabled="!curriculumItem || nextCurriculumItem === curriculumItem" ng-class="[buttonClasses || \'btn btn-sm btn-control btn-continue\',\n                   {\'complete\': curriculumItem.progressStatus === \'completed\'}\n                  ]"> <span ng-if=!curriculumItem> <span class="ud_circle-loader ud_icon--small"></span> </span> <span class=btn-control__label>{{ buttonText }}</span> <i class=ud_i_next></i> <span ng-if=curriculumItem class="tooltip--new tooltip--center tooltip--top"> <span ng-if=nextCurriculumItem> <span ng-show="nextCurriculumItem === curriculumItem" translate> There is only one free lecture </span> <span ng-hide="nextCurriculumItem === curriculumItem"> {{ ::nextCurriculumItem.getTranslatedTitle() }} </span> </span> <span ng-if=!nextCurriculumItem translate> Course Dashboard </span> </span> </button>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1225:function(e,t){var n="/ng/apps/course-taking-v4/curriculum/curriculum-item-controls.ng-template.html",i='<div class=btn-group> <div class="btn-group dropdown open-on-hover dropdown--settings" ng-show=hasMenuItems> <div data-toggle=dropdown style=display:none></div> <button class="btn btn-sm btn-icon" href=javascript:void(0)> <i class=ud_i_settings></i> </button> <ul class="dropdown-menu dropdown-menu-bottom"> <li ng-if=downloadEnabled> <a ng-href="{{ downloadUrl }}" target=_self translate> Download Lecture </a> </li> <li ng-if="!isMobileBrowser && hotkeysEnabled"> <a href=javascript:void(0) ng-click=showHotkeys() translate> Keyboard Shortcuts </a> </li> <li ng-if=reportEnabled> <a href=javascript:void(0) ng-click=showReport()> <i class="fa fa-flag"></i> <span class=ml5 translate>Report Abuse</span> </a> <report-abuse btn-class=hidden show-popup=reportPopup.open object-type="{{ reportType }}" object-id=reportId> </report-abuse> </li> </ul> </div> <button class="btn btn-sm btn-icon" ng-click=toggleFullscreen() ng-if=!isMobileBrowser> <i ng-class="isFullscreen() ? \'ud_icon-exitFullscreen\' : \'ud_icon-fullscreen\'"></i> </button> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1226:function(e,t){var n="/ng/apps/course-taking-v4/curriculum/curriculum-navigation-button-directive.ng-template.html",i='<div class=course-taking__overlay ng-class="{\'transparent\': curriculumNavigationButtonController.isOpen()}" ng-show=curriculumNavigationButtonController.isOpen() ng-click=curriculumNavigationButtonController.close() user-active-on active-when=curriculumNavigationButtonController.isOpen()> </div> <div class="sidenav-toggle-button-group hide-when-user-inactive" ng-class="{\'nav-open\': sidenavInView}" ng-click="currentSectionItem && curriculumNavigationButtonController.toggle()" user-active-on active-when=curriculumNavigationButtonController.isOpen()> <div class=fx-lc> <button class="btn btn-control toggle-btn"> <span ng-if=currentSectionItem> <i ng-class="curriculumNavigationButtonController.isOpen() ? \'ud_i_close\' : \'ud_i_curriculum\'"></i> </span> <span ng-if=!currentSectionItem> <span class="ud_circle-loader ud_icon--small"></span> </span> </button> <div class=course-info ng-if=showTitle> <div class=course-info__title data-ng-bind=currentSectionItem.title></div> <div class="course-info__section hidden-xs"> {{ ::currentSectionItem.getTranslatedEnum(currentSection.objectIndex) }} </div> </div> </div> <div ng-if=!isFreePreviewer class="btn resources-available-tooltip hidden-xs" ng-show="currentSectionItem.supplementaryAssets.length > 0"> <i class="fa fa-folder-open"></i> <span class=resources-available-tooltip__text translate>Resources available</span> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1227:function(e,t){var n="/ng/apps/course-taking-v4/curriculum/curriculum-navigation-directive.ng-template.html",i="<nav class=curriculum-navigation data-purpose=curriculum-panel> <div class=panel-group id=accordion role=tablist aria-multiselectable=true> <div ng-repeat=\"section in sections|toArray|orderBy:'-sortOrder'\"> <curriculum-navigation-section section=section ng-class=\"{'current-section': section.current, 'first': $first}\"> </curriculum-navigation-section> </div> </div> </nav>";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1228:function(e,t){var n="/ng/apps/course-taking-v4/curriculum/curriculum-navigation-section-directive.ng-template.html",i='<div class="panel curriculum-navigation__section" ng-class="{{ section.progressStatus }}"> <div class=panel-heading role=tab id="{{ sectionId }}"> <a role=button data-toggle=collapse data-parent=#accordion ng-click="section.isOpen = !section.isOpen" ng-attr-aria-expanded="{{ section.isOpen ? \'true\' : \'false\' }}" ng-attr-aria-controls="{{ collapsibleContentId }}"> <div class="fx-jsb curriculum-navigation__section__status"> <span class=cur-section translate-comment="Example: Section 1" ng-if=section.isPublished> <span translate>Section:</span> {{ section.objectIndex }} </span> <span class=cur-section ng-if=!section.isPublished translate> Unpublished Section </span> <span class=cur-status ng-class="{\'text-link-blue bold\': section.numCompletedItems === section.items.length}"> <span ng-class="{\'text-link-blue bold\': section.numCompletedItems}">{{ section.numCompletedItems }} </span> <span>/ {{ section.items.length }}</span> </span> </div> <div class=curriculum-navigation__section__title> {{ section.title }} </div> </a> </div> <div ng-attr-id="{{ collapsibleContentId }}" collapse=!section.isOpen class="panel-collapse collapse" role=tabpanel aria-labelledby="{{ sectionId }}"> <ul class="panel-body lecture"> <li class=lecture__item ng-repeat="item in section.items" ng-class=getItemCssClass(item)> <a ng-click=goToItem(item) class="lecture__item__link fx-jsb" course-taking-tracking tracking-category="Lecture Sidebar" tracking-action="lecture visit"> <span class=lecture__item__link__icon> <i ng-class=::item.getIconCssClass()></i> <i class="bold ud_icon-check"></i> </span> <span ng-if=item.isPublished> <span class=mr5 ng-show="item.type === \'lecture\'"> {{ item.objectIndex }}. </span> <span class=mr5 ng-show="item.type !== \'lecture\'"> <span class=text-capitalize>{{ item.localizedType }}</span> <span>{{ item.objectIndex }}:</span> </span> </span> <span ng-if=!item.isPublished class=text-capitalize translate translate-comment="Example: Unpublished Lecture: Lecture Title"> Unpublished {{ item.type}}: </span> <span class="lecture__item__link__name db fx">{{ item.title }}</span> <span class=lecture__item__link__time ng-style="item.length ? {} : {opacity: 0}">{{ item.length | humanize}}</span> </a> <resources-list class=lecture__resources course-id=section.courseId lecture-id=item.id resources=item.supplementaryAssets> </resources-list> </li> </ul> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1229:function(e,t){var n="/ng/apps/course-taking-v4/curriculum/resources-list.ng-template.html",i='<ul ng-show="resources.length > 0" ng-class="isFreePreviewer ? \'disabled\' : \'\'"> <li class=resources__link ng-repeat="resource in resources | limitTo: limit" ng-class="{\'mini-tooltip2 pull-tooltip-top\': resource.external_url}"> <a ng-click="requestDownloadResource($event, resource)" ng-class="isFreePreviewer ? \'disabled\' : \'\'" course-taking-tracking tracking-category=Curriculum tracking-action="{{ getResourceTrackingAction(resource) }}" ng-attr-target="resource.external_url ? \'_blank\' : \'_self\'"> <i ng-class="{\'fa fa-download\': !resource.external_url, \'ud_i_link\': resource.external_url}"></i> <span class=resource-list__link__text>{{ resource.title }}</span> <span ng-if=resource.loading> <span class="ud_circle-loader ud_icon--small"></span> </span> </a> </li> <a class=resources__more-button ng-click="limit = limit + 10" ng-show="resources.length > 3 && limit < resources.length" translate> Show more ({{ resources.length - limit }}) </a> </ul>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1230:function(e,t){var n="/ng/apps/course-taking-v4/dashboard-button-directive/dashboard-button-directive.ng-template.html",i='<a class="btn btn-control" ng-click=goToDashboard() data-purpose=go-to-dashboard> <span translate>Go to Dashboard</span> </a>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1231:function(e,t){var n="/ng/apps/course-taking-v4/dashboard/announcements.ng-template.html",i='<a ng-if="num_announcements > 0" class="db mt20" ui-sref=base.dashboard.announcements ui-sref-opts="{ inherit: false }" translate>Back to All Announcements</a> <div class=content__announcements> <div ng-if=announcementsLoading> <div class=fx-c> <div class="ud_circle-loader ud_icon--large m60"></div> </div> </div> <div ng-if=!announcementsLoading> <div ng-if="announcements.length === 0" class=announcements__empty> <div class=tac> <span class=ud_announcement><span class=path1><span class=path2><span class=path3><span class=path4><span class=path5><span class=path6><span class=path7><span class=path8><span class=path9><span class=path10></span></span></span></span></span></span></span></span></span></span></span> <div class=a1 translate>No announcements posted yet.</div> <p translate> The instructor hasnt added any announcements to this course yet. Announcements are used to inform you of updates or additions to the course. </p> </div> </div> <div ng-if="announcements.length > 0"> <div ng-repeat="announcement in announcements" class=panel> <div class="panel-heading announcement__details"> <img ng-src="{{ announcement.user.image_50x50 }}" width=50 height=50 alt=""/> <div> <span translate translate-comment="Example: Steve Carell posted an announcement"> <a ng-href="{{ announcement.user.url }}" target=_blank> {{ announcement.user.name }} </a> posted an announcement </span> <span>&#8231;{{ announcement.created | fromNow }}</span> <span ng-if=reportAbusePopup.enabled class=button-group__report-abuse> &#8231; <report-abuse btn-class=btn-link show-popup=reportAbusePopup.open object-type=courseannouncement object-id=announcement.id></report-abuse> </span> </div> </div> <div class=panel-body> <div ng-if=!!announcement.title class=a2> {{ announcement.title }} </div> <div ng-bind-html=announcement.content class=announcement__body></div> <activity-comments me=udMe activity=announcement.action ng-if="showComments && announcement.action"></activity-comments> </div> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1232:function(e,t){var n="/ng/apps/course-taking-v4/dashboard/content.ng-template.html",i='<div class=content__curriculum> <div class="row m10-5"> <div class="curriculum__search-box col-sm-4"> <div class="input-group ud-search"> <input type=text class=form-control placeholder="{{ \'Search\'|translate }}" ng-model=searchPhrase ng-model-options="{debounce: 250}" ng-change=setSearch() ng-disabled=!sections /> <span class=input-group-btn> <button type=button class="btn btn-primary" aria-label=Search> <span class=ud_i_search></span> </button> </span> </div> </div> <div class="curriculum__filters col-sm-8"> <div class=tooltip-container> <button ng-disabled="!enableExpandSections || !sections" class="btn btn-link" ng-class="{\'bold btn-text\': activeState === \'collapse\'}" ng-click=setOpenAll(false)> <span translate>Current Section</span> </button> <span ng-if=!enableExpandSections class="tooltip--new tooltip--center" translate> There is only one section for this course</span> </div> <div class=tooltip-container> <button ng-disabled="!enableExpandSections || !sections" class="btn btn-link" ng-class="{\'bold btn-text\': activeState === \'expand\'}" ng-click=setOpenAll(true)> <span translate>All Sections</span> </button> <span ng-if=!enableExpandSections class="tooltip--new tooltip--center" translate> There is only one section for this course</span> </div> <div class=tooltip-container> <button ng-disabled="!enableViewResources || !sections" class="btn btn-link" ng-class="{\'bold btn-text\': activeState === \'resources\'}" ng-click=setFilterResources()> <span translate>All Resources</span> </button> <span ng-if=!enableViewResources class="tooltip--new tooltip--left" translate> There are no resources for this course</span> </div> </div> </div> <div class="curriculum__empty fx-c" ng-if="filterResults == 0"> <div class=tac> <div class=a1 translate>No lectures or resources found</div> <p translate> We couldn\'t find the content you searched for. Try searching for the name of a lecture or resource. </p> </div> </div> <curriculum-navigation course-id=courseId sections=sections></curriculum-navigation> <div class=fx-c ng-if=!sections> <div class="ud_circle-loader ud_icon--large"></div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1233:function(e,t){var n="/ng/apps/course-taking-v4/dashboard/dashboard.ng-template.html",i='<div> <div class=course-dashboard__top> <div class="top--container container"> <a class="top__image hidden-xs" ng-click=gotoNextCurriculumObject()> <img ng-src="{{ course.image_480x270 }}"> <div class=image__overlay ng-class=ctaOverlayClass></div> </a> <div class="top__detail pos-r"> <learntips></learntips> <div class=fx-lc> <div class="fx detail__course-title" ng-bind="course.title || \'&nbsp;\'"></div> </div> <a class="btn btn-primary btn-lg detail__continue-button" data-purpose=continue-to-lecture ng-click=gotoNextCurriculumObject() translate> Continue to {{ nextCurriculumObject.localizedType }} {{ nextCurriculumObject.objectIndex }} </a> <review event-source-page=Dashboard is-instructor=isInstructor course=course is-enabled="isInstructor || (!isFreePreviewer && progressInfo.completionRatio > 0)" auto-open-popup=autoOpenReviewPopup class="fxw mt10" show-star-label=true> </review> <div class=detail__progress> <div class=fx-lb> <div class=fx> <div ng-if="progressInfo.completionRatio > 0" ng-bind-html="progressInfo.progressString | translate"> </div> <div ng-if="progressInfo.completionRatio === 0"> <span translate>Get started</span> (<span ng-bind-html="progressInfo.progressString | translate"></span>) </div> <div class=progress__bar ng-class="{\'no_trophy\': !course.has_certificate}"> <div class=bar__completed ng-style="{width: progressInfo.completionRatio + \'%\'}"></div> </div> </div> <a ng-href="{{(certificate && certificate.is_ready) ? certificate.long_url : \'\'}}" target=_blank> <div ng-if=course.has_certificate class="tooltip-container ucp-certificate" ng-class=getCertificateStatusClass()> <i class="fa fa-trophy ucp-certificate-icon"></i> <div class=progress> <div class="bar bar-success"></div> </div> <div class="tooltip--new tooltip--left" ng-if="getCertificateStatusClass() == \'certificate-not-ready\'"> <span class=certificate-not-ready-text translate> You need to finish this course to get your certificate of completion! </span> </div> <div class="tooltip--new tooltip--left" ng-if="getCertificateStatusClass() == \'certificate-in-progress\'"> <span class=certificate-in-progress-text translate> Your completion certificate is being prepared! </span> </div> <div class="tooltip--new tooltip--left" ng-if="getCertificateStatusClass() == \'certificate-ready\'"> <span class=certificate-ready-text> <a ng-href={{certificate.long_url}} target=_blank translate> Click to access your certificate! </a> </span> </div> </div> </a> </div> </div> </div> </div> </div> <div class=course-dashboard__bottom> <nav class="navbar navbar-default bottom__nav"> <div class=container> <div class=navbar-header> <div class=fx> <span class=navbar-header__title> {{ currentStateName | translate }} </span> </div> <div> <button class="btn btn-secondary btn-lg toggle-btn" type=button ng-click="navbarCollapsed = !navbarCollapsed" data-target=#course-taking-bottom-navbar ng-attr-aria-expanded="{{ navbarCollapsed ? \'false\' : \'true\' }}"> <span class=sr-only>Toggle navigation</span> <i class="fa fa-bars"></i> </button> </div> </div> <div class="collapse navbar-collapse" id=course-taking-bottom-navbar collapse=navbarCollapsed> <ul class="nav navbar-nav nav-tabs"> <li ui-sref-active=active> <a ui-sref=base.dashboard.overview ng-click="navbarCollapsed = true" translate>Overview</a> </li> <li ui-sref-active=active> <a ui-sref=base.dashboard.content ng-click="navbarCollapsed = true" translate course-taking-tracking tracking-category=dashboard tracking-action=visit-content-tab> Course Content</a> </li> <li ng-class="{active: (\'base.dashboard.questions\' | includedByState) || (\'base.dashboard.question-details\' | includedByState)}"> <a ui-sref=base.dashboard.questions ng-click="navbarCollapsed = true" translate course-taking-tracking tracking-category=dashboard tracking-action=visit-question-tab>Q&amp;A</a> </li> <li ui-sref-active=active> <a ui-sref=base.dashboard.bookmarks ng-click="navbarCollapsed = true" translate course-taking-tracking tracking-category=dashboard tracking-action=visit-bookmark-tab>Bookmarks</a> </li> <li ui-sref-active=active> <a ui-sref=base.dashboard.announcements ng-click="navbarCollapsed = true" translate>Announcements</a> </li> <li ui-sref-active=active class=dropdown> <a href=# id=dLabel class=dropdown-toggle data-toggle=dropdown role=button ng-click=dismissRemindersTip() aria-haspopup=true aria-expanded=false> <span class=mr5 translate>Options</span> <i class="fa fa-caret-down"></i> <div class="tooltip--blue tooltip--right" ng-show=showRemindersTip ng-click="dismissRemindersTip(false, true)"> <small translate>Stay on Track by Setting Reminders</small> <span class="ml10 ud_i_close" ng-click=dismissRemindersTip($event)></span> </div> </a> <ul class=dropdown-menu role=menu aria-labelledby=dLabel ng-click=$event.stopPropagation(); ng-include=optionsDropdownTemplateUrl></ul> </li> </ul> </div> </div> </nav> <div class="bottom__content container" data-ui-view> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1234:function(e,t){var n="/ng/apps/course-taking-v4/dashboard/options-dropdown-instructor.ng-template.html",i='<li role=presentation ng-repeat="(key, value) in course.notification_settings track by $id(key)"> <email-setting course-id=course.id disabled=course.notification_settings.disableAllEmails setting-key=key setting-value=value ng-hide="key == \'disableAllEmails\'"></email-setting> </li>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1235:function(e,t){var n="/ng/apps/course-taking-v4/dashboard/options-dropdown-student.ng-template.html",i='<li ng-if=showReminders role=presentation> <a role=menuitem tabindex=-1 ng-click=openRemindersModal() translate> Manage Reminders... </a> </li> <li role=presentation> <a role=menuitem tabindex=-1 ng-click=course.favoriteCourse() ng-if=!course.favorite_time translate>Favorite this course</a> <a role=menuitem tabindex=-1 ng-click=course.unfavoriteCourse() ng-if=course.favorite_time translate>Unfavorite this course</a> </li> <li role=presentation> <a role=menuitem tabindex=-1 ng-click=course.archiveCourse() ng-if=!course.archive_time translate>Archive this course</a> <a role=menuitem tabindex=-1 ng-click=course.unarchiveCourse() ng-if=course.archive_time translate>Unarchive this course</a> </li> <li role=presentation class=divider></li> <li role=presentation><a role=menuitem tabindex=-1 ng-click=scrollToInstructor() translate>Instructor profile</a></li> <li role=presentation><a role=menuitem tabindex=-1 ng-show="isGiftCourseEnabled && course.is_paid && !course.is_private" ng-href="{{ course.gift_url }}" target=_blank translate>Gift this course</a></li> <li role=presentation><a role=menuitem tabindex=-1 ng-href="{{ supportHomeUrl }}" target=_blank translate>Support</a></li> <li role=presentation ng-if=reportAbusePopup.enabled> <a role=menuitem tabindex=-1 ng-click="reportAbusePopup.open=true"> <i class="fa fa-flag mr5"></i> <span translate>Report abuse</span> <popup open=reportAbusePopup.open ng-href="/feedback/report?related_object_type=course&related_object_id={{course.id}}"> </popup> </a> </li> <li role=presentation class=divider></li> <li role=presentation ng-repeat="(key, value) in course.notification_settings track by $id(key)"> <email-setting course-id=course.id disabled=course.notification_settings.disableAllEmails setting-key=key setting-value=value ng-hide="key == \'disableAllEmails\'"></email-setting> </li> <li role=presentation class=divider></li> <li role=presentation> <a href=javascript:void(0) ng-if=course.canBeUnenrolled ng-click=unenrollFromCourse($event) class=unsubscribe translate> Unenroll from course </a> <div ng-if=course.refundFeatureEnabled> <a target=_blank ng-href="{{ getCourseRefundUrl() }}" ng-show="course.was_purchased_by_student && !course.canBeUnenrolled" ng-class="{\'unsubscribe\': course.is_refundable, \'cannot-refund\': !course.is_refundable}" class="pl10 pb10" translate> Request a refund </a> <div ng-hide=course.is_refundable class=cannot-refund-info> <div ng-show=course.was_paid_by_student translate> This course was purchased outside the 30-day refund policy and cannot be refunded. </div> <div ng-show=!course.was_paid_by_student translate> This course was a free enrollment and cannot be refunded. </div> </div> </div> </li>';
window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1236:function(e,t){var n="/ng/apps/course-taking-v4/dashboard/overview.ng-template.html",i='<div class=content__overview> <h3 id=recent-activity translate>Recent Activity</h3> <div class="row mt30"> <div class=col-sm-6> <div class="panel panel-default"> <div class=recent-header translate>Recent Questions</div> <div class=fx-c ng-show=questions.loading> <span class="ud_circle-loader ud_icon--large m60"></span> </div> <div ng-hide=questions.loading> <div ng-show=questions.data.length ng-repeat="question in questions.data | limitTo:3" class="fx-lc recent-list"> <img ng-src="{{ question.user.image_50x50 }}" ng-class="{\'img-circle\': !question.is_instructor}"/> <div class="fx pl10"> <a ui-sref=base.dashboard.question-details({id:question.id}) class="ellipsis text-dark-grey" course-taking-tracking tracking-category=overview tracking-action=dashboard.tab.recent-questions.open-detail>{{ question.title || question.body | replaceImgTag | trimTags }}</a> </div> </div> <div ng-show="questions.data.length === 1"> <div class=recent-list-empty></div> <div class=recent-list-empty></div> </div> <div ng-show="questions.data.length === 2"> <div class=recent-list-empty></div> </div> <div ng-hide=questions.data.length> <h2 class=no-recent-title translate>No recent questions</h2> <div class=no-recent-body translate> You can ask questions throughout the course to get answers from the instructor or other students. </div> </div> <div class=recent-footer> <a ui-sref=base.dashboard.questions course-taking-tracking tracking-category=overview tracking-action=dashboard.tab.recent-questions.visit-question-tab> <span ng-show=questions.data.length translate> Browse all questions</span> <span ng-hide=questions.data.length translate> Post your first question</span> </a> </div> </div> </div> </div> <div class=col-sm-6> <div class="panel panel-default"> <div class=recent-header translate>Recent Instructor Announcements</div> <div class=fx-c ng-show=loadingAnnouncements> <span class="ud_circle-loader ud_icon--large m60"></span> </div> <div ng-hide=loadingAnnouncements> <div ng-show=announcements.length ng-repeat="announcement in announcements | limitTo:3" class="fx-lc recent-list"> <img ng-src="{{ announcement.user.image_50x50 }}"/> <div class="fx pl10"> <a class=text-dark-grey ui-sref=base.dashboard.announcements({ids:announcement.id})> <div class=ellipsis ng-show=announcement.title> {{ announcement.title }} </div> <div class=ellipsis ng-hide=announcement.title ng-bind-html="announcement.content | trimTags"> </div> </a> </div> </div> <div ng-show="announcements.length === 1"> <div class=recent-list-empty></div> <div class=recent-list-empty></div> </div> <div ng-show="announcements.length === 2"> <div class=recent-list-empty></div> </div> <div ng-hide=announcements.length> <h2 class=no-recent-title translate>No recent announcements</h2> <div class=no-recent-body translate> Your instructor may post announcements related to the course topic or to inform you of updates. </div> </div> <div class=recent-footer> <a ng-class="{\'disabled\':!announcements.length}" ui-sref=base.dashboard.announcements> <span translate>Browse all announcements</span> </a> </div> </div> </div> </div> </div> <div class=separator></div> <h3 translate>About this course</h3> <div class=course-headline> {{ course.headline }} </div> <div class=separator></div> <div class="row course-section"> <div class="col-xs-3 section-title" translate> By the numbers </div> <ul class=col-xs-4> <li class=list-item> <span translate>Lectures:</span> {{ course.num_published_lectures }} </li> <li class=list-item> <span translate>Video:</span> {{ course.content_info }} </li> <li class=list-item> <span translate>Skill level:</span> {{ course.instructional_level }} </li> </ul> <ul class=col-xs-4> <li class=list-item translate translate-n=course.num_subscribers translate-plural="{{ $count | number }} students"> 1 student </li> <li class=list-item> <span translate>Languages:</span> {{ course.locale.simple_english_title | translate }} </li> <li class=list-item ng-if=course.has_closed_caption translate> Closed Captions </li> </ul> </div> <div class=separator></div> <div class="row course-section"> <div class="col-xs-3 section-title" translate> Features </div> <ul class=col-xs-4> <li ng-if=features.course_landing_page.incentives.lifetime_access translate> Lifetime access </li> <li translate> Available on <a ng-href="{{ iosLink }}" target=_blank>iOS</a> and <a ng-href="{{ androidLink }}" target=_blank>Android</a> </li> </ul> <ul class=col-xs-4> <li ng-if=course.has_coding_exercise translate> Coding Exercises <em class="text-purple bold">New!</em> </li> <li ng-if=course.has_certificate translate> Certificate of Completion </li> </ul> </div> <div class=separator></div> <div class="row course-section"> <div class="col-xs-3 section-title" translate> Description </div> <view-more style="" class="col-xs-9 course-description"> <div ng-bind-html=course.description></div> <p class=course-description-title ng-if=course.prerequisites> <strong translate>What are the requirements?</strong> </p> <ul ng-if=course.prerequisites> <li ng-repeat="item in course.prerequisites track by $index">{{ item }}</li> </ul> <p class=course-description-title ng-if=course.objectives> <strong translate>What am I going to get from this course?</strong> </p> <ul ng-if=course.objectives> <li ng-repeat="item in course.objectives track by $index">{{ item }}</li> </ul> <p class=course-description-title ng-if=course.target_audiences> <strong translate>What is the target audience?</strong> </p> <ul ng-if=course.target_audiences> <li ng-repeat="item in course.target_audiences track by $index">{{ item }}</li> </ul> </view-more> </div> <div class=separator></div> <h3 id=course-instructor translate translate-n=course.visible_instructors.length translate-plural=Instructors> Instructor </h3> <div class="row course-section" ng-repeat="instructor in course.visible_instructors"> <div class="col-xs-3 section-title"> <img class=instructor-avatar ng-src="{{ instructor.image_200_H }}"> </div> <div class=col-xs-9> <div class=instructor-title> <a ng-href="{{ instructor.url }}">{{ instructor.title }}</a> </div> <div class=instructor-subtitle> {{ instructor.job_title }} </div> <div ng-if=features.course_landing_page.instructor_bio.social_links class="fx-lc instructor-social"> <a ng-repeat="profile in instructor.socialProfiles" ng-if=profile.url ng-href="{{ profile.url }}" target=_blank rel="noreferrer nofollow" class=iconed-btn> <i class=fa ng-class=profile.iconType></i> </a> </div> <div class=instructor-description ng-bind-html=instructor.description> </div> </div> </div> <div ng-if="recommendationUnits.length > 0"> <div class=separator></div> <ng-include class="row course-section" src="\'/ng/apps/my-courses/views/discovery-units.ng-template.html\'"></ng-include> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1237:function(e,t){var n="/ng/apps/course-taking-v4/dashboard/question-details.ng-template.html",i='<a class="db mt20" href=javascript:void(null) ng-click=back() translate>Back to All Questions</a> <div ng-if=questions.loading class=tac> <span class="ud_circle-loader ud_icon--large m60"></span> </div> <question-details show-new-tab=false on-delete=onDelete ng-if="questions.activeQuestion && !questions.loading"></question-details> <div ng-if="!questions.activeQuestion && !questions.loading" translate> Sorry! This question failed to load. </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1238:function(e,t){var n="/ng/apps/course-taking-v4/dashboard/questions.ng-template.html",i='<div ng-if=::questions.featureEnabled class=content__questions> <question-title-form></question-title-form> <question-body-form></question-body-form> <div ng-show=!editorState.isEditing> <form> <fieldset ng-disabled=questions.params.search> <div class="questions__filters row"> <div class="filters__order col-sm-3"> <select ng-model=questions.params.ordering class="form-control w100p" ng-change=sortQuestions() ng-options="option.value as option.name for option in orderOptions"> </select> </div> <div class="filters__filter col-sm-9"> <span> <input ng-click=filterFollowedQuestions() ng-checked=!!questions.params.followed type=checkbox class="ud-checkbox white" id=own-questions /> <label for=own-questions translate class=pr10>See questions I\'m following</label> </span> <span> <input ng-click=filterRespondedQuestions() ng-checked="questions.params.num_replies === 0" type=checkbox class="ud-checkbox white" id=unresponded-questions /> <label for=unresponded-questions translate>See questions without responses</label> </span> </div> </div> </fieldset> </form> <question-list questions=questions show-responses=true on-select=onSelect></question-list> </div> </div> <div ng-if=::!questions.featureEnabled class="mt20 tac" translate> Questions are currently disabled for your organization. </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1239:function(e,t){var n="/ng/apps/course-taking-v4/dashboard/reminders-modal.ng-template.html",i='<div class=modal-header> <button type=button class=close data-dismiss=modal ng-click=$dismiss() aria-label=Close> <span class=ud_i_close></span> </button> <h3 class="modal-title title" translate>Stay on Track by Setting Reminders</h3> </div> <form name=reminders-foo> <div class=modal-body> <h3 class="mt0 mb20" translate>Setting reminders is a great way to make progress towards your learning goals.</h3> <div class=well--flat> <p translate>Select Days & Time</p> <div class=days-select> <div class="dib m5" ng-repeat="day in dayLabels track by $index"> <input type=checkbox class="ud-checkbox ud-checkbox--round" ng-attr-id="{{ \'check-day-\' + $index }}" ng-disabled=loading ng-model=setDays[$index] /> <label ng-attr-for="{{ \'check-day-\' + $index }}">{{ day }}</label> </div> </div> <div class="dropdown time mt15"> <button class="btn btn-default time__btn-label" id=timeOfDayDropdown ng-disabled=loading type=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <span class="fl btn-label__text" translate> {{ selectedTime.display }}</span> <i class="fr fa fa-chevron-down"></i> </button> <ul class=dropdown-menu role=menu aria-labelledby=timeOfDayDropdown> <li ng-repeat="option in timeOptions"> <a href=javascript:void(0) ng-click=setTime(option); translate> {{ option.display }} </a> </li> </ul> </div> </div> </div> <div class=modal-footer> <div class=modal-footer--inner> <button ng-show=showDeleteAction type=button class="btn btn-tertiary" translate ng-click=deleteReminder()>Delete Reminders</button> <button type=button ng-disabled=loading class="btn btn-primary" translate ng-click=saveReminder()>Set Reminder</button> </div> </div> </form>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1240:function(e,t){var n="/ng/apps/course-taking-v4/free-preview/free-preview-header.ng-template.html",i='<div> <div class="fx-jsb text-white"> <div class="fx-ic ml15 youre-previewing" data-purpose=preview-text> <div translate class="a12 mb5">You\'re previewing:</div> <div class=a3><span translate>Lecture </span> {{curriculumItem.objectIndex}}</div> </div> <div class=fx-ic> <span> <span ng-show=!!course.discount_price class=bold data-purpose=preview-promotion-price> {{::course.discount_price.price_string}} </span> <span ng-class="course.discount_price ? \'ml10 td-line-through\' : \'bold\'" data-purpose=preview-original-price> {{::course.price}} </span> </span> <a href=javascript:void(0) data-purpose=preview-buy-button ng-click="openPopup=true;$root.$broadcast(\'pausecontent\');" class="btn btn-primary white ml20" translate> Buy Now </a> <a class="btn btn-tertiary white" ng-click=closePreview() translate> Exit Preview </a> <popup open=openPopup ng-href={{course.checkout_url}} extra-css=tighter-close></popup> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1241:function(e,t){var n="/ng/apps/course-taking-v4/interstitial/interstitial-v2.ng-template.html",i='<div class="fullscreen interstitial-page" user-activity-check user-activity-check-enabled=false> <div class=player-header> <div class=pos-r> <curriculum-navigation-button current-section=currentSection current-section-item=currentCurriculumItem show-title=false> </curriculum-navigation-button> <div class="player-header__button-group hide-when-user-inactive"> <dashboard-button></dashboard-button> </div> </div> </div> <div class="player-container fullscreen color-interstitial"> <div class=interstitial-content> <div class=headline> Section {{ ::currentSection.objectIndex }}: <span class=text-white>{{ ::currentSection.numCompletedItems }}/{{ ::currentSection.items.length }} Completed</span> </div> <div class=just-completed-item> <div translate class=just-completed-item__title> Just Completed: </div> <div class=lecture__item ng-class="{\'completed\': currentCurriculumItem.progressStatus == \'completed\'}"> <a class=lecture__item__link ng-href="{{ getItemLink(currentCurriculumItem) }}" ng-click="goToItem(currentCurriculumItem, animationType.prev)"> <span class=lecture__item__link__icon ng-class=currentItemClass> <i ng-class=::currentCurriculumItem.getIconCssClass()></i> <i class="bold ud_icon-check"></i> </span> <span class=lecture__item__link__name>{{ ::currentCurriculumItem.getTranslatedTitle() }}</span> </a> </div> </div> <div class=up-next-item> <div translate class=up-next-item__title> Up Next: </div> <div class=lecture__item ng-class="{\'completed\': nextCurriculumItem.progressStatus == \'completed\'}"> <a class=lecture__item__link ng-href="{{ getItemLink(nextCurriculumItem) }}" ng-click="goToItem(nextCurriculumItem, animationType.next)"> <span class=lecture__item__link__icon> <i ng-class=::nextCurriculumItem.getIconCssClass()></i> <i class="bold ud_icon-check"></i> </span> <span class=lecture__item__link__name>{{ ::nextCurriculumItem.getTranslatedTitle() }}</span> </a> </div> </div> </div> </div> <footer class="player-footer player-controls hide-when-user-inactive"> <div class=player-footer__left> <span class=auto-next-timer> <input type=checkbox class=ud-checkbox id=skipTimer ng-model=countdown.isRunning ng-change=autoNextTimerOnChange() /> <label for=skipTimer class="auto-next-timer__label text-highlight-grey"> <span ng-show=countdown.isRunning translate>Autoplaying in {{ countdown.countdown / 1000 }} seconds...</span> <span ng-show=!countdown.isRunning translate>Autoplay off</span> </label> </span> </div> <div class=player-footer__right> <continue-button object-type=currentCurriculumItem.type object-id=currentCurriculumItem.id go-to-interstitial=false> </continue-button> <curriculum-item-controls hotkeys-enabled=false> </curriculum-item-controls> </div> </footer> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1242:function(e,t){var n="/ng/apps/course-taking-v4/learntips/learntips-directive.ng-template.html",i='<div class=button-group--learntips> <a class="btn btn-control" ng-click=openModal()> <i class="fa fa-info"></i> </a> <button class="btn learntips" ng-click=openModal() ng-hide="me.settings.course_taking_v4_new_features_tips === \'off\'"> <span translate>Learn what\'s new</span> <i class="ud_i_close learntips__dismiss" ng-click="hideTooltip(); $event.stopPropagation()"></i> </button> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1243:function(e,t){var n="/ng/apps/course-taking-v4/learntips/learntips-modal.ng-template.html",i="<ng-include src=tipPartials[tipIndex]></ng-include>";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1244:function(e,t){var n="/ng/apps/course-taking-v4/learntips/tips/_announcement_tip.ng-template.html",i='<div class=modal-header> <button class="btn btn-default close" ng-click=$dismiss() aria-label=Close> <i class=ud_i_close></i> </button> <div class="modal-title bold" translate> Welcome to your new Course Taking experience </div> </div> <div class=modal-body> <iframe width=100% height=280px frameborder=0 webkitallowfullscreen mozallowfullscreen allowfullscreen ng-src="{{ learntipsIntroVideoUrl + \'&autoplay=1\' }}"></iframe> <div class=mt20 translate> We rebuilt our course player and dashboard to help you achieve your learning goals. </div> </div> <div class=modal-footer> <div class=modal-footer--inner> <button class="btn btn-primary" type=button ng-click=nextTip() translate> Next </button> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1245:function(e,t){var n="/ng/apps/course-taking-v4/learntips/tips/_bookmarks_tip.ng-template.html",i='<div class=modal-header> <button class="btn btn-default close" ng-click=$dismiss() aria-label=Close> <i class=ud_i_close></i> </button> <div class="modal-title bold" translate> Save moments for later </div> </div> <div class=modal-body> <video width=100% height=280px autoplay loop> <source src=https://udemy-images.udemy.com/videos/course-taking/bookmarks.mp4 type=video/mp4> </video> <div class=mt20 translate> Save and annotate parts of videos that are most important to you. Access bookmarks in the lecture and on the Course Dashboard. </div> <div class=mt10 translate> Notes are now Bookmarks. Keyboard shortcut: B </div> </div> <div class=modal-footer> <div class=modal-footer--inner> <button class="btn btn-primary" type=button ng-click=nextTip() translate> Next </button> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1246:function(e,t){var n="/ng/apps/course-taking-v4/learntips/tips/_controls_tip.ng-template.html",i='<div class=modal-header> <button class="btn btn-default close" ng-click=$dismiss() aria-label=Close> <i class=ud_i_close></i> </button> <div class="modal-title bold" translate> Set your pace </div> </div> <div class=modal-body> <video width=100% height=280px autoplay loop> <source src=https://udemy-images.udemy.com/videos/course-taking/controls.mp4 type=video/mp4> </video> <div class=mt20 translate> Click to speed up, slow down, or replay parts of a lecture. You control the pace of your learning experience. </div> <div class=mt10 translate> Keyboard shortcut: Left, Right, Shift Left, Shift Right </div> </div> <div class=modal-footer> <div class=modal-footer--inner> <button class="btn btn-primary" type=button ng-click=nextTip() translate> Next </button> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1247:function(e,t){var n="/ng/apps/course-taking-v4/learntips/tips/_curriculum_content_tip.ng-template.html",i='<div class=modal-header> <button class="btn btn-default close" ng-click=$dismiss() aria-label=Close> <i class=ud_i_close></i> </button> <div class="modal-title bold" translate> Navigate course content </div> </div> <div class=modal-body> <video width=100% height=280px autoplay loop> <source src=https://udemy-images.udemy.com/videos/course-taking/resources.mp4 type=video/mp4> </video> <div class=mt20 translate> Open the left menu to access resources and browse course content. </div> <div class=mt10 translate> Keyboard shortcut: C </div> </div> <div class=modal-footer> <div class=modal-footer--inner> <button class="btn btn-primary" type=button ng-click=nextTip() translate> Next </button> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1248:function(e,t){var n="/ng/apps/course-taking-v4/learntips/tips/_questions_tip.ng-template.html",i='<div class=modal-header> <button class="btn btn-default close" ng-click=$dismiss() aria-label=Close> <i class=ud_i_close></i> </button> <div class="modal-title bold" translate> Get answers to your questions </div> </div> <div class=modal-body> <video width=100% height=280px autoplay loop> <source src=https://udemy-images.udemy.com/videos/course-taking/questions.mp4 type=video/mp4> </video> <div class=mt20 translate> Find and view the most popular answers. Help other students by marking responses as helpful or replying to a question. </div> <div class=mt10 translate> Discussions are now Questions. Keyboard shortcut: Q </div> </div> <div class=modal-footer> <div class=modal-footer--inner> <button class="btn btn-primary" type=button ng-click=$dismiss() translate> Got it </button> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1249:function(e,t){var n="/ng/apps/course-taking-v4/lecture-view/article-viewer.ng-template.html",i='<div class="fullscreen scroll-wrapper"> <div class="message-container message-container--article"> <div class=a1>{{::lecture.title}}</div> <div class="a2 mb15">{{ curriculumItemEnum }}</div> <div ng-bind-html=content prettify></div> <div class=a2 ng-show="resources.length > 0" translate>Resources for this lecture</div> <resources-list course-id=lecture.course.id lecture-id=lecture.id resources=resources> </resources-list> </div> <footer class="player-footer player-controls"> <div class=player-footer__left>&nbsp;</div> <div class=player-footer__center> <ask-question-button></ask-question-button> </div> <div class=player-footer__right> <continue-button complete-lecture=completeLecture() object-type="\'lecture\'" object-id=lecture.id> </continue-button> <curriculum-item-controls hotkeys-enabled=false report-type="\'lecture\'" report-id=lecture.id> </curriculum-item-controls> </div> </footer> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1250:function(e,t){var n="/ng/apps/course-taking-v4/lecture-view/hotkeys.ng-template.html",i='<div class="fullscreen bg-black fx-c"> <div class="message-container message-container--hotkeys"> <a href=javascript:void(0) class="ud_i_close message-container__splash-close-bt" ng-click="$dismiss(\'cancel\')"></a> <div class="row mb30"> <div class="col-xs-6 p0 a1 hotkey-label" translate>Keyboard shortcuts</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div>?</div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Course Content</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>C</div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Browse Q&amp;A</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Q</div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Play/Pause</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Spacebar</div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Add Bookmark</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>B</div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Speed slower</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div class=ud_icon-arrow-left></div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Go back 15s</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div class=ud_icon-arrow-left></div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Speed faster</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div class=ud_icon-arrow-right></div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Go forward 15s</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div class=ud_icon-arrow-right></div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Fullscreen</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>F</div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Volume up</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div class=ud_icon-arrow-up></div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Exit fullscreen</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>ESC</div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Volume down</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div class=ud_icon-arrow-down></div></div> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1251:function(e,t){var n="/ng/apps/course-taking-v4/lecture-view/lecture-view.ng-template.html",i='<div class="fullscreen bg-black" ng-if=!lecture> <span class="preloader--center preloader--lg icon-spin"> <i class="ud_circle-loader text-white"></i> </span> </div> <div class=fullscreen ng-class=lectureViewClass user-activity-check user-activity-check-enabled={{userActivityCheckEnabled}} ng-if=lecture> <hotkeys hotkeys-type=lecture focus-element-class=video-js></hotkeys> <div class="player-container fullscreen" ng-switch=lecture.asset.asset_type ng-class="{\'questions-panel-open\': questionsPanelOpen}"> <video-player lecture=lecture on-auto-next=onPlayerEnded(isAutoPlay) ng-switch-when=Video></video-player> <video-player lecture=lecture on-auto-next=onPlayerEnded(isAutoPlay) ng-switch-when=VideoMashup></video-player> <video-player lecture=lecture on-auto-next=onPlayerEnded(isAutoPlay) ng-switch-when=Audio></video-player> <article-viewer lecture=lecture resources=curriculumItem.supplementaryAssets ng-switch-when=Article></article-viewer> <div class=fullscreen ng-switch-when=Presentation> <presentation-player lecture=lecture slide-urls=lecture.asset.slide_urls update-progress=updateProgress> <div class=controls__force-center> <ask-question-button></ask-question-button> </div> <continue-button object-type="\'lecture\'" object-id=lecture.id></continue-button> <curriculum-item-controls download-url=lecture.download_url hotkeys-enabled=false report-type="\'lecture\'" report-id=lecture.id> </curriculum-item-controls> </presentation-player> </div> <na-screen course=lecture.course lecture=lecture resources=curriculumItem.supplementaryAssets ng-switch-default></na-screen> </div> <div class=player-header ng-class="{\'questions-panel-open\': questionsPanelOpen}"> <div ng-if=isFreePreviewer class="hide-when-user-inactive preview-bar-wrapper bg-blue" user-active-on> <div id=preview-banner class="w100p zi99 top0" data-spy=affix data-offset-top=56> <free-preview-header></free-preview-header> </div> </div> <div class=pos-r> <div class="player-header__gradient hide-when-user-inactive"></div> <curriculum-navigation-button is-free-previewer=isFreePreviewer current-section=currentSection current-section-item=curriculumItem> </curriculum-navigation-button> <div class="player-header__button-group hide-when-user-inactive" user-active-on ng-if="! isFreePreviewer"> <dashboard-button></dashboard-button> <learntips></learntips> </div> </div> </div> <questions-panel read-only=isFreePreviewer lecture=lecture></questions-panel> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1252:function(e,t){var n="/ng/apps/course-taking-v4/lecture-view/presentation-player.ng-template.html",i='<div class=container--presentation tabindex=-1 ng-keyup=hotkey($event)> <div class="pos-r w100p h100p"> <div class="presentation__slide slide--center" ng-class="{\'slide--right\': !$first}" ng-repeat="slideUrl in slideUrls"> <img ng-src="{{ slideUrl }}" alt=Slide /> </div> </div> <div class="player-footer player-controls"> <div class=presentation__progress-bar> <div class="progress-bar__inner-bar bg-line-grey"></div> <div class="progress-bar__inner-bar bg-green" ng-style="{width: currentProgressWidth()}"></div> <div class=progress-bar__inner-bar> <div class=inner-bar__progress-unit ng-repeat="progressUnitWidth in progressUnitWidths track by $index" ng-style="{width: progressUnitWidth}" ng-click="skipTo($index + 1)"> </div> </div> </div> <div class=presentation__controls> <div class=controls__left> <button class="btn btn-sm btn-slide-control" ng-click=prev() ng-disabled=prevDisabled()> <i class=ud_i_previous></i> </button> <button class="btn btn-sm btn-slide-control" ng-click=next() ng-disabled=nextDisabled()> <i class=ud_i_next></i> </button> <span class="btn-text--sm slide-counter-display" translate>{{ currSlide }} of {{ numSlides }} Slides</span> </div> <ng-transclude class=controls__right></ng-transclude> <div class=controls__right ng-if=showDefaultRightControls> <button class="btn btn-sm btn-icon" ng-click=toggleFullscreen()> <i ng-class="{\'ud_icon-fullscreen\': !isFullscreen(), \'ud_icon-exitFullscreen\': isFullscreen()}"></i> </button> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1253:function(e,t){var n="/ng/apps/course-taking-v4/na-screen/na-screen.ng-template.html",i='<div class="fullscreen scroll-wrapper"> <div class="message-container message-container--na-screen"> <div class=a1>{{ ::lecture.title }}</div> <div class="a2 mb15">{{ curriculumItemEnum }}</div> <div class=mb30 ng-bind-html=lecture.description></div> <div class=mb30> <div class=mb15>{{ actionInfo }}</div> <a class="btn btn-secondary" ng-if=actionHandler ng-disabled=handling ng-href="{{ actionHref }}" ng-click="actionHandler($event, actionHref, actionTarget)"> <span class="ml30 mr30">{{ actionLabel }}</span> </a> </div> <div class=a2 ng-show="resources.length > 0" translate>Resources for this lecture</div> <resources-list course-id=course.id lecture-id=lecture.id resources=resources> </resources-list> </div> <footer class=player-footer> <div class=player-footer__left>&nbsp;</div> <div class=player-footer__center> <ask-question-button></ask-question-button> </div> <div class=player-footer__right> <continue-button object-type="\'lecture\'" object-id=lecture.id></continue-button> <curriculum-item-controls hotkeys-enabled=false report-type="\'lecture\'" report-id=lecture.id> </curriculum-item-controls> </div> </footer> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1254:function(e,t){var n="/ng/apps/course-taking-v4/question-answer/question-body-form-directive.ng-template.html",i='<div ng-show=editorState.isEditing> <p class="mb20 h4" translate>Have a technical issue? Our <a ng-href={{supportUrl}} target=_blank>Support Team</a> can help.</p> <div ng-if="!isInstructor && !replyCreateEnabled" class="alert alert-danger"> <p translate> This instructor is no longer actively answering questions, but we encourage you to continue to ask and answer questions from other students. </p> </div> <input placeholder="{{ \'Question title\' | translate }}" ng-model=editorState.title class="form-control mb10"/> <form-alert ng-if=editorState.formError.getMessage() error=editorState.formError.getCurrent() class="mb5 p10"></form-alert> <ud-wysiwyg request-editor-init=editorState.initialize request-reset-value=editorState.resetValue placeholder-text="{{\'Describe what you\\\'re trying to achieve and where you\\\'re getting stuck.\' | translate}}" editor-value=editorState.body redactor-theme={{editorState.redactorTheme}}> </ud-wysiwyg> <div class="fx fx-rt"> <button ng-click="editorState.isEditing = false" class="mr20 btn btn-sm btn-tertiary" type=button translate>Cancel</button> <button ng-click=submitQuestion($event) ng-disabled="editorState.submitDisabled || editorState.title.length < 1" class="btn btn-sm btn-primary" type=button> <span ng-show="editorState.formError.getType() === \'warning\'" translate> Proceed </span> <span ng-show="editorState.formError.getType() !== \'warning\'" translate> Post Question </span> </button> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1255:function(e,t){var n="/ng/apps/course-taking-v4/question-answer/question-list.ng-template.html",i='<div> <div class=questions-panel__content__course-questions> <div ng-repeat="question in questions.data" class=course-questions__question ng-click="openDetails($event, question)"> <div class="course-questions__question__question-content a11 w100p"> <div class=fx-jsb> <div> <img ng-src="{{ question.user.image_50x50 }}" ng-class="{\'img-circle\': !question.is_instructor}"/> </div> <div class="fx pl10 question-content__content"> <div class="bold ellipsis">{{ question.title }}</div> <div class=question-content__body ng-bind-html="question.body | replaceImgTag | trimTags"> </div> </div> <div ng-if=showResponses> <div class="tac bold">{{ question.num_replies }}</div> <div translate translate-n=question.num_replies translate-plural=Responses>Response</div> </div> </div> <div class=question-content__confirmation-box ng-show="$index === 0 && questions.showNew"> <i class=ud_icon-check></i> <h4 translate>Question added successfully</h4> <p translate>We\'ll notify you of responses so you can mark them as helpful or as the answer to your question.</p> <p translate>If your question is more general in nature you can try searching Google, Quora, or StackExchange while you wait for the instructor or other students to help.</p> <i class=ud_i_close ng-click=closeConfirmationBox($event)></i> </div> </div> </div> <div class=fx-c ng-if=questions.loading> <span class="ud_circle-loader ud_icon--large m60"></span> </div> </div> <div class="fx-c p20" ng-show=showRaiseHand()> <div class="fx tac"> <div class="bold pt10" translate ng-hide=questions.params.search>No questions yet</div> <div class="bold pt10" translate ng-show=questions.params.search>No related questions found</div> <div translate> Be the first to ask your question! Youll be able to add details in the next step. </div> <img src=/staticx/udemy/images/course-taking/raise_your_hand.png> </div> </div> <div class="fx-c mt15" ng-if="questions.hasMore && !questions.loading"> <button class="btn btn-primary" ng-click=loadMore() translate> Load more </button> </div> </div>';
window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1256:function(e,t){var n="/ng/apps/course-taking-v4/question-answer/question-title-form-directive.ng-template.html",i='<div ng-if=::!createEnabled class="alert alert-danger"> <div ng-if=::$root.isUserTermsBanned> <p translate> Your access to certain functionalities on Udemy has been restricted because you have not accepted the new <a target=_blank href=/terms/instructor/ >Terms of Use</a>. <a href=javascript:void(0) accept-terms>By clicking here, you agree to the new Terms</a>. </p> </div> <div ng-if=::!$root.isUserTermsBanned> <h3><i class="fa fa-exclamation-triangle"></i><span translate>Trust &amp; Safety Alert</span></h3> <p translate> Your access to the Q&amp;A feature is temporarily suspended. Please contact <a ng-href="{{ supportUrl }}">support</a> for more information. </p> </div> </div> <div ng-show=!editorState.isEditing class=mb20> <form ng-if="displayType===\'questionsPanel\'"> <div class="ud-search mb20 mt10"> <div class=mb15> <input ng-model=editorState.title type=text class=form-control ng-change=searchQuestions() placeholder="{{\'Search for a question\'|translate}}" tabindex=-1> </div> <div class=fx-lc> <div class="questions-description fx" ng-model=descriptionText> <p ng-show=questions.params.search translate translate-n=questions.searchCount translate-plural="We found {{ $count }} related questions"> We found {{ $count }} related question </p> <p ng-if=lecture ng-hide=questions.params.search translate translate-n=questions.count translate-plural="{{ $count }} questions in this lecture"> {{ $count }} question in this lecture </p> <p ng-if=quiz translate translate-n=questions.count translate-plural="{{ $count }} questions in this quiz"> {{ $count }} question in this quiz </p> </div> <div class=tooltip-container> <button ng-disabled="readOnly || !createEnabled" ng-click=addQuestion($event) class="ml5 btn btn-primary ask-button" type=button translate tabindex=-1> <span translate> Ask a new question </span> </button> </div> </div> </div> </form> <form ng-if="displayType!==\'questionsPanel\'"> <div class="ud-search clearfix fx fx-lc fx-wrap"> <div class=fx> <input ng-model=editorState.title type=text class=form-control ng-change=searchQuestions() placeholder="{{\'Search for a question\'|translate}}"> </div> <span class="ml20 mr20" translate>or</span> <span class=tooltip-container> <button ng-disabled="readOnly || !createEnabled" ng-click=addQuestion($event) class="ml5 btn btn-primary ask-button" type=button translate> <span class=ask-button__long-label translate> Ask a new question </span> <span class=ask-button__short-label translate> Ask </span> </button> </span> </div> </form> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1257:function(e,t){var n="/ng/apps/course-taking-v4/question-answer/questions-panel-directive.ng-template.html",i='<div class=questions-panel ng-class="{\'panel--open\': isPanelOpen}"> <div class="questions-panel__title a3 bold fx-c"> <span ng-show=editorState.isEditing translate>My Question</span> <span ng-show=!editorState.isEditing translate>Questions</span> </div> <i class="ud_i_back ud_icon-arrow-left" ng-show=editorState.isEditing ng-click="editorState.isEditing = false"></i> <i class=ud_minimize ng-click=minimize()></i> <i class=ud_i_close ng-click=close()></i> <div ng-if=::questions.featureEnabled class="questions-panel__content m10 p15 mr0 bg-white"> <question-title-form></question-title-form> <question-body-form class=mt10></question-body-form> <question-list ng-show=!editorState.isEditing questions=questions on-select=questions.onSelect></question-list> </div> <div ng-if=::!questions.featureEnabled class="mt20 tac" translate> Questions are currently disabled for your organization. </div> </div> <div class=questions-panel ng-class="{\'panel--open\': isPanelOpen && questions.isDetailsOpen}"> <i class="ud_i_back ud_icon-arrow-left" ng-click=back()></i> <div class="questions-panel__title a3 bold fx-c" translate> Question Details </div> <i class=ud_minimize ng-click=minimize()></i> <i class=ud_i_close ng-click=close()></i> <div class="questions-panel__content m10 p15 mr0 bg-white"> <question-details read-only=readOnly show-new-tab=true on-delete=back lecture-id=lecture.id ng-if=questions.activeQuestion></question-details> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1258:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/coding-exercise-editor-footer.ng-template.html",i='<div> <span class=mr20 ng-if="line && column" translate>Line {{ line }}, Column {{ column }}</span> <span class=mr20 ng-if="savingStatus == \'waiting\'" translate>Saving changes ...</span> <span class=mr20 ng-if="savingStatus == \'success\'" translate>All changes saved</span> <span class=mr20 ng-if="savingStatus == \'error\'" translate>Error saving your changes!</span> </div> <a ng-click=openResetModal() translate>Reset Code</a>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1259:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/coding-exercise-editor.ng-template.html",i="<div id=editor></div>";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1260:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/coding-exercise-files.ng-template.html",i='<div class=coding-exercise__files> <ul class=coding-exercise__files__list> <li ng-repeat="file in files"> <a ng-click=selectFile(file) ng-class="{\'active\': file === activeFile}">{{ file.file_name }}</a> </li> </ul> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1261:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/coding-exercise-hint.ng-template.html",i='<div ng-hide="me.settings.coding_exercise_hint === \'off\'" class=hint-container> <p translate> Stuck? Ask a question to get help from your instructor &amp; fellow students. </p> <button class="btn btn-primary btn-xs" ng-click=hideTooltip() style=margin-left:0> <span translate>OK, got it</span> </button> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1262:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/coding-exercise-output.ng-template.html",i='<div class=coding-exercise__output> <div class=coding-exercise__header--info ng-if="error && checkedSolutionOnce"> <strong class=coding-exercise__title--info> <i class="text-red ud_i_warning"></i> <span translate>Oops, there was an error on our end. Please try again.</span> </strong> </div> <div class=coding-exercise__header--info ng-if="!error && checkedSolutionOnce"> <strong class=coding-exercise__title--info ng-if=!solutionPassed> <i class="text-red ud_i_warning"></i> <span translate>Oops, your solution is incorrect.</span> </strong> <strong class=coding-exercise__title--info ng-if=solutionPassed> <i class="text-green ud_i_checkmark"></i> <span translate>Well done, your solution is correct!</span> </strong> <pre ng-if=output.evaluatorFeedback>{{output.evaluatorFeedback}}</pre> </div> <div class="coding-exercise__header--info border-top" ng-if="checkedSolutionOnce && output.userOutput"> <strong class=coding-exercise__title--info> <span translate>Your output</span> </strong> <pre>{{output.userOutput}}</pre> </div> <div class=coding-exercise__content--info ng-if="showPreview && previewFiles" ng-class="{\'border-top\': checkedSolutionOnce}"> <iframe src=https://null.udemy.com/staticx/udemy/js/libs/jsbin/iframe.html sandbox="allow-pointer-lock allow-same-origin allow-modals allow-forms allow-popups allow-scripts"></iframe> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1263:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/coding-exercise-reset-modal.ng-template.html",i='<div class=modal-body translate> Are you sure? This will delete the code that you wrote so far to solve this problem. </div> <div class=modal-footer> <div class=modal-footer--inner> <button type=button class="btn btn-tertiary" ng-click=$dismiss() translate> Cancel </button> <button type=button class="btn btn-primary" ng-click=$close();reset() translate> Yes, reset </button> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1264:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/coding-exercise-statement.ng-template.html",i="<div class=coding-exercise__statement__content> <div class=coding-exercise__statement__content__inner> <h2 class=coding-exercise__title>{{ title }}</h2> <p class=coding-exercise__desc ng-bind-html=instructions prettify></p> </div> </div>";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1265:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/hotkeys.ng-template.html",i='<div class="fullscreen bg-black fx-c"> <div class="message-container message-container--hotkeys"> <a href=javascript:void(0) class="ud_i_close message-container__splash-close-bt" ng-click="$dismiss(\'cancel\')"></a> <div class="row mb30"> <div class="col-xs-6 p0 a1 hotkey-label" translate>Keyboard shortcuts</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div>?</div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Select answer 1-9</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>1-9</div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Select answer 10-15</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div>0-5</div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Next question</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div class=ud_icon-arrow-right></div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Skip question</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div class=ud_icon-arrow-right></div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Course Content</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>C</div></div> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1266:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/quiz-coding-exercise-page.ng-template.html",i='<div class="fullscreen scroll-wrapper--coding-exercise" ng-class="{\'questions-panel-open\': questionsPanelOpen}"> <coding-exercise-statement instructions=question.prompt.instructions title=quiz.title class=coding-exercise__statement></coding-exercise-statement> <div class=coding-exercise__container> <coding-exercise-files files=studentFiles active-file=activeFile select-file=selectFile class=coding-exercise__left></coding-exercise-files> <div class=coding-exercise__content> <coding-exercise-editor file=activeFile update-cursor-position=updateCursorPosition update-file=updateFile register-resize-handler=registerResizeHandler class="fx coding-exercise__editor"></coding-exercise-editor> <coding-exercise-editor-footer line=currentLine column=currentColumn saving-status=savingStatus reset=reset class=coding-exercise__coding-footer></coding-exercise-editor-footer> </div> <coding-exercise-output class=coding-exercise__right ng-if="showPreview || checkedSolutionOnce" ng-init=makeOutputPaneResizable() show-preview=showPreview checked-solution-once=checkedSolutionOnce preview-files=studentFiles output=evaluator.checkSolutionOutput solution-passed=evaluator.solutionPassed error=evaluator.checkSolutionError></coding-exercise-output> </div> <footer class="player-footer coding-exercise-footer"> <div class=player-footer__left> <coding-exercise-hint ng-if="checkedSolutionOnce && !evaluator.solutionPassed"></coding-exercise-hint> <ask-question-button></ask-question-button> </div> <div class=player-footer__right> <button class="btn btn-sm coding-exercise__btn-check" ng-click=checkSolution() ng-class="evaluator.checkSolutionWaiting ? \'btn-waiting\' : \'btn-primary\'"> <div class=primary> <span translate>Check Solution</span> </div> <div class=waiting> <span class="ud_circle-loader ud_icon--small"></span> <span translate>Checking</span> </div> </button> <continue-button button-classes="btn btn-sm btn-secondary coding-exercise__btn-continue" object-type="\'quiz\'" object-id=quiz.id> </continue-button> <div class=hidden-on-mobile-app> <curriculum-item-controls hotkeys-enabled="quiz.type !== \'coding-exercise\'" report-type="\'assessment\'" report-id=question.id> </curriculum-item-controls> </div> </div> </footer> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1267:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/quiz-question-cp.ng-template.html",i='<div class="quiz__cp quiz-mask coding-challenge visible-xs"> <div class="text-center fx fx-c fx-dc h100p p20"> <h3 translate>Coding Exercises requires your browser to have a wider horizontal resolution</h3> <button class="p10 btn btn-primary" ng-disabled=transitionToNextItem ng-click=nextLecture();> <span ng-show=transitionToNextItem> <span class="ud_circle-loader ud_icon--small"></span> </span> <span ng-hide=transitionToNextItem translate> Next Lecture </span> </button> </div> </div> <div class="quiz__cp quiz-mask coding-challenge fxw hidden-xs"> <div class="instructions text-white p15"> <h4 translate>Instructions</h4> <p ng-bind-html=instructions></p> <div class="buttons mb20"> <button type=button class="btn btn-primary white mb10 w100p js-run-code" ng-disabled=executingCallback ng-click="UD.GoogleAnalytics.trackEvent(\'coding_exercise\', \'run_code\');\n                    runCode()"> <span translate>Run Code</span> </button> <button type=button class="btn btn-secondary white w100p" ng-click="UD.GoogleAnalytics.trackEvent(\'coding_exercise\', \'show_solution\');\n                    clickShowSolution();"> <span translate>Show the Solution</span> </button> </div> <div ng-repeat="hint in hints"> <input id=side-tab{{$index}} type=checkbox class="side-tab-input dn"> <label class="pointer collapsed ml-10" for=side-tab{{$index}} ng-click="UD.GoogleAnalytics.trackEvent(\'coding_exercise\', \'help_me\')"> <i class="fa fa-caret-right side-tab-arrow mr5 dib"></i><b><span>{{hint.title}}</span></b> </label> <div class="side-tab-content dn"><p class=ml10>{{hint.text}}</p></div> </div> </div> <div class="fx fxdc"> <div class="fxw header"> <div class="br-1 left-panel-header" style=width:50%> <div class=panel-title translate>Your Solution</div> <ul class="nav nav-tabs"> <li ng-repeat="file in initialFiles" ng-class="{\'active\': $index == activeFile}"> <a ng-click=setInputFile($index)>{{file.file_name}}</a> </li> </ul> <a class="p5 reset-button" ng-click=reset() translate>Reset Code</a> </div> <div class="fx right-panel-header"> <div class=panel-title> <span ng-show=showSolution translate>Solution</span> <span ng-hide=showSolution translate>Result</span> </div> <ul ng-if=showSolution class="nav nav-tabs"> <li ng-repeat="file in solutionFiles" ng-class="{\'active\': $index == activeSolutionFile}"> <a ng-click="$parent.activeSolutionFile = $index">{{file.file_name}}</a> </li> </ul> </div> </div> <div ng-show=showMessage class="messages p10 text-center text-white" ng-class="success ? \'messages--success\' : \'messages--fail\'"> <i class="fa fa-3x message-icon" ng-class="success ? \'fa-check-circle\' : \'fa-exclamation-circle\'"></i> <span class=message-text ng-bind="showYes ? defaultMessage : message"></span> <button ng-show=showYes class="p10 btn btn-secondary white" translate ng-click="UD.GoogleAnalytics.trackEvent(\'coding_exercise\', \'error_yes\');\n                    clickMoreHelp();">Yes</button> <button ng-show="!success && !showYes" class="p10 btn btn-secondary white" translate ng-click="UD.GoogleAnalytics.trackEvent(\'coding_exercise\', \'error_close\');\n                    clickClose();">Close</button> <button ng-hide=showYes class="p10 btn btn-primary white" translate ng-click="UD.GoogleAnalytics.trackEvent(\'coding_exercise\', \'next_lecture\');\n                    nextLecture();">Next Lecture</button> </div> <div class="fxw fx bt-1"> <div ui-ace="{onLoad: aceLoaded}" class="p10 br-1 js-ace-code-editor" ng-model=inputFile.content style=width:50%> </div> <div class="fx fxdc"> <div ng-show="resultSrc && !showSolution" class="fx fxdc"> <iframe class="fx fxw" ng-src={{resultSrc}} frameborder=0></iframe> </div> <div ui-ace ng-show=showSolution ng-model=solutionFile readonly=readonly class="fx p10 js-ace-code-editor-static noselection"> </div> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1268:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/quiz-question-fitb.ng-template.html",i='<div class=quiz__fitb> <related-lecture quiz=quiz question=question ng-if=question.related_lectures.length></related-lecture> <question class=quiz__question></question> <div class=quiz__answer> <button class="btn btn-primary" ng-click=answerQuestionFITB() ng-disabled="question.answered || question.answer_shown || question.fill_count < question.answers.length"> <span translate>Check Your Answer</span> </button> <button class="btn btn-secondary" ng-click=showAnswerFITB() ng-hide="question.answered || question.answer_shown || question.attempts < 1"> <span translate>Show Answer(s)</span> </button> </div> <b class="fs15 db mt10" ng-show=question.answered translate> Good job, please continue to the next question. </b> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1269:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/quiz-question-list.ng-template.html",i='<ul> <li class=result__question ng-repeat="questionIndex in questionList" ng-init="question = quizAttempt.questions[questionIndex]"> <a href=javascript:void(0); ng-click=revisitQuestion(questionIndex)> <span ng-if=question.question_plain ng-bind-html=question.question_plain></span> <span ng-if=!question.question_plain translate>Question {{question.questionIndex}}</span> </a> <a class="result__related-lecture hidden-on-mobile-app" target=_blank href={{question.related_lectures[0].url}} ng-if="questionOutcome == \'wrong\' && question.related_lectures.length"> <p> <span translate>Lecture {{question.related_lectures[0].object_index}}:</span> {{question.related_lectures[0].title}} </p> </a> </li> </ul>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1270:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/quiz-question-mc.ng-template.html",i='<div class=quiz__mc> <question class=quiz__question ng-bind-html=question.prompt.question prettify></question> <a href=javascript:void(0); ng-click=showAnswerMC() ng-hide="question.answered || question.answer_shown || question.attempts < 2" class="mb10 dib" translate> Show Answer </a> <related-lecture quiz=quiz question=question ng-if=question.related_lectures.length></related-lecture> <ul class=quiz__answers> <li class="answers__option answers--{{answer.result}}" ng-class="answer.correct && question.answer_shown ? \'answers__shown\': \'\'" ng-repeat="answer in question.answers" ng-click="answer.result || answerQuestionMC(answer)"> <span class=answers__number> <span ng-hide=answer.result> {{$index+1}} </span> <i class=ud_i_close ng-show="answer.result == \'wrong\'"></i> <i class=ud_icon-check ng-show="answer.result == \'correct\'"></i> </span> <span class=answers__question-text> <div ng-bind-html=answer.text prettify prettify-delay=1000 prettify-stop-propagation=true></div> <span ng-show=answer.result>{{answer.feedback}}</span> <b class="fs15 db mt10" ng-show="answer.result == \'wrong\'" translate> Please try again. </b> <b class="fs15 db mt10" ng-show="answer.result == \'correct\' && !answer.autofilled" translate> Good job, please continue to the next question. </b> </span> </li> </ul> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1271:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/quiz-question-page.ng-template.html",i='<div class="fullscreen fx-c scroll-wrapper"> <div class="message-container message-container--quiz" ng-show=question.show> <quiz-question-mc ng-if="question.assessment_type == \'multiple-choice\'"></quiz-question-mc> <quiz-question-fitb ng-if="question.assessment_type == \'fill-in-the-blanks\'"></quiz-question-fitb> <quiz-question-cp ng-if="question.assessment_type == \'coding-problem\'"></quiz-question-cp> </div> <footer ng-if="quiz.type !== \'coding-exercise\'" class=player-footer> <div class=player-footer__left> <div ng-hide=question.answered> <a class="btn btn-sm btn-tertiary" href=javascript:void(0); ng-click=skipQuestion() ng-hide=question.answered> <span class=dn-sm translate>Skip Question</span> <span class="dn db-force-sm" translate>Skip</span> </a> </div> </div> <div class=player-footer__right> <div class=btn-text--sm> <span class=dn-sm translate>Question {{question.questionIndex}} of {{quiz.questions.length}}</span> <span class="dn db-force-sm" translate>{{question.questionIndex}} of {{quiz.questions.length}}</span> </div> <button class="btn btn-sm btn-primary" ng-click=nextQuestion() ng-show="!question.revisiting && question.nextQuestionIndex" ng-disabled=!question.answered> <span class="dn-sm mr5" translate>Next</span> <i class=ud_i_next></i> </button> <button class="btn btn-sm btn-primary" ng-click=showResults() ng-show="!question.revisiting && !question.nextQuestionIndex" ng-disabled=!question.answered> <span translate>See Results</span> </button> <button class="btn btn-sm btn-secondary" ng-click=backToResults() ng-show=question.revisiting> <span translate>Back to Results</span> </button> <div class=hidden-on-mobile-app> <curriculum-item-controls hotkeys-enabled="quiz.type !== \'coding-exercise\'" report-type="\'assessment\'" report-id=question.id> </curriculum-item-controls> </div> </div> </footer> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1272:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/quiz-results-page.ng-template.html",i='<div class=fullscreen sticky-nav=result__header--sticky> <header class=result__header ng-class="{\'result__header--fail\': !quizAttempt.stats.user_passed}"> <div class="message-container message-container--quiz"> <span class=icon ng-show="!quizAttempt.stats.summary.skipped.length && quizAttempt.stats.user_passed"> <i class=ud_line-star></i> </span> <h2 class=quiz__title> <span ng-show=quizAttempt.stats.summary.skipped.length translate>Complete the quiz to see your results.</span> <span ng-show="!quizAttempt.stats.summary.skipped.length && quizAttempt.stats.user_passed" translate>Great job! You are ready to move on to the next lecture.</span> <span ng-show="!quizAttempt.stats.summary.skipped.length && !quizAttempt.stats.user_passed" translate>Review the course materials to expand your learning.</span> </h2> <div class=quiz__summary ng-if="quiz.type !== \'coding-exercise\'"> <span translate>You got {{quizAttempt.stats.summary.correct.length}} out of {{quizAttempt.stats.user_num_answers}} correct on the first attempt. </span> <span ng-show=quizAttempt.stats.summary.skipped.length translate translate-n=quizAttempt.stats.summary.skipped.length translate-plural="{{quizAttempt.stats.summary.skipped.length}} questions are skipped."> {{quizAttempt.stats.summary.skipped.length}} question is skipped. </span> </div> </div> </header> <div class="message-container message-container--quiz"> <section class=quiz__result ng-if="quiz.type !== \'coding-exercise\'"> <div class=skipped ng-show=quizAttempt.stats.summary.skipped.length> <b class=result__title translate> <i class="icon fa fa-repeat"></i> <span translate>What you skipped</span> </b> <quiz-question-list quiz-attempt=quizAttempt question-outcome="\'skipped\'"></quiz-question-list> </div> <div class=correct ng-show=quizAttempt.stats.summary.correct.length> <b class=result__title> <i class="icon ud_icon-check text-green"></i> <span translate>What you know</span> <a class="result__hint tooltip-container hidden-on-mobile-app" href=javascript:void(0)> <i class="fa fa-info-circle"></i> <span class="tooltip--new tooltip--center" translate>These are questions you got right on the first try.</span> </a> </b> <quiz-question-list quiz-attempt=quizAttempt question-outcome="\'correct\'"></quiz-question-list> </div> <div class=wrong ng-show=quizAttempt.stats.summary.wrong.length> <b class=result__title> <i class="icon ud_i_close text-red"></i> <span translate>What you should review</span> </b> <quiz-question-list quiz-attempt=quizAttempt question-outcome="\'wrong\'"></quiz-question-list> </div> </section> <footer class=player-footer> <div class=player-footer__left> <button class="btn btn-sm btn-secondary" ng-click=retryQuiz() ng-if=quizAttempt.stats.user_passed> <span translate ng-if="quiz.type !== \'coding-exercise\'" class=dn-sm> Retry Quiz </span> <span translate ng-if="quiz.type === \'coding-exercise\'" class=dn-sm> Retry Coding Exercise </span> <span class="dn db-force-sm" translate>Retry</span> </button> <button class="btn btn-sm btn-secondary hidden-on-mobile-app" ng-click=continueCourse() ng-disabled=transitionToNextItem ng-if=!quizAttempt.stats.user_passed> <span ng-show=transitionToNextItem> <span class="ud_circle-loader ud_icon--small"></span> </span> <span class="dn-sm mr5" translate ng-hide=transitionToNextItem>Continue</span> <i class=ud_i_next></i> </button> </div> <div class=player-footer__right> <button class="btn btn-sm btn-primary" ng-click=retryQuiz() ng-if=!quizAttempt.stats.user_passed> <span translate ng-if="quiz.type !== \'coding-exercise\'" class=dn-sm> Retry Quiz </span> <span translate ng-if="quiz.type === \'coding-exercise\'" class=dn-sm> Retry Coding Exercise </span> <span class="dn db-force-sm" translate>Retry</span> </button> <button class="btn btn-sm btn-primary hidden-on-mobile-app" ng-click=continueCourse() ng-disabled=transitionToNextItem ng-if=quizAttempt.stats.user_passed> <span class="ud_circle-loader ud_icon--small" ng-show=transitionToNextItem></span> <span class="dn-sm mr5" translate ng-hide=transitionToNextItem>Continue</span> <i class=ud_i_next></i> </button> <div class=hidden-on-mobile-app> <curriculum-item-controls hotkeys-enabled="quiz.type !== \'coding-exercise\'" report-type="\'quiz\'" report-id=quiz.id> </curriculum-item-controls> </div> </div> </footer> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1273:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/quiz-start-page.ng-template.html",i='<div class="fullscreen quiz__start-page scroll-wrapper"> <div class="message-container message-container--quiz"> <section class=quiz__info> <h2 class=quiz__title>{{quiz.title}}</h2> <div class=quiz__status> <span translate>Quiz {{quiz.object_index}}</span> | <span translate translate-n=quiz.num_assessments translate-plural="{{ quiz.num_assessments }} Questions"> 1 Question </span> </div> <p class=quiz__description ng-bind-html=quiz.description></p> </section> <nav class="quiz__nav mb10"> <button class="btn btn-primary" ng-click=startQuiz() autofocus> <span ng-hide=quizAttempt translate>Start Quiz</span> <span ng-show=quizAttempt translate>Resume Quiz</span> </button> <button class="btn btn-tertiary hidden-on-mobile-app" href=javascript:void(0); ng-click=skipQuiz() ng-disabled=transitionToNextItem> <span ng-show=transitionToNextItem> <span class="ud_circle-loader ud_icon--small"></span> </span> <span ng-if="quiz.type === \'simple-quiz\' && !transitionToNextItem" translate>Skip Quiz</span> </button> </nav> </div> <footer class=player-footer> <div class=player-footer__left>&nbsp;</div> <div class=player-footer__right> <div class=hidden-on-mobile-app> <curriculum-item-controls hotkeys-enabled=true report-type="\'quiz\'" report-id=quiz.id> </curriculum-item-controls> </div> </div> </footer> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1274:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/quiz-view.ng-template.html",i='<div class="fullscreen bg-white" ng-if=!quiz> <span class="preloader--center preloader--lg icon-spin"> <i class=ud_circle-loader></i> </span> </div> <div class="fullscreen theme-white" user-activity-check user-activity-check-enabled=false ng-if=quiz> <hotkeys hotkeys-type=quiz></hotkeys> <div class="player-container fullscreen" ng-switch=quizState> <quiz-start-page ng-if="quiz.type !== \'coding-exercise\'" quiz=quiz quiz-attempt=latestQuizAttempt ng-switch-when=start_page></quiz-start-page> <div ng-switch-when=question_page> <quiz-question-page quiz=quiz quiz-attempt=latestQuizAttempt question=currentQuestion ng-if=!isNewCodingExercise> </quiz-question-page> <quiz-coding-exercise-page quiz=quiz quiz-attempt=latestQuizAttempt question=quiz.questions[0] student-files=studentFiles ng-if=isNewCodingExercise> </quiz-coding-exercise-page> </div> <quiz-results-page quiz=quiz quiz-attempt=latestQuizAttempt ng-switch-when=results_page></quiz-results-page> </div> <div class=player-header ng-class="{\'coding-exercise\': isNewCodingExercise,\n                    \'questions-panel-open\': questionsPanelOpen}"> <div class="player-header__gradient hide-when-user-inactive quiz-section"></div> <curriculum-navigation-button class="slidable-curriculum-nav hidden-on-mobile-app" current-section=currentSection current-section-item=curriculumItem> </curriculum-navigation-button> <div class="player-header__button-group hide-when-user-inactive" user-active-on> <dashboard-button class=hidden-on-mobile-app></dashboard-button> </div> </div> <questions-panel read-only=isFreePreviewer quiz=quiz ng-if=isNewCodingExercise></questions-panel> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1275:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/related-lecture.ng-template.html",i='<div class="quiz__related-lecture hidden-on-mobile-app"> <div class=fx-jsb> <a href=javascript:void(0); ng-click=toggleRelatedLecture() ng-show=question.attempts class="fx link--gray ellipsis"> <i class="fa fa-angle-down" ng-show=relatedLectureType></i> <i class="fa fa-angle-right" ng-hide=relatedLectureType></i> <span translate>This was discussed in Lecture {{lecture.object_index}}:</span> <b>{{lecture.title}}</b> </a> </div> <div class=quiz__related-video ng-if="relatedLectureType == \'Video\' || relatedLectureType == \'VideoMashup\'"> <video-player class=related-video__player lecture=video_lecture page-config=embed></video-player> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1276:function(e,t){var n="/ng/apps/course-taking-v4/quiz-view/u-blank.ng-template.html",i='<div class="blank-question blank-question--{{blank.result}}"> <input type=text class=blank-question__text placeholder=blank ng-model=blank.fill ng-change=fillChanged() ng-disabled="question.answer_shown || blank.result == \'correct\'"/> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1277:function(e,t){var n="/ng/apps/course-taking-v4/review/review-prompt.ng-template.html",i='<div class="player-container fullscreen bg-light-grey"> <div class="message-container message-container--nps message-container--review"> <review course-review-state-shared=true is-instructor=isInstructor course=course is-enabled="isInstructor || !isPreviewer" show-star-label=true is-in-course-review=true class=message-container--nps__review></review> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1278:function(e,t){var n="/ng/apps/course-taking-v4/sidenav/sidenav.ng-template.html",i='<div class="sidebar--nav nav-close" tab-index=-1> <ng-transclude></ng-transclude> </div>';
window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1399:function(e,t){var n="/ng/directives/activity/activity-comments.ng-template.html",i='<div class="activity-comments-compatability-for-less-v5 --used-for-less-v5"> <div class="comments-block component-thread-head --used-for-less-v5"> <div class=view-more-comments-row ng-show="invisibleComments.length > 0"> <a href=javascript:void(0) prevent-click ng-click=loadMoreComments()> <i class=icon-plus-sign-alt></i> <span ng-show="invisibleComments.length > pageSize" translate> View {{pageSize}} more comments ({{invisibleComments.length}} left) </span> <span ng-show="invisibleComments.length <= pageSize"> <span ng-show="invisibleComments.length == 1" translate>View 1 more comment</span> <span ng-show="invisibleComments.length != 1" translate>View {{invisibleComments.length}} more comments</span> </span> </a> </div> <div class=activity-comments-container> <ul class="comments-container updates-comments" ng-show="visibleComments.length > 0"> <li ng-repeat="visibleComment in visibleComments"> <comment comment=visibleComment me=me activity-id=activity.id show-image=true update-comment-fn="updateComment(commentId, commentText, callbackFn)" delete-comment-fn=deleteComment(commentId)></comment> </li> </ul> <span ng-if=::!$root.isPreviewer> <comment comment="" me=me activity-id=activity.id show-form=true show-image=true add-comment-fn="::!$root.isActivityPreview && addComment(commentText)"></comment> </span> <div ng-if=::$root.isPreviewer translate> You are in preview mode. You need to purchase this course to comment to this announcement. </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1400:function(e,t){var n="/ng/directives/activity/comment.ng-template.html",i='<div class=comment-view-container comment-id={{comment.id}}> <div class="comment-form-container clearfix fx-lc" ng-show=showForm ng-class="{\'edit-mode\': editEnabled}"> <span class="thumb-wrapper thread-head__avatar --used-for-less-v5"> <img class="thumb small round --used-for-less-v5" ng-src={{$root.me.image_50x50}} alt="{{\'Me\' | translate}}" title="{{\'Me\' | translate}}"> </span> <div class="comment-textarea-container thread-head__basic-info --used-for-less-v5"> <form class="form-horizontal --used-for-less-v5"> <textarea ng-model=commentText text-area-expand rows=1 focus-on=shouldFocus blur-on=shouldBlur ui-keypress="{\'enter\': \'enterPressed($event)\'}" ui-keydown="{\'esc\': \'escPressed($event)\'}" ng-attr-placeholder="{{\'Enter your comment\' | translate}}" ng-focus="isTextAreaFocused=true" ng-blur="isTextAreaFocused=false" class="form-control --used-for-less-v5"></textarea> <div class=comment-notes ng-show=isTextAreaFocused translate> Press <b>Enter</b> to post, <b>Esc</b> to cancel, <b>Shift + Enter</b> to go to a new line </div> </form> </div> </div> <div class="single-comment-container fx fx-lt" ng-hide=showForm> <span class="thumb-wrapper thread-head__avatar --used-for-less-v5" ng-show=showImage user-id={{comment.user.id}}> <img class="thumb small round --used-for-less-v5" ng-src={{comment.user.image_50x50}} alt="{{\'Commenter\' | translate}}" title="{{\'Commenter\' | translate}}"> </span> <div class=fx> <div class="hidden-btns fr" ng-show="$root.me.id == comment.user.id || $root.isInstructor"> <a class="comment-edit-link mini-act-btn mini-tooltip2" title=Edit href=javascript:void(0) prevent-click ng-show="$root.me.id == comment.user.id" ng-click=onCommentEdit()> <i class="icon-pencil fa fa-pencil" aria-hidden=true></i> <span class=mini-tooltip-text translate>Edit</span> </a> <a class="comment-delete-link mini-act-btn mini-tooltip2" href=javascript:void(0) title=Delete prevent-click ng-click=onCommentDelete()> <i class="icon-trash fa fa-trash" aria-hidden=true></i> <span class=mini-tooltip-text translate>Delete</span> </a> </div> <div class="comment-body thread-head__basic-info --used-for-less-v5"> <a href={{comment.user.url}} class=commenter ng-bind=comment.user.title></a> <time class=comment-time>&middot; {{comment.created | fromNow}}</time> <a class="ud-popup mini-tooltip2 pull-tooltip-left fs16 report-comment" ng-click="openPopup=true" href=javascript:void(0) ng-show=$root.report_abuse> &middot; <i class=icon-flag></i> <span translate class=mini-tooltip-text> Report Abuse </span> </a> <popup open=openPopup href="/feedback/report?related_object_type=activitycomment&related_object_id={{comment.id}}"> </popup> <span ng-bind-html="comment.body | textToHtml" class="no-compress --used-for-less-v5"></span> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,i)}]),e.exports=n},1407:function(e,t,n){(function(e){e.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(t){var n={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(r,s,o,a){var l,c=[];l=s.$eval(a["ui"+i(r)]),e.forEach(l,function(n,i){var r,s;s=t(n),e.forEach(i.split(" "),function(t){r={expression:s,keys:{}},e.forEach(t.split("-"),function(e){r.keys[e]=!0}),c.push(r)})}),o.bind(r,function(t){var i=!(!t.metaKey||t.ctrlKey),o=!!t.altKey,a=!!t.ctrlKey,l=!!t.shiftKey,u=t.keyCode;"keypress"===r&&!l&&u>=97&&u<=122&&(u-=32),e.forEach(c,function(e){var r=e.keys[n[u]]||e.keys[u.toString()],c=!!e.keys.meta,d=!!e.keys.alt,h=!!e.keys.ctrl,p=!!e.keys.shift;r&&c===i&&d===o&&h===a&&p===l&&s.$apply(function(){e.expression(s,{$event:t})})})})}}]),e.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,n,i){e("keydown",t,n,i)}}}]),e.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,n,i){e("keypress",t,n,i)}}}]),e.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,n,i){e("keyup",t,n,i)}}}])}).call(t,n(2))},1411:function(e,t,n){var i;!function(r,s){"use strict";i=function(){return s(r)}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(this,function(e){"use strict";function t(e,t){if(0===e)return!1;var n=e,i=1,r=-1,s=-1;do{if(r=t[n].indexOf("*/"),s=t[n].indexOf("/*"),r!==-1&&i++,r===t[n].length-2&&s!==-1&&i--,s!==-1&&(i--,0===i))return!0;n-=1}while(0!==n);return!1}function n(e,t){for(var n;--e>-1;){if(n=t.substr(e,1),'"'===n||"'"===n||"."===n)return!0;if(("/"===n||"*"===n)&&(--e,"/"===n))return!0}return!1}function i(e,t,n){a.lastIndex=0,l.lastIndex=0;var i=!1,r=n.slice(t).join("\n").substr(e).replace(l,"");return r.replace(a,function(e,t,n){var s=r.substr(0,n).replace(c,"").trim();0===s.length&&(i=!0)}),i}function r(e,r){function s(e,t,n){return t.slice(0,n)+"{;"+h+"({ line: "+e+", reset: true }); "+t.slice(n)}var a=[],c=e.split("\n"),d=!1,h=u.alias+".protect",p={},f={},m=null;return r||(r=0),c.forEach(function(e,u){if(o.lastIndex=0,l.lastIndex=0,!d){e.toLowerCase().indexOf("noprotect")!==-1&&(d=!0);var g=-1,v=-1,y=u,b=u-r+1,w="",_=!1,C=!1,k=!1,A=e.match(o)||[],E=A.length?A[0]:"",S=e.match(l)||[],x=0,T=0,F=!1;if(S.length&&(g=e.indexOf(S[1]),n(g,e)||t(u,c)||i(g,u,c)&&(m=u)),!p[u]){if(f[u])return void a.push(e);if(E&&1===A.length&&e.indexOf("jsbin")===-1){if(_="do"===E,v=g=e.indexOf(E),n(g,e))return void a.push(e);if(t(u,c))return void a.push(e);for(g=e.indexOf(E)+E.length,g===e.length&&g===e.length&&u<c.length-1&&(a.push(e),u++,e=c[u],p[u]=!0,g=0);g<e.length;){if(w=e.substr(g,1),"("===w&&x++,")"===w&&(x--,0===x&&k===!1&&(k=g)),"{"===w&&T++,"}"===w&&T--,0===x&&(";"===w||"{"===w)){if(";"===w)u!==y?(a[y]=a[y].substring(0,k+1)+"{\nif ("+h+"({ line: "+b+" })) break;\n"+a[y].substring(k+1),e+="\n}}\n"):e=e.substring(0,k+1)+"{\nif ("+h+"({ line: "+b+" })) break;\n"+e.substring(k+1)+"\n}}\n",F=!0;else if("{"===w){var $=";\nif ("+h+"({ line: "+b+" })) break;\n";e=e.substring(0,g+1)+$+e.substring(g+1),g+=$.length}if(u===y&&null===m?(e=s(b,e,v),g+=(";"+h+"({ line: "+u+", reset: true }); ").length):null===m?a[y]=s(b,a[y],v):(void 0===a[m]&&(m--,v=0),a[m]=s(b,a[m],v),m=null),_){for(C=!1;g<e.length;){if(w=e.substr(g,1),"{"===w&&T++,"}"===w&&T--,C=0===T,C&&e.indexOf("while")!==-1)return e+="}",a.push(e),void(p[u]=!0);g++,g===e.length&&u<c.length-1&&(a.push(e),p[u]=!0,u++,e=c[u],g=0)}return}if(F)return void a.push(e);for(;null!==e;){if(w=e.substr(g,1),"{"===w&&T++,"}"===w&&(T--,0===T))return e=e.substring(0,g+1)+"}"+e.substring(g+1),a.push(e),void(p[u]=!0);g++,g>=e.length&&(a.push(e),p[u]=!0,u++,e=c[u],g=0)}return}g++,g===e.length&&u<c.length-1&&(a.push(e),u++,e=c[u],p[u]=!0,g=0)}}else a.push(e)}}}),d?e:a.join("\n")}var s=null,o=/\b(for|while|do)\b/g,a=/\b(for|while|do)\b/,l=/\b(?!default:)([a-z_]{1}\w+:)/i,c=/(?:\/\*(?:[\s\S]*?)\*\/)|(?:([\s;])+\/\/(?:.*)$)/gm,u=r;return u.counters={},u.debug=function(e){s=e?function(){console.log.apply(console,[].slice.apply(arguments))}:function(){}},u.debug(!1),u.alias="loopProtect",u.protect=function(e){u.counters[e.line]=u.counters[e.line]||{};var t=u.counters[e.line],n=(new Date).getTime();return e.reset&&(t.time=n,t.hit=0,t.last=0),t.hit++,n-t.time>100?(u.hit(e.line),!0):(t.last++,!1)},u.hit=function(t){var n="Exiting potential infinite loop at line "+t+'. To disable loop protection: add "// noprotect" to your code';e.proxyConsole?e.proxyConsole.error(n):console.error(n)},u.reset=function(){u.counters={}},u})}});
//# sourceMappingURL=ng-apps-course-taking-v4-app.10.66833eab575362ea079e.js.map